{"version":3,"sources":["Windows/Components/ToolbarButton.jsx","Utils/URL.js","Windows/Components/WindowButton.jsx","Windows/Resources/dark/arrow_back.svg","Windows/Components/Tab.jsx","Windows/Resources/light/arrow_back.svg","Windows/Resources/dark/search.svg","Windows/Resources/light/search.svg","Windows/Components/TabButton.jsx","Windows/Resources/dark/close.svg","Windows/Components/WindowButtons.jsx","Windows/Resources/light/public.svg","Windows/Resources/light/close.svg","Windows/Components/Window.jsx","Windows/Components/WindowContent.jsx","Windows/Components/Titlebar.jsx","Windows/Resources/dark/info.svg","Windows/Resources/light/info.svg","Windows/Resources/dark/shield.svg","Windows/Resources/light/shield.svg","Windows/Resources/dark/file.svg","Windows/Resources/light/file.svg","Windows/Components/ContentEditable.jsx","Windows/Components/ToolbarTextBox.jsx","Windows/Components/Toolbar.jsx","Windows/Resources/dark/arrow_forward.svg","Windows/Resources/dark/reload.svg","Windows/Resources/dark/public.svg","Windows/Resources/dark/audio.svg","Windows/Resources/light/audio.svg","Windows/Resources/icon.png","Windows/Components/Tabs.jsx","Windows/Components/TabContent.jsx","Windows/Components/ToolbarDivider.jsx","Windows/Components/BookmarkBar.jsx","Windows/Components/ContentWrapper.jsx","Windows/Resources/light/arrow_forward.svg","Windows/Resources/inactive/arrow_back.svg","Windows/Resources/inactive/arrow_forward.svg","Windows/Resources/light/reload.svg","Windows/Resources/dark/home.svg","Windows/Resources/light/home.svg","Windows/Resources/dark/secure.svg","Windows/Resources/light/secure.svg","Windows/Resources/dark/insecure.svg","Windows/Resources/light/insecure.svg","Windows/Resources/dark/star.svg","Windows/Resources/light/star.svg","Windows/Resources/dark/star-filled.svg","Windows/Resources/light/star-filled.svg","Windows/Resources/dark/feedback.svg","Windows/Resources/light/feedback.svg","Windows/Resources/dark/account.svg","Windows/Resources/light/account.svg","Windows/Resources/dark/more.svg","Windows/Resources/light/more.svg","Windows/Resources/dark/add.svg","Windows/Resources/light/add.svg","Windows/Resources/dark/audio_mute.svg","Windows/Resources/light/audio_mute.svg","Windows/Resources/dark/translate.svg","Windows/Resources/light/translate.svg","Windows/Resources/dark/zoom_in.svg","Windows/Resources/light/zoom_in.svg","Windows/Resources/dark/zoom_out.svg","Windows/Resources/light/zoom_out.svg","Windows/Resources/windows/minimize.svg","Windows/Resources/windows/maximize.svg","Windows/Resources/windows/close.svg","Windows/Resources/dark/fullscreen_exit.svg","Windows/Resources/light/fullscreen_exit.svg","Windows/MainWindow2.js","Windows/Components/Menu/Menu.jsx","Windows/Components/Menu/MenuComponent.jsx","Windows/Components/Suggest/Suggest.jsx","Windows/Components/Suggest/SuggestComponent.jsx","Windows/MainWindow.js","Windows/Components/Button.jsx","Windows/InfomationWindow.js","Windows/PermissionWindow.js","Windows/MenuWindow.js","Windows/SuggestWindow.js","Windows/AuthenticationWindow.js","Windows/TranslateWindow.js","Windows/ApplicationWindow.js","App.js","serviceWorker.js","index.js"],"names":["ToolbarButton","styled","div","props","isMarginLeft","isShowing","isRight","src","size","isEnabled","isDarkModeOrPrivateMode","ToolbarButtonBadge","span","isURL","input","pattern","test","WindowButton","isWindowsOrLinux","isClose","isMinimize","module","exports","config","window","require","TabContainer","Tab","isFixed","isActive","undefined","accentColor","get","inActiveColor","TabIcon","img","TabTitle","TabStatusIcon","TabCloseButton","TabButton","WindowButtons","isCustomTitlebar","isMaximized","Window","color","WindowContent","Titlebar","Component","ToolbarTextBoxWrapper","buttonCount","ToolbarTextBox","Toolbar","isBookmarkBar","Tabs","TabContent","ToolbarDivider","BookmarkBar","ContentWrapper","isLoading","remote","ipcRenderer","app","shell","Menu","BrowserWindow","protocol","session","nativeImage","clipboard","dialog","systemPreferences","pkg","Notification","getAppPath","protocolStr","fileProtocolStr","httpsBack","platform","path","process","Datastore","db","pageSettings","filename","join","getPath","autoload","timestampData","favicons","historys","downloads","bookmarks","apps","lang","BrowserView","handleKeyDown","e","key","value","state","barText","webView","length","setState","isSuggestShowing","includes","loadURL","loadFile","replace","getSearchEngine","url","encodeURIComponent","setText","getURL","handleContextMenu","buildFromTemplate","label","view","contextMenu","editable","undo","accelerator","role","redo","type","cut","copy","paste","selectAll","popup","i","name","text","goBack","canGoBack","goForward","canGoForward","reload","isLoadingMainFrame","stop","goHome","certificate","title","description","toolBar","addressBar","info","clicked","internal","viewSource","file","String","windowId","startsWith","secure","country","insecure","send","viewUrl","isButton","bookMark","toolTip","findDOMNode","markTooltip","_tippy","show","setTimeout","hide","isBookmarked","id","index","isPrivate","userMenu","a","env","USERNAME","enabled","menu","menus","close","click","getCurrentWindow","x","getSize","y","moreMenu","newTab","addTab","newWindow","openPrivateWindow","zoom","submenu","zoomIn","icon","zoomOut","zoomDefault","fullScreen","history","list","run","store","print","find","settings","help","isDarwin","closeWindow","lightMode","darkMode","getFavicon","Promise","resolve","reject","findOne","err","doc","parsed","parse","favicon","hostname","getDomain","indexOf","split","getCertificate","options","host","port","method","request","res","connection","getPeerCertificate","subject","data","O","C","end","getCertificateIcon","bind","LightSecureIcon","DarkSecureIcon","LightInSecureIcon","DarkInSecureIcon","ApplicationIcon","LightSearchIcon","DarkSearchIcon","LightInfomationIcon","DarkInfomationIcon","getButtonCount","zoomSize","getForegroundColor","hexColor","parseInt","substr","blockCount","findText","suggestions","searchEngines","previousText","resultString","activeMatch","textBoxWidth","textBoxTop","textBoxLeft","isMenuShowing","this","forEach","item","global","textBox","clientWidth","getBoundingClientRect","top","left","addEventListener","document","getTitle","then","updateTab","isAudioMuted","isCurrentlyAudible","update","upsert","isMainFrame","result","activeMatchOrdinal","matches","finalUpdate","frameName","disposition","console","log","preventDefault","authInfo","callback","params","linkURL","hasImageContents","image","addView","srcURL","saveImage","webContents","copyImage","createFromDataURL","clear","writeImage","copyLink","writeText","devTool","isDevToolsOpened","devToolsWebContents","focus","openDevTools","link","application","addWindow","isEditable","isEmojiPanelSupported","emotePalette","showEmojiPanel","editFlags","canUndo","canRedo","canCut","canCopy","canPaste","canSelectAll","selection","textSearch","selectionText","visible","textLoad","back","forward","mediaType","media","audioMuteExit","audioMute","setAudioMuted","savePage","showSaveDialog","defaultPath","filters","extensions","fileName","translate","floatingWindow","checked","isAlwaysOnTop","isFullScreen","setAlwaysOnTop","on","args","infomationTooltip","setContent","content","forceUpdate","LightBackIcon","DarkBackIcon","BackInActiveIcon","onClick","LightForwardIcon","DarkForwardIcon","ForwardInActiveIcon","LightCloseIcon","DarkCloseIcon","LightReloadIcon","DarkReloadIcon","LightHomeIcon","DarkHomeIcon","home","ref","decodeURIComponent","onChange","target","onKeyDown","onFocus","select","onContextMenu","LightTranslateIcon","DarkTranslateIcon","style","right","borderRadius","LightZoomInIcon","DarkZoomInIcon","LightZoomOutIcon","DarkZoomOutIcon","bookmark","addPrivate","add","removePrivate","remove","theme","placement","arrow","trigger","LightStarFilledIcon","DarkStarFilledIcon","LightStarIcon","DarkStarIcon","LightShieldIcon","DarkShieldIcon","adBlock","LightFeedbackIcon","DarkFeedbackIcon","feedback","LightAccountIcon","DarkAccountIcon","LightMoreIcon","DarkMoreIcon","preload","height","allowpopups","webpreferences","MainWindow","componentDidMount","Sortable","create","tabContainer","group","match","filter","animation","sortable","set","toArray","urls","map","getTabs","tabs","removeTab","isAudioStatus","newTabs","concat","push","current","splice","getTab","getColor","isWin32","getAccentColor","showMessageBox","message","detail","checkboxLabel","checkboxChecked","noLink","buttons","defaultId","cancelId","response","views","isFocused","tab","data-id","className","DarkPublicIcon","LightPublicIcon","width","LightAudioIcon","LightAudioMuteIcon","DarkAudioIcon","DarkAudioMuteIcon","titleBar","audioPlaying","audioMuted","LightAddIcon","DarkAddIcon","new","minimize","viewBox","fill","maximize","restore","unmaximize","stroke","fill-rule","points","Button","ButtonTitle","hasIcon","ButtonAccelerator","Divider","isVertical","Dialog","isOpen","DialogHeader","DialogHeaderButton","DialogHeaderTitle","DialogContainer","MenuItem","MoreIcon","xmlns","MenuWindow","isInternal","u","tabId","closeMenu","getIconDirectory","display","position","boxSizing","verticalAlign","userInfo","marginBottom","paddingLeft","marginLeft","WebkitBoxAlign","alignItems","padding","borderLeft","toFixed","marginTop","edit","otherTools","getDevToolsWebContents","Suggest","SuggestListContainer","ul","SuggestListItem","li","SuggestListItemPrimaryText","SuggestListItemSecondaryText","SuggestListItemIcon","SuggestButton","SuggestComponent","showSuggest","componentDidUpdate","JSON","requestURL","toLowerCase","sort","b","slice","http","https","req","setEncoding","chunk","d","getSuggestIcon","DarkFileIcon","LightFileIcon","getSuggestSecondaryText","suggest","open","search","borderBottom","margin","tabIndex","backgroundColor","borderTop","listStyle","borderRight","alt","float","nativeTheme","getTheme","shouldUseDarkColors","currentTarget","InfomationWindow","isDisabledSite","isSubDomain","endsWith","sendResult","onMouseEnter","setIgnoreMouseEvents","onMouseLeave","justifyContent","dangerouslySetInnerHTML","__html","border","PermissionWindow","isChecked","permission","yes","no","isDarkMode","boxShadow","flexDirection","AuthenticationWindow","submit","user","userName","pass","passWord","whiteSpace","cursor","paddingRight","TranslateWindow","refs","executeJavaScript","partition","format","ApplicationWindow","isDestroyed","getViews","background","WebkitAppRegion","getWebContents","WebkitBoxPack","App","exact","component","MainWindow2","SuggestWindow","Boolean","location","ReactDOM","render","body","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9a68f5f0.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const ToolbarButton = styled.div`\r\n  width: 30px;\r\n  height: 30px;\r\n  margin: 5px;\r\n  margin-left: ${props => props.isMarginLeft ? '5px' : '0px'};\r\n  padding: 3px;\r\n  position: relative;\r\n  flex-grow: 0;\r\n  display: ${props => props.isShowing ? 'display' : 'none'};\r\n  float: ${props => props.isRight ? 'right' : 'left'};\r\n  background-color: initial;\r\n  border: none;\r\n  border-radius: 2px;\r\n  background-image: url(${props => props.src});\r\n  background-size: ${props => props.size}px;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  transition: 0.2s background-color;\r\n  outline: none;\r\n  &:hover {\r\n    ${props => props.isEnabled && `background-color: ${!props.isDarkModeOrPrivateMode ? 'rgba(0, 0, 0, 0.06)' : 'rgba(130, 130, 130, 0.3)'};`}\r\n  }\r\n  &:active {\r\n    ${props => props.isEnabled && `background-color: ${!props.isDarkModeOrPrivateMode ? 'rgba(0, 0, 0, 0.12)' : 'rgba(130, 130, 130, 0.6)'};`}\r\n  }\r\n`;\r\n\r\nexport const ToolbarButtonBadge = styled.span`\r\n  width: 18px;\r\n  height: 18px;\r\n  padding: 5px;\r\n  position: absolute;\r\n  bottom: 6px;\r\n  right: 6px;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n  background-color: #999999;\r\n  font-size: 0.7em;\r\n  line-height: 1;\r\n  box-shadow: 0px 0px 3px #999;\r\n  text-align: center;\r\n  transform: translate(50%, 50%);color: white;\r\n  box-sizing: border-box;\r\n`;","export const isURL = (input) => {\r\n    const pattern = /^((?:\\w+:)?\\/\\/([^\\s.]+\\.\\S{2}|localhost[:?\\d]*)|flast:\\/\\/\\S.*|flast-file:\\/\\/\\S.*|file:\\/\\/\\S.*)\\S*$/;\r\n\r\n    if (pattern.test(input)) {\r\n        return true;\r\n    }\r\n    return pattern.test(`http://${input}`);\r\n}\r\n\r\nexport const prefixHttp = (url) => {\r\n    url = url.trim();\r\n    return url.includes('://') ? url : `http://${url}`;\r\n}","import styled from 'styled-components';\r\n\r\nconst WindowButton = styled.div`\r\n  ${props => props.isWindowsOrLinux ? `\r\n    width: 45px;\r\n    height: 100%;\r\n    min-width: 45px;\r\n    position: relative;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n    align-items: center;\r\n    -webkit-box-pack: center;\r\n    justify-content: center;\r\n    margin-right: 1px;\r\n    transition: 0.2s background-color;\r\n    box-sizing: border-box;\r\n    -webkit-app-region: no-drag;\r\n    &:first-child {\r\n      margin-right: 0;\r\n    }\r\n    &:hover {\r\n      background-color: ${props.isClose ? '#e81123' : 'rgba(196, 196, 196, 0.4)'};\r\n    }\r\n  ` : `\r\n    width: 12px;\r\n    height: 12px;\r\n    position: relative;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    box-sizing: border-box;\r\n    -webkit-app-region: no-drag;\r\n    background-color: ${props.isClose ? '#ff6058' : `${props.isMinimize ? '#ffbd2e' : '#27ca41'}`};\r\n  `}\r\n`;\r\n\r\nexport default WindowButton;","module.exports = __webpack_public_path__ + \"static/media/arrow_back.2bb756b4.svg\";","import styled from 'styled-components';\r\nimport TabButton from './TabButton';\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst buttonSize = 18;\r\nconst paddingSize = 8;\r\n\r\nexport const TabContainer = styled.div`\r\n  width: calc(100% - (26px + 3px * 2));\r\n  height: 100%;\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  -webkit-app-region: no-drag;\r\n`;\r\n\r\nexport const Tab = styled.div`\r\n  width: ${props => props.isFixed ? '35px' : '225px'};\r\n  height: 103%;\r\n  padding: 6px ${paddingSize}px;\r\n  position: relative;\r\n  background-color: ${props => props.isActive ? (!props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535') : 'initial'};\r\n  border-top: ${props => props.isActive ? `solid 2px ${props.accentColor !== undefined ? props.accentColor : config.get('design.tabAccentColor')}` : 'solid 2px transparent'};\r\n  border-right: solid 0.5px #8b8b8b;\r\n  color: ${props => props.isActive ? (!props.isDarkModeOrPrivateMode ? 'black' : 'white') : props.inActiveColor};\r\n  font-size: 11px;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  transition: 0.2s background-color;\r\n  box-sizing: border-box;\r\n  -webkit-app-region: no-drag;\r\n  &:hover {\r\n    background-color: ${props => !props.isActive ? 'rgba(196, 196, 196, 0.4)' : (!props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535')};\r\n    border-top: ${props => props.isActive ? `solid 2px ${props.accentColor !== undefined ? props.accentColor : config.get('design.tabAccentColor')}` : 'solid 2px solid 2px rgba(130, 130, 130, 0.6)'};\r\n  }\r\n  &:active {\r\n    background-color: ${props => !props.isActive ? 'rgba(130, 130, 130, 0.6)' : (!props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535')};\r\n  }\r\n`;\r\n\r\nexport const TabIcon = styled.img`\r\n  width: ${buttonSize}px;\r\n  height: ${buttonSize}px;\r\n  -webkit-user-drag: none;\r\n`;\r\n\r\nexport const TabTitle = styled.div`\r\n  width: ${props => `calc(100% - (${paddingSize}px * ${props.isShowing ? 3 : 2} + (${buttonSize}px * ${props.isShowing ? 3 : 2} + 3px * ${props.isShowing ? 3 : 2})))`};\r\n  left: 32px;\r\n  display: ${props => props.isFixed ? 'none' : 'block'};\r\n  top: 7px;\r\n  position: absolute;\r\n  font-size: 11px;\r\n  /* font-family: 'Noto Sans', sans-serif; */\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const TabStatusIcon = styled.div`\r\n  width: ${buttonSize}px;\r\n  height: ${buttonSize}px;\r\n  display: ${props => !props.isFixed && props.isShowing ? 'block' : 'none'};\r\n  margin: 0px;\r\n  padding: 3px;\r\n  top: 6px;\r\n  position: absolute;\r\n  right: 30px;\r\n  color: ${props => props.isActive ? 'black' : 'white'};\r\n  background-image: url(${props => props.src});\r\n  background-size: 14px;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport const TabCloseButton = styled(TabButton)`\r\n  width: ${buttonSize}px;\r\n  height: ${buttonSize}px;\r\n  display: ${props => !props.isFixed ? 'block' : 'none'};\r\n  margin: 0px;\r\n  padding: 3px;\r\n  top: 6px;\r\n  right: 8px;\r\n  background-size: 14px;\r\n  position: absolute;\r\n  float: none;\r\n`;","module.exports = __webpack_public_path__ + \"static/media/arrow_back.ac3c590b.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.359d6256.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.63de706a.svg\";","import styled from 'styled-components';\r\n\r\nconst TabButton = styled.div`\r\n  background-color: initial;\r\n  border: none;\r\n  border-radius: 2px;\r\n  width: 26px;\r\n  height: 26px;\r\n  margin: 3px;\r\n  padding: 3px;\r\n  color: ${props => props.isActive ? 'black' : 'white'};\r\n  background-image: url(${props => props.src});\r\n  background-size: ${props => props.size}px;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  transition: 0.2s background-color;\r\n  box-sizing: border-box;\r\n  float: ${props => props.isRight ? 'right' : 'left'};\r\n  &:hover {\r\n    background-color: rgba(130, 130, 130, 0.3);\r\n  }\r\n  &:active {\r\n    background-color: rgba(130, 130, 130, 0.6);\r\n  }\r\n`;\r\n\r\nexport default TabButton;","module.exports = __webpack_public_path__ + \"static/media/close.2c4593aa.svg\";","import styled from 'styled-components';\r\n\r\nconst WindowButtons = styled.div`\r\n  ${props => props.isWindowsOrLinux ? `\r\n    width: auto;\r\n    height: 32px;\r\n    display: ${props.isCustomTitlebar ? 'flex' : 'none'};\r\n    position: absolute;\r\n    top: ${props.isMaximized ? 0 : 1}px;\r\n    right: 0px;\r\n    box-sizing: border-box;\r\n  ` : `\r\n    width: 74px;\r\n    height: 32px;\r\n    box-sizing: border-box;\r\n  `}\r\n`;\r\n\r\nexport default WindowButtons;","module.exports = __webpack_public_path__ + \"static/media/public.8ac83418.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.d53a82e3.svg\";","import styled from 'styled-components';\r\n\r\nconst borderColor = '#8b8b8b';\r\n\r\nconst Window = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  border: ${props => props.isMaximized ? 'none' : (props.isCustomTitlebar ? (props.isActive ? `solid 1px ${props.color !== undefined ? props.color : borderColor}` : `solid 1px ${borderColor}`) : 'none')};\r\n`;\r\n\r\nexport default Window;","import styled from 'styled-components';\r\n\r\nconst WindowContent = styled.div`\r\n  width: 100%;\r\n  height: calc(100% - 33px);\r\n`;\r\n\r\nexport default WindowContent;","import styled from 'styled-components';\r\n\r\nconst Titlebar = styled.div`\r\n  width: 100%;\r\n  height: 33px;\r\n  background: ${props => props.isActive ? (props.color !== undefined ? props.color : '#202340') : '#c7c7c7'};\r\n  border-bottom: solid 0.5px #8b8b8b;\r\n  -webkit-app-region: drag;\r\n`;\r\n\r\nexport default Titlebar;","module.exports = __webpack_public_path__ + \"static/media/info.59819967.svg\";","module.exports = __webpack_public_path__ + \"static/media/info.59d1a698.svg\";","module.exports = __webpack_public_path__ + \"static/media/shield.38ca94d7.svg\";","module.exports = __webpack_public_path__ + \"static/media/shield.e6961caf.svg\";","module.exports = __webpack_public_path__ + \"static/media/file.085b8a58.svg\";","module.exports = __webpack_public_path__ + \"static/media/file.07f4b269.svg\";","import React, { Component, createRef } from 'react';\r\n\r\nexport default class ContentEditable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.elem = createRef();\r\n    }\r\n    onChange = e => {\r\n        const { onChange } = this.props;\r\n        const value = this.elem.current.innerText;\r\n\r\n        onChange && onChange(e, value);\r\n    };\r\n\r\n    onPaste = e => {\r\n        const { onPaste } = this.props;\r\n        e.preventDefault();\r\n        const text = e.clipboardData.getData('text');\r\n        document.execCommand('insertText', false, text);\r\n\r\n        onPaste && onPaste(e);\r\n    };\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        return nextProps.html !== this.elem.current.innerText;\r\n    }\r\n\r\n    render() {\r\n        const { node, html, editable } = this.props;\r\n        const Element = node || 'div';\r\n\r\n        return (\r\n            <Element\r\n                ref={this.elem}\r\n                dangerouslySetInnerHTML={{ __html: html }}\r\n                contentEditable={editable}\r\n                onInput={this.onChange}\r\n                onPaste={this.onPaste}\r\n            />\r\n        );\r\n    }\r\n}","import styled from 'styled-components';\r\n\r\nimport ContentEditable from './ContentEditable';\r\nimport { Component } from 'react';\r\n\r\nconst buttonSize = 30;\r\nconst radiusSize = 2;\r\n\r\nexport const ToolbarTextBoxWrapper = styled.div`\r\n  /* width: calc((100% - 40px * ${props => props.buttonCount}) - 25px); */\r\n  height: 30px;\r\n  margin: 5px;\r\n  padding: 0px;\r\n  flex-grow: 4;\r\n  position: relative;\r\n  font-size: 14.5px;\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? 'white' : '#252525'};\r\n  border: solid 1px #c1c1c1;\r\n  border-radius: ${radiusSize}px;\r\n  outline: none;\r\n  color: ${props => !props.isDarkModeOrPrivateMode ? 'black' : 'white'};\r\n  box-sizing: border-box;\r\n  &:hover, &:focus {\r\n    box-shadow: 0 5px 10px -3px rgba(0,0,0,.15), 0 0 3px rgba(0,0,0,.1);\r\n    transition: 0.2s;\r\n  }\r\n\r\n  div {\r\n    width: ${buttonSize}px;\r\n    height: 100%;\r\n    margin: 0px;\r\n    position: absolute;\r\n  }\r\n\r\n  div:first-child {\r\n    left: 0px;\r\n    border-top-left-radius: ${radiusSize}px;\r\n    border-bottom-left-radius: ${radiusSize}px;\r\n    border-top-right-radius: 0px;\r\n    border-bottom-right-radius: 0px;\r\n  }\r\n\r\n  div:last-child {\r\n    right: 0px;\r\n    border-top-left-radius: 0px;\r\n    border-bottom-left-radius: 0px;\r\n    border-top-right-radius: ${radiusSize}px;\r\n    border-bottom-right-radius: ${radiusSize}px;\r\n  }\r\n`;\r\n\r\nexport const ToolbarTextBox = styled.input`\r\n  width: calc(100% - (${buttonSize}px * ${props => props.buttonCount}));\r\n  height: 100%;\r\n  margin: 0px;\r\n  padding: 3px 5px;\r\n  left: ${buttonSize}px;\r\n  right: ${buttonSize}px;\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n  outline: none;\r\n  cursor: initial;\r\n  background: unset;\r\n  border: none;\r\n  /* border-left: solid 1px #c1c1c1; */\r\n  /* border-right: solid 1px #c1c1c1; */\r\n`;","import styled from 'styled-components';\r\n\r\nconst Toolbar = styled.div`\r\n  width: 100%;\r\n  height: 40px;\r\n  display: flex;\r\n  align-content: space-around;\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  border-bottom: ${props => !props.isBookmarkBar ? `solid 1px ${!props.isDarkModeOrPrivateMode ? '#e1e1e1' : '#8b8b8b'}` : 'none'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport default Toolbar;","module.exports = __webpack_public_path__ + \"static/media/arrow_forward.1b61c6f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/reload.5264f355.svg\";","module.exports = __webpack_public_path__ + \"static/media/public.2a0b7e3e.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.4e78c985.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.2185b394.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon.c4ea559f.png\";","import styled from 'styled-components';\r\n\r\nconst windowsAndLinux = 220;\r\nconst macOS = 74;\r\n\r\nconst Tabs = styled.div`\r\n  width: fit-content;\r\n  max-width: ${props => props.isCustomTitlebar ? `calc(100% - ${props.isWindowsOrLinux ? windowsAndLinux : macOS}px)` : '100%'};\r\n  height: 100%;\r\n  position: relative;\r\n  display: flex;\r\n  left: ${props => !props.isWindowsOrLinux ? `${macOS}px` : '0px'};\r\n  border-left: ${props => !props.isWindowsOrLinux ? `solid 0.5px #8b8b8b` : 'none'};\r\n  background: initial;\r\n  -webkit-app-region: no-drag;\r\n`;\r\n\r\nexport default Tabs;","import styled from 'styled-components';\r\n\r\nconst TabContent = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: ${props => props.isActive ? 'block' : 'none'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport default TabContent;","import styled from 'styled-components';\r\n\r\nconst ToolbarDivider = styled.div`\r\n  background-color: initial;\r\n  width: 1px;\r\n  height: 30px;\r\n  margin: 5px;\r\n  border-left: solid 1px ${props => !props.isDarkModeOrPrivateMode ? '#e1e1e1' : '#8b8b8b'};\r\n`;\r\n\r\nexport default ToolbarDivider;","import styled from 'styled-components';\r\n\r\nconst BookmarkBar = styled.div`\r\n  width: 100%;\r\n  height: 28px;\r\n  display: ${props => props.isBookmarkBar ? 'flex' : 'none'};\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  border-bottom: solid 1px ${props => !props.isDarkModeOrPrivateMode ? '#e1e1e1' : '#8b8b8b'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport default BookmarkBar;","import styled from 'styled-components';\r\n\r\nconst ContentWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: ${props => props.isLoading ? (!props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535') : 'initial'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport default ContentWrapper;","module.exports = __webpack_public_path__ + \"static/media/arrow_forward.992a373b.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_back.a971f6ea.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_forward.bcafbf33.svg\";","module.exports = __webpack_public_path__ + \"static/media/reload.5d1fc53d.svg\";","module.exports = __webpack_public_path__ + \"static/media/home.0cef20f6.svg\";","module.exports = __webpack_public_path__ + \"static/media/home.5a70e98d.svg\";","module.exports = __webpack_public_path__ + \"static/media/secure.85f91099.svg\";","module.exports = __webpack_public_path__ + \"static/media/secure.a3d7f9f1.svg\";","module.exports = __webpack_public_path__ + \"static/media/insecure.49457890.svg\";","module.exports = __webpack_public_path__ + \"static/media/insecure.a5e4a263.svg\";","module.exports = __webpack_public_path__ + \"static/media/star.a390edd5.svg\";","module.exports = __webpack_public_path__ + \"static/media/star.f02a9cc4.svg\";","module.exports = __webpack_public_path__ + \"static/media/star-filled.861404bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/star-filled.d0367478.svg\";","module.exports = __webpack_public_path__ + \"static/media/feedback.c3ecabd2.svg\";","module.exports = __webpack_public_path__ + \"static/media/feedback.18abdd3a.svg\";","module.exports = __webpack_public_path__ + \"static/media/account.2e3d8196.svg\";","module.exports = __webpack_public_path__ + \"static/media/account.a1c16db9.svg\";","module.exports = __webpack_public_path__ + \"static/media/more.b931e30d.svg\";","module.exports = __webpack_public_path__ + \"static/media/more.db245711.svg\";","module.exports = __webpack_public_path__ + \"static/media/add.768fa58b.svg\";","module.exports = __webpack_public_path__ + \"static/media/add.07d6de85.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio_mute.3c55dba5.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio_mute.7e877b91.svg\";","module.exports = __webpack_public_path__ + \"static/media/translate.ed5fe85f.svg\";","module.exports = __webpack_public_path__ + \"static/media/translate.15669922.svg\";","module.exports = __webpack_public_path__ + \"static/media/zoom_in.a50a6d41.svg\";","module.exports = __webpack_public_path__ + \"static/media/zoom_in.a042928e.svg\";","module.exports = __webpack_public_path__ + \"static/media/zoom_out.82d9a1ee.svg\";","module.exports = __webpack_public_path__ + \"static/media/zoom_out.207fd70b.svg\";","module.exports = __webpack_public_path__ + \"static/media/minimize.bfcd1fca.svg\";","module.exports = __webpack_public_path__ + \"static/media/maximize.31186664.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.e1380b07.svg\";","module.exports = __webpack_public_path__ + \"static/media/fullscreen_exit.d17d4cb7.svg\";","module.exports = __webpack_public_path__ + \"static/media/fullscreen_exit.6a99b7bc.svg\";","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport Tippy from '@tippy.js/react';\r\nimport Sortable from 'sortablejs';\r\n\r\nimport Window from './Components/Window';\r\nimport WindowButtons from './Components/WindowButtons';\r\nimport WindowButton from './Components/WindowButton';\r\nimport WindowContent from './Components/WindowContent';\r\nimport Titlebar from './Components/Titlebar';\r\nimport Tabs from './Components/Tabs';\r\nimport { TabContainer, Tab, TabIcon, TabTitle, TabStatusIcon, TabCloseButton } from './Components/Tab';\r\nimport TabButton from './Components/TabButton';\r\nimport TabContent from './Components/TabContent';\r\nimport Toolbar from './Components/Toolbar';\r\nimport { ToolbarButton, ToolbarButtonBadge } from './Components/ToolbarButton';\r\nimport ToolbarDivider from './Components/ToolbarDivider';\r\nimport { ToolbarTextBoxWrapper, ToolbarTextBox, ToolbarTextBox2 } from './Components/ToolbarTextBox';\r\nimport BookmarkBar from './Components/BookmarkBar';\r\nimport ContentWrapper from './Components/ContentWrapper';\r\n\r\nimport MenuComponent from './Components/Menu/MenuComponent';\r\nimport SuggestComponent from './Components/Suggest/SuggestComponent';\r\n\r\nimport ApplicationIcon from './Resources/icon.png';\r\n\r\nimport WindowMinimizeIcon from './Resources/windows/minimize.svg';\r\nimport WindowMaximizeIcon from './Resources/windows/maximize.svg';\r\nimport WindowCloseIcon from './Resources/windows/close.svg';\r\n\r\nimport DarkFullScreenExitIcon from './Resources/dark/fullscreen_exit.svg';\r\nimport LightFullScreenExitIcon from './Resources/light/fullscreen_exit.svg';\r\n\r\nimport DarkBackIcon from './Resources/dark/arrow_back.svg';\r\nimport LightBackIcon from './Resources/light/arrow_back.svg';\r\nimport DarkForwardIcon from './Resources/dark/arrow_forward.svg';\r\nimport LightForwardIcon from './Resources/light/arrow_forward.svg';\r\n\r\nimport BackInActiveIcon from './Resources/inactive/arrow_back.svg';\r\nimport ForwardInActiveIcon from './Resources/inactive/arrow_forward.svg';\r\n\r\nimport DarkReloadIcon from './Resources/dark/reload.svg';\r\nimport LightReloadIcon from './Resources/light/reload.svg';\r\nimport DarkHomeIcon from './Resources/dark/home.svg';\r\nimport LightHomeIcon from './Resources/light/home.svg';\r\n\r\nimport DarkInfomationIcon from './Resources/dark/info.svg';\r\nimport LightInfomationIcon from './Resources/light/info.svg';\r\n\r\nimport DarkSecureIcon from './Resources/dark/secure.svg';\r\nimport LightSecureIcon from './Resources/light/secure.svg';\r\nimport DarkInSecureIcon from './Resources/dark/insecure.svg';\r\nimport LightInSecureIcon from './Resources/light/insecure.svg';\r\n\r\nimport DarkTranslateIcon from './Resources/dark/translate.svg';\r\nimport LightTranslateIcon from './Resources/light/translate.svg';\r\n\r\nimport DarkZoomInIcon from './Resources/dark/zoom_in.svg';\r\nimport LightZoomInIcon from './Resources/light/zoom_in.svg';\r\nimport DarkZoomOutIcon from './Resources/dark/zoom_out.svg';\r\nimport LightZoomOutIcon from './Resources/light/zoom_out.svg';\r\n\r\nimport DarkStarIcon from './Resources/dark/star.svg';\r\nimport LightStarIcon from './Resources/light/star.svg';\r\nimport DarkStarFilledIcon from './Resources/dark/star-filled.svg';\r\nimport LightStarFilledIcon from './Resources/light/star-filled.svg';\r\n\r\nimport DarkFeedbackIcon from './Resources/dark/feedback.svg';\r\nimport LightFeedbackIcon from './Resources/light/feedback.svg';\r\nimport DarkAccountIcon from './Resources/dark/account.svg';\r\nimport LightAccountIcon from './Resources/light/account.svg';\r\n\r\nimport DarkShieldIcon from './Resources/dark/shield.svg';\r\nimport LightShieldIcon from './Resources/light/shield.svg';\r\n\r\nimport DarkMoreIcon from './Resources/dark/more.svg';\r\nimport LightMoreIcon from './Resources/light/more.svg';\r\n\r\nimport DarkPublicIcon from './Resources/dark/public.svg';\r\nimport LightPublicIcon from './Resources/light/public.svg';\r\n\r\nimport PublicIcon from './Resources/light/public.svg';\r\n\r\nimport DarkAddIcon from './Resources/dark/add.svg';\r\nimport LightAddIcon from './Resources/light/add.svg';\r\nimport DarkCloseIcon from './Resources/dark/close.svg';\r\nimport LightCloseIcon from './Resources/light/close.svg';\r\n\r\nimport DarkAudioIcon from './Resources/dark/audio.svg';\r\nimport LightAudioIcon from './Resources/light/audio.svg';\r\nimport DarkAudioMuteIcon from './Resources/dark/audio_mute.svg';\r\nimport LightAudioMuteIcon from './Resources/light/audio_mute.svg';\r\n\r\nimport DarkFileIcon from './Resources/dark/file.svg';\r\nimport LightFileIcon from './Resources/light/file.svg';\r\nimport DarkSearchIcon from './Resources/dark/search.svg';\r\nimport LightSearchIcon from './Resources/light/search.svg';\r\n\r\nimport 'tippy.js/dist/tippy.css';\r\nimport 'tippy.js/themes/light.css';\r\nimport 'tippy.js/themes/light-border.css';\r\nimport 'tippy.js/themes/material.css';\r\nimport 'tippy.js/themes/translucent.css';\r\n\r\nimport * as httpFront from 'http';\r\nimport * as httpsFront from 'https';\r\nimport { parse, format } from 'url';\r\n\r\nimport { isURL, prefixHttp } from '../Utils/URL';\r\n\r\nconst { remote, ipcRenderer, shell } = window.require('electron');\r\nconst { app, BrowserWindow, protocol, session, Menu, nativeImage, clipboard, dialog, systemPreferences, Notification } = remote;\r\n\r\nconst pkg = window.require(`${app.getAppPath()}/package.json`);\r\nconst protocolStr = 'flast';\r\nconst fileProtocolStr = `${protocolStr}-file`;\r\n\r\nconst httpBack = window.require('http');\r\nconst httpsBack = window.require('https');\r\n\r\nconst platform = window.require('electron-platform');\r\nconst path = window.require('path');\r\nconst process = window.require('process');\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst Datastore = window.require('nedb');\r\nlet db = {};\r\ndb.pageSettings = new Datastore({\r\n\tfilename: path.join(app.getPath('userData'), 'Files', 'PageSettings.db'),\r\n\tautoload: true,\r\n\ttimestampData: true\r\n});\r\ndb.favicons = new Datastore({\r\n\tfilename: path.join(app.getPath('userData'), 'Files', 'Favicons.db'),\r\n\tautoload: true,\r\n\ttimestampData: true\r\n});\r\n\r\ndb.historys = new Datastore({\r\n\tfilename: path.join(app.getPath('userData'), 'Files', 'History.db'),\r\n\tautoload: true,\r\n\ttimestampData: true\r\n});\r\ndb.downloads = new Datastore({\r\n\tfilename: path.join(app.getPath('userData'), 'Files', 'Download.db'),\r\n\tautoload: true,\r\n\ttimestampData: true\r\n});\r\ndb.bookmarks = new Datastore({\r\n\tfilename: path.join(app.getPath('userData'), 'Files', 'Bookmarks.db'),\r\n\tautoload: true,\r\n\ttimestampData: true\r\n});\r\n\r\ndb.apps = new Datastore({\r\n\tfilename: path.join(app.getPath('userData'), 'Files', 'Apps.db'),\r\n\tautoload: true,\r\n\ttimestampData: true\r\n});\r\n\r\nconst lang = window.require(`${app.getAppPath()}/langs/${config.get('language') != undefined ? config.get('language') : 'ja'}.js`);\r\n\r\nclass BrowserView extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.blockCount = 0;\r\n\r\n\t\tthis.state = {\r\n\t\t\tbarText: '',\r\n\t\t\tfindText: '',\r\n\t\t\tsuggestions: [],\r\n\t\t\tsearchEngines: [],\r\n\t\t\tpreviousText: '',\r\n\t\t\tresultString: '',\r\n\t\t\tactiveMatch: 0,\r\n\t\t\tcertificate: {},\r\n\t\t\tviewUrl: '',\r\n\t\t\tzoomSize: 1,\r\n\t\t\tisLoading: false,\r\n\t\t\tcanGoBack: false,\r\n\t\t\tcanGoForward: false,\r\n\t\t\tisBookmarked: false,\r\n\t\t\tisShowing: true,\r\n\t\t\ttextBoxWidth: 0,\r\n\t\t\ttextBoxTop: 0,\r\n\t\t\ttextBoxLeft: 0,\r\n\t\t\tisMenuShowing: false,\r\n\t\t\tisSuggestShowing: false\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ zoomSize: config.get('pageSettings.defaultZoomSize') });\r\n\r\n\t\tconfig.get('searchEngine.searchEngines').forEach((item, i) => {\r\n\t\t\tthis.setState(state => { return { searchEngines: [...state.searchEngines, item] }; });\r\n\t\t});\r\n\r\n\t\tlet webView = this.webView;\r\n\t\tlet props = this.props;\r\n\r\n\t\tglobal.setTimeout(() => {\r\n\t\t\tthis.setState({ textBoxWidth: this.textBox.clientWidth, textBoxTop: this.textBox.getBoundingClientRect().top, textBoxLeft: this.textBox.getBoundingClientRect().left });\r\n\t\t}, 0);\r\n\r\n\t\t/*\r\n        webView.addEventListener('did-start-loading', this.setState({ canGoBack: webView.canGoBack(), canGoForward: webView.canGoForward() }));\r\n        webView.addEventListener('did-stop-loading', this.setState({ canGoBack: webView.canGoBack(), canGoForward: webView.canGoForward() }));\r\n\r\n        webView.addEventListener('did-start-navigation', async (e, url, isInPlace, isMainFrame, processId, routingId) => {\r\n            this.setState({ canGoBack: webView.canGoBack(), canGoForward: webView.canGoForward() });\r\n\t\t}, false);\r\n\t\t*/\r\n\r\n\t\twebView.addEventListener('did-finish-load', (e) => {\r\n\t\t\tdocument.title = `${webView.getTitle()} - ${pkg.name}`;\r\n\t\t\tthis.setText(webView.getURL());\r\n\t\t\tthis.setState({ isLoading: webView.isLoadingMainFrame(), canGoBack: webView.canGoBack(), canGoForward: webView.canGoForward(), barText: webView.getURL() });\r\n\r\n\t\t\tthis.getFavicon(webView.getURL()).then(favicon => {\r\n\t\t\t\tthis.props.updateTab(webView.getTitle(), favicon, !webView.isAudioMuted() ? (webView.isCurrentlyAudible() ? 1 : 0) : -1, this.props.index);\r\n\t\t\t});\r\n\t\t\tthis.getCertificate(webView.getURL()).then(certificate => {\r\n\t\t\t\tthis.setState({ certificate });\r\n\t\t\t});\r\n\t\t}, false);\r\n\r\n\t\twebView.addEventListener('page-title-updated', (e) => {\r\n\t\t\tdocument.title = `${webView.getTitle()} - ${pkg.name}`;\r\n\r\n\t\t\tthis.setText(webView.getURL());\r\n\t\t\tthis.setState({ isLoading: webView.isLoadingMainFrame(), canGoBack: webView.canGoBack(), canGoForward: webView.canGoForward(), barText: webView.getURL() });\r\n\r\n\t\t\tthis.getFavicon(webView.getURL()).then(favicon => {\r\n\t\t\t\tthis.props.updateTab(webView.getTitle(), favicon, !webView.isAudioMuted() ? (webView.isCurrentlyAudible() ? 1 : 0) : -1, this.props.index);\r\n\t\t\t});\r\n\t\t}, false);\r\n\r\n\t\twebView.addEventListener('page-favicon-updated', (e) => {\r\n\t\t\tdb.favicons.update({ url: webView.getURL() }, { url: webView.getURL(), favicon: e.favicons[0] }, { upsert: true });\r\n\r\n\t\t\tthis.setText(webView.getURL());\r\n\t\t\tthis.setState({ isLoading: webView.isLoadingMainFrame(), canGoBack: webView.canGoBack(), canGoForward: webView.canGoForward(), barText: webView.getURL() });\r\n\r\n\t\t\tthis.getFavicon(webView.getURL()).then(favicon => {\r\n\t\t\t\tthis.props.updateTab(webView.getTitle(), favicon, !webView.isAudioMuted() ? (webView.isCurrentlyAudible() ? 1 : 0) : -1, this.props.index);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\twebView.addEventListener('load-commit', (e) => {\r\n\t\t\tif (!e.isMainFrame) return;\r\n\t\t\tdocument.title = `${webView.getTitle()} - ${pkg.name}`;\r\n\r\n\t\t\tthis.setText(webView.getURL());\r\n\t\t\tthis.setState({ isLoading: webView.isLoadingMainFrame(), canGoBack: webView.canGoBack(), canGoForward: webView.canGoForward(), barText: webView.getURL() });\r\n\r\n\t\t\tthis.getFavicon(webView.getURL()).then(favicon => {\r\n\t\t\t\tthis.props.updateTab(webView.getTitle(), favicon, !webView.isAudioMuted() ? (webView.isCurrentlyAudible() ? 1 : 0) : -1, this.props.index);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\twebView.addEventListener('found-in-page', (e, result) => {\r\n\t\t\tif (result.activeMatchOrdinal) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tactiveMatch: result.activeMatchOrdinal,\r\n\t\t\t\t\tresultString: `${this.state.activeMatch}/${result.matches}`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (result.finalUpdate) {\r\n\t\t\t\tthis.setState({ resultString: `${this.state.activeMatch}/${result.matches}` });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\twebView.addEventListener('new-window', (e) => {\r\n\t\t\tconst { url, frameName, disposition, options } = e;\r\n\r\n\t\t\tconsole.log(e);\r\n\r\n\t\t\tif (disposition === 'new-window') {\r\n\t\t\t\tif (frameName === '_self') {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\twebView.loadURL(url);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t/*\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tconst win = new BrowserWindow({\r\n\t\t\t\t\t\twebContents: options.webContents, // 提供されていれば既存の webContents を使う\r\n\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// win.setMenu(this.getMenu(this.application, win));\r\n\t\t\t\t\twin.once('ready-to-show', () => win.show());\r\n\t\t\t\t\tif (!options.webContents)\r\n\t\t\t\t\t\twin.loadURL(url);\r\n\t\t\t\t\te.newGuest = win;\r\n\t\t\t\t\t*/\r\n\t\t\t\t}\r\n\t\t\t} else if (disposition === 'foreground-tab') {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.props.addTab(url, true);\r\n\t\t\t} else if (disposition === 'background-tab') {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.props.addTab(url, false);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\twebView.addEventListener('login', (e, request, authInfo, callback) => {\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\r\n\t\twebView.addEventListener('context-menu', (e) => {\r\n\t\t\tconst params = e.params;\r\n\r\n\t\t\tlet menu;\r\n\t\t\tif (params.linkURL !== '' && !params.hasImageContents) {\r\n\t\t\t\tmenu = Menu.buildFromTemplate(\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.link.newTab,\r\n\t\t\t\t\t\t\tclick: () => { this.props.addTab(params.linkURL, false); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.link.newWindow,\r\n\t\t\t\t\t\t\tclick: () => { this.application.addWindow(false, params.linkURL); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.link.openPrivateWindow,\r\n\t\t\t\t\t\t\tclick: () => { this.application.addWindow(true, params.linkURL); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.link.copy,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/copy.png`,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+C',\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tclipboard.clear();\r\n\t\t\t\t\t\t\t\tclipboard.writeText(params.linkURL);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.devTool,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+Shift+I',\r\n\t\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\twebView.isDevToolsOpened() ? webView.devToolsWebContents.focus() : webView.openDevTools();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t);\r\n\t\t\t} else if (params.linkURL === '' && params.hasImageContents) {\r\n\t\t\t\tmenu = Menu.buildFromTemplate(\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.image.newTab,\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tthis.addView(params.srcURL, false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.image.saveImage,\r\n\t\t\t\t\t\t\tenabled: !webView.webContents.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.image.copyImage,\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tconst img = nativeImage.createFromDataURL(params.srcURL);\r\n\r\n\t\t\t\t\t\t\t\tclipboard.clear();\r\n\t\t\t\t\t\t\t\tclipboard.writeImage(img);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.image.copyLink,\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tclipboard.clear();\r\n\t\t\t\t\t\t\t\tclipboard.writeText(params.srcURL);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.devTool,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+Shift+I',\r\n\t\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\twebView.isDevToolsOpened() ? webView.devToolsWebContents.focus() : webView.openDevTools();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t);\r\n\t\t\t} else if (params.linkURL !== '' && params.hasImageContents) {\r\n\t\t\t\tmenu = Menu.buildFromTemplate(\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.link.newTab,\r\n\t\t\t\t\t\t\tclick: () => { this.addView(params.linkURL, false); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.link.newWindow,\r\n\t\t\t\t\t\t\tclick: () => { this.application.addWindow(false, params.linkURL); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.link.openPrivateWindow,\r\n\t\t\t\t\t\t\tclick: () => { this.application.addWindow(true, params.linkURL); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.link.copy,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/copy.png`,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+C',\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tclipboard.clear();\r\n\t\t\t\t\t\t\t\tclipboard.writeText(params.linkURL);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.image.newTab,\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tthis.addView(params.srcURL, false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.image.saveImage,\r\n\t\t\t\t\t\t\tenabled: !webView.webContents.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.image.copyImage,\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tconst img = nativeImage.createFromDataURL(params.srcURL);\r\n\r\n\t\t\t\t\t\t\t\tclipboard.clear();\r\n\t\t\t\t\t\t\t\tclipboard.writeImage(img);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.image.copyLink,\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tclipboard.clear();\r\n\t\t\t\t\t\t\t\tclipboard.writeText(params.srcURL);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.devTool,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+Shift+I',\r\n\t\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\twebView.isDevToolsOpened() ? webView.devToolsWebContents.focus() : webView.openDevTools();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t);\r\n\t\t\t} else if (params.isEditable) {\r\n\t\t\t\tmenu = Menu.buildFromTemplate(\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t...(app.isEmojiPanelSupported() ? [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.editable.emotePalette,\r\n\t\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/emote.png`,\r\n\t\t\t\t\t\t\t\tclick: () => { app.showEmojiPanel(); }\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{ type: 'separator' }\r\n\t\t\t\t\t\t] : []),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.editable.undo,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/undo.png`,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+Z',\r\n\t\t\t\t\t\t\tenabled: params.editFlags.canUndo,\r\n\t\t\t\t\t\t\tclick: () => { webView.undo(); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.editable.redo,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/redo.png`,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+Y',\r\n\t\t\t\t\t\t\tenabled: params.editFlags.canRedo,\r\n\t\t\t\t\t\t\tclick: () => { webView.redo(); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.editable.cut,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/cut.png`,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+X',\r\n\t\t\t\t\t\t\tenabled: params.editFlags.canCut,\r\n\t\t\t\t\t\t\tclick: () => { webView.cut(); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.editable.copy,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/copy.png`,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+C',\r\n\t\t\t\t\t\t\tenabled: params.editFlags.canCopy,\r\n\t\t\t\t\t\t\tclick: () => { webView.copy(); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.editable.paste,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/paste.png`,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+V',\r\n\t\t\t\t\t\t\tenabled: params.editFlags.canPaste,\r\n\t\t\t\t\t\t\tclick: () => { webView.paste(); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.editable.selectAll,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+A',\r\n\t\t\t\t\t\t\tenabled: params.editFlags.canSelectAll,\r\n\t\t\t\t\t\t\tclick: () => { webView.selectAll(); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t...(params.editFlags.canCopy ? [\r\n\t\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: String(lang.window.view.contextMenu.selection.textSearch).replace(/{name}/, 'Google').replace(/{text}/, params.selectionText.replace(/([\\n\\t])+/g, ' ')),\r\n\t\t\t\t\t\t\t\tvisible: params.editFlags.canCopy && !isURL(params.selectionText.replace(/([\\n\\t])+/g, ' ')),\r\n\t\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\t\tthis.addView(`https://www.google.co.jp/search?q=${params.selectionText.replace(/([\\n\\t])+/g, ' ')}`, true);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: String(lang.window.view.contextMenu.selection.textLoad).replace(/{text}/, params.selectionText.replace(/([\\n\\t])+/g, '')),\r\n\t\t\t\t\t\t\t\tvisible: params.editFlags.canCopy && isURL(params.selectionText.replace(/([\\n\\t])+/g, '')),\r\n\t\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\t\tthis.addView(params.selectionText.replace(/([\\n\\t])+/g, ''), true);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t] : []),\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.devTool,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+Shift+I',\r\n\t\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\twebView.isDevToolsOpened() ? webView.devToolsWebContents.focus() : webView.openDevTools();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t);\r\n\t\t\t} else if (params.selectionText !== '' && !params.isEditable) {\r\n\t\t\t\tmenu = Menu.buildFromTemplate(\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.selection.copy,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+C',\r\n\t\t\t\t\t\t\tclick: () => { webView.webContents.copy(); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: String(lang.window.view.contextMenu.selection.textSearch).replace(/{name}/, 'Google').replace(/{text}/, params.selectionText.replace(/([\\n\\t])+/g, ' ')),\r\n\t\t\t\t\t\t\tvisible: !isURL(params.selectionText.replace(/([\\n\\t])+/g, ' ')),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tthis.addView(`https://www.google.co.jp/search?q=${params.selectionText.replace(/([\\n\\t])+/g, ' ')}`, true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: String(lang.window.view.contextMenu.selection.textLoad).replace(/{text}/, params.selectionText.replace(/([\\n\\t])+/g, '')),\r\n\t\t\t\t\t\t\tvisible: isURL(params.selectionText.replace(/([\\n\\t])+/g, '')),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tthis.addView(params.selectionText.replace(/([\\n\\t])+/g, ''), true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.devTool,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+Shift+I',\r\n\t\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\twebView.isDevToolsOpened() ? webView.devToolsWebContents.focus() : webView.openDevTools();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tmenu = Menu.buildFromTemplate(\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.back,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/${!webView.canGoBack() ? 'arrow_back_inactive' : 'light/arrow_back'}.png`,\r\n\t\t\t\t\t\t\taccelerator: 'Alt+Left',\r\n\t\t\t\t\t\t\tenabled: webView.canGoBack(),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tconst url = webView.getURL();\r\n\r\n\t\t\t\t\t\t\t\twebView.goBack();\r\n\t\t\t\t\t\t\t\tif (url.startsWith(`${protocolStr}://error`)) {\r\n\t\t\t\t\t\t\t\t\tif (webView.canGoBack())\r\n\t\t\t\t\t\t\t\t\t\twebView.goBack();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.forward,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/${!webView.canGoForward() ? 'arrow_forward_inactive' : 'light/arrow_forward'}.png`,\r\n\t\t\t\t\t\t\taccelerator: 'Alt+Right',\r\n\t\t\t\t\t\t\tenabled: webView.canGoForward(),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tconst url = webView.getURL();\r\n\r\n\t\t\t\t\t\t\t\twebView.goForward();\r\n\t\t\t\t\t\t\t\tif (url.startsWith(`${protocolStr}://error`)) {\r\n\t\t\t\t\t\t\t\t\tif (webView.canGoForward())\r\n\t\t\t\t\t\t\t\t\t\twebView.goForward();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: !webView.isLoadingMainFrame() ? lang.window.view.contextMenu.reload.reload : lang.window.view.contextMenu.reload.stop,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/${!webView.isLoadingMainFrame() ? 'refresh' : 'close'}.png`,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+R',\r\n\t\t\t\t\t\t\tclick: () => { !webView.isLoadingMainFrame() ? webView.reload() : webView.stop(); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t...(params.mediaType === 'audio' || params.mediaType === 'video' || webView.isCurrentlyAudible() ? [\r\n\t\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: webView.isAudioMuted() ? lang.window.view.contextMenu.media.audioMuteExit : lang.window.view.contextMenu.media.audioMute,\r\n\t\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/${webView.isAudioMuted() ? 'volume_up' : 'volume_off'}.png`,\r\n\t\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\t\twebView.setAudioMuted(!webView.isAudioMuted());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t] : []),\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.savePage,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/save.png`,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+S',\r\n\t\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tdialog.showSaveDialog({\r\n\t\t\t\t\t\t\t\t\tdefaultPath: `${app.getPath('downloads')}/${webView.getTitle()}.html`,\r\n\t\t\t\t\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\t\t\t\t\t{ name: 'HTML', extensions: ['htm', 'html'] },\r\n\t\t\t\t\t\t\t\t\t\t{ name: 'All Files', extensions: ['*'] }\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}, (fileName) => {\r\n\t\t\t\t\t\t\t\t\tif (fileName === undefined || fileName === null) return;\r\n\t\t\t\t\t\t\t\t\twebView.savePage(fileName, 'HTMLComplete', (err) => {\r\n\t\t\t\t\t\t\t\t\t\tif (!err) console.log('Page Save successfully');\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.print,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/print.png`,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+P',\r\n\t\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => { webView.print(); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.translate,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/translate.png`,\r\n\t\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.floatingWindow,\r\n\t\t\t\t\t\t\ttype: 'checkbox',\r\n\t\t\t\t\t\t\tchecked: remote.getCurrentWindow().isAlwaysOnTop(),\r\n\t\t\t\t\t\t\tenabled: (!remote.getCurrentWindow().isFullScreen() && !remote.getCurrentWindow().isMaximized() && config.get('design.isCustomTitlebar')),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\tremote.getCurrentWindow().setAlwaysOnTop(remote.getCurrentWindow().isAlwaysOnTop());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.viewSource,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+U',\r\n\t\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => { this.props.addTab(`view-source:${webView.getURL()}`, true); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: lang.window.view.contextMenu.devTool,\r\n\t\t\t\t\t\t\taccelerator: 'CmdOrCtrl+Shift+I',\r\n\t\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\twebView.isDevToolsOpened() ? webView.devToolsWebContents.focus() : webView.openDevTools();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tmenu.popup(remote.getCurrentWindow());\r\n\t\t});\r\n\r\n\t\twindow.addEventListener('resize', () => {\r\n\t\t\tglobal.setTimeout(() => {\r\n\t\t\t\tthis.setState({ textBoxWidth: this.textBox.clientWidth, textBoxTop: this.textBox.getBoundingClientRect().top, textBoxLeft: this.textBox.getBoundingClientRect().left });\r\n\t\t\t}, 0);\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-start-loading-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.setState({ isLoading: true });\r\n\t\t\t\tthis.blockCount = 0;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-stop-loading-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.setState({ isLoading: false });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-load-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.props.updateTab();\r\n\t\t\t\tthis.setState({ viewUrl: args.url, isBookmarked: args.isBookmarked });\r\n\t\t\t\tthis.setText(args.url);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-certificate-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.setState({ certificate: args.certificate });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`blocked-ad-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.blockCount++\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`update-navigation-state-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.setState({ canGoBack: args.canGoBack, canGoForward: args.canGoForward });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-permission-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tconst toolTip = findDOMNode(this.infomationTooltip)._tippy;\r\n\t\t\t\ttoolTip.setContent(args.content);\r\n\t\t\t\ttoolTip.show();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\ttoolTip.hide();\r\n\t\t\t\t}, 1250);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-zoom-${this.props.windowId}`, (e, args) => {\r\n\t\t\tthis.setState({ zoomSize: args.result });\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`notification-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tconst toolTip = findDOMNode(this.infomationTooltip)._tippy;\r\n\t\t\t\ttoolTip.setContent(args.content);\r\n\t\t\t\ttoolTip.show();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\ttoolTip.hide();\r\n\t\t\t\t}, 1250);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on('window-change-settings', (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\t}\r\n\r\n\thandleKeyDown = (e) => {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\tconst value = this.state.barText;\r\n\r\n\t\t\tlet webView = this.webView;\r\n\t\t\tif (value.length > 0 || value !== '') {\r\n\t\t\t\tthis.setState({ isSuggestShowing: false });\r\n\r\n\t\t\t\tif (isURL(value) && !value.includes('://')) {\r\n\t\t\t\t\twebView.loadURL(`http://${value}`);\r\n\t\t\t\t} else if (!value.includes('://')) {\r\n\t\t\t\t\twebView.loadURL(this.getSearchEngine().url.replace('%s', encodeURIComponent(value)));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst pattern = /^(file:\\/\\/\\S.*)\\S*$/;\r\n\r\n\t\t\t\t\tif (pattern.test(value)) {\r\n\t\t\t\t\t\twebView.loadFile(value.replace('file:///', ''));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twebView.loadURL(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ isSuggestShowing: false });\r\n\t\t\t\tthis.setText(webView.getURL());\r\n\t\t\t}\r\n\t\t} else if (e.key === 'Escape') {\r\n\t\t\tlet webView = this.webView;\r\n\r\n\t\t\tthis.setState({ isSuggestShowing: false });\r\n\t\t\tthis.setText(webView.getURL());\r\n\t\t}\r\n\t}\r\n\r\n\thandleContextMenu = (e) => {\r\n\t\tconst menu = Menu.buildFromTemplate([\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.undo,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+Z',\r\n\t\t\t\trole: 'undo'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.redo,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+Y',\r\n\t\t\t\trole: 'redo'\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.cut,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+X',\r\n\t\t\t\trole: 'cut'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.copy,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+C',\r\n\t\t\t\trole: 'copy'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.paste,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+V',\r\n\t\t\t\trole: 'paste'\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.selectAll,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+A',\r\n\t\t\t\trole: 'selectAll'\r\n\t\t\t}\r\n\t\t]);\r\n\t\tmenu.popup();\r\n\t}\r\n\r\n\tgetSearchEngine = () => {\r\n\t\tfor (var i = 0; i < config.get('searchEngine.searchEngines').length; i++) {\r\n\t\t\tif (config.get('searchEngine.searchEngines')[i].name === config.get('searchEngine.defaultEngine')) {\r\n\t\t\t\treturn config.get('searchEngine.searchEngines')[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetText = (text) => {\r\n\t\tthis.setState({ barText: text });\r\n\t}\r\n\r\n\tgoBack = () => {\r\n\t\tlet webView = this.webView;\r\n\r\n\t\tif (webView.canGoBack())\r\n\t\t\twebView.goBack();\r\n\t}\r\n\r\n\tgoForward = () => {\r\n\t\tlet webView = this.webView;\r\n\r\n\t\tif (webView.canGoForward())\r\n\t\t\twebView.goForward();\r\n\t}\r\n\r\n\treload = () => {\r\n\t\tlet webView = this.webView;\r\n\r\n\t\tif (!webView.isLoadingMainFrame()) {\r\n\t\t\twebView.reload();\r\n\t\t} else {\r\n\t\t\twebView.stop();\r\n\t\t}\r\n\t}\r\n\r\n\tgoHome = () => {\r\n\t\tlet webView = this.webView;\r\n\t\twebView.loadURL(config.get('homePage.homeButton.isDefaultHomePage') ? `${protocolStr}://home/` : config.get('homePage.homeButton.defaultPage'));\r\n\t}\r\n\r\n\tcertificate = () => {\r\n\t\tlet title = '';\r\n\t\tlet description = '';\r\n\t\tif (this.state.certificate.type === 'Internal') {\r\n\t\t\ttitle = lang.window.toolBar.addressBar.info.clicked.internal;\r\n\t\t} else if (this.state.certificate.type === 'Source') {\r\n\t\t\ttitle = lang.window.toolBar.addressBar.info.clicked.viewSource;\r\n\t\t} else if (this.state.certificate.type === 'File') {\r\n\t\t\ttitle = lang.window.toolBar.addressBar.info.clicked.file;\r\n\t\t} else if (this.state.certificate.type === 'Secure') {\r\n\t\t\ttitle = `<span style=\"color: ${config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#81c995' : '#188038'};\">${lang.window.toolBar.addressBar.info.clicked.secure.title}</span>`;\r\n\t\t\tdescription = `${lang.window.toolBar.addressBar.info.clicked.secure.description}${this.state.certificate.title != undefined && this.state.certificate.title != null ? `<br /><br />${this.state.certificate.title} [${this.state.certificate.country}]` : ''}`;\r\n\t\t} else if (this.state.certificate.type === 'InSecure') {\r\n\t\t\ttitle = `<span style=\"color: ${config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#f28b82' : '#c5221f'};\">${lang.window.toolBar.addressBar.info.clicked.insecure.title}</span>`;\r\n\t\t\tdescription = lang.window.toolBar.addressBar.info.clicked.insecure.description;\r\n\t\t}\r\n\r\n\t\tipcRenderer.send(`window-infoWindow-${this.props.windowId}`, { title, description, url: this.state.viewUrl, isButton: false });\r\n\t}\r\n\r\n\tbookMark = () => {\r\n\t\tconst toolTip = findDOMNode(this.markTooltip)._tippy;\r\n\t\ttoolTip.show();\r\n\t\tsetTimeout(() => {\r\n\t\t\ttoolTip.hide();\r\n\t\t}, 1250);\r\n\t\tif (this.state.isBookmarked)\r\n\t\t\tipcRenderer.send(`data-bookmark-remove-${this.props.windowId}`, { id: this.props.index, isPrivate: this.props.windowId.startsWith('private') });\r\n\t\telse\r\n\t\t\tipcRenderer.send(`data-bookmark-add-${this.props.windowId}`, { id: this.props.index, isPrivate: this.props.windowId.startsWith('private') });\r\n\t}\r\n\r\n\tuserMenu = async () => {\r\n\t\tconst menu = Menu.buildFromTemplate([\r\n\t\t\t{\r\n\t\t\t\tlabel: (!this.props.windowId.startsWith('private') ? `${process.env.USERNAME} でログイン中` : 'プライベートモード'),\r\n\t\t\t\tenabled: false,\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.close,\r\n\t\t\t\tclick: () => { remote.getCurrentWindow().close(); }\r\n\t\t\t}\r\n\t\t]);\r\n\t\tmenu.popup({\r\n\t\t\tx: remote.getCurrentWindow().getSize()[0] - 57,\r\n\t\t\ty: 67\r\n\t\t});\r\n\t}\r\n\r\n\tmoreMenu = () => {\r\n\t\tconst menu = Menu.buildFromTemplate([\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.newTab,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+T',\r\n\t\t\t\tclick: () => { this.props.addTab(config.get('homePage.defaultPage'), true); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.newWindow,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+N',\r\n\t\t\t\tclick: () => { ipcRenderer.send(`window-add`, { isPrivate: false }); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.openPrivateWindow,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+Shift+N',\r\n\t\t\t\tclick: () => { ipcRenderer.send(`window-add`, { isPrivate: true }); }\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.zoom.name,\r\n\t\t\t\ttype: 'submenu',\r\n\t\t\t\tsubmenu: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.zoom.zoomIn,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/zoom_in.png`,\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`browserView-zoomIn-${this.props.windowId}`, { id: this.props.index }); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.zoom.zoomOut,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/zoom_out.png`,\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`browserView-zoomOut-${this.props.windowId}`, { id: this.props.index }); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.zoom.zoomDefault,\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`browserView-zoomDefault-${this.props.windowId}`, { id: this.props.index }); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.zoom.fullScreen,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/fullscreen.png`,\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`window-fullScreen-${this.props.windowId}`, {}); }\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.history,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/history.png`,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://history/`, true); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.downloads,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/download.png`,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://downloads/`, true); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.bookmarks,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/bookmarks.png`,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://bookmarks/`, true); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.app.name,\r\n\t\t\t\ttype: 'submenu',\r\n\t\t\t\tsubmenu: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.app.list,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/apps.png`,\r\n\t\t\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://apps/`, true); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: String(lang.window.toolBar.menu.menus.app.run).replace(/{title}/, lang.window.toolBar.menu.menus.app.name),\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`appWindow-add`, { url: this.state.viewUrl }); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.app.store,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/shop.png`,\r\n\t\t\t\t\t\tenabled: false,\r\n\t\t\t\t\t\tclick: () => { this.props.addTab(`http://store.aoichaan0513.xyz/`, true); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.app.store,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/shop.png`,\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`window-adBlock-${this.props.windowId}`, {}); }\r\n\t\t\t\t\t},\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.print,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/print.png`,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+P',\r\n\t\t\t\tclick: () => { ipcRenderer.send(`browserView-print-${this.props.windowId}`, { id: this.props.index }); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.find,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/find.png`,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+F',\r\n\t\t\t\tenabled: false,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://history/`, true); }\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.settings,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/settings.png`,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://settings/`, true); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.help,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/help_outline.png`,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://help/`, true); }\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.close,\r\n\t\t\t\taccelerator: platform.isDarwin ? 'Cmd+Q' : 'Alt+F4',\r\n\t\t\t\tclick: () => { this.props.closeWindow(); }\r\n\t\t\t}\r\n\t\t]);\r\n\t\tmenu.popup({\r\n\t\t\tx: remote.getCurrentWindow().getSize()[0] - 24,\r\n\t\t\ty: 67\r\n\t\t});\r\n\t}\r\n\r\n\tisDarkModeOrPrivateMode = () => {\r\n\t\treturn config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private');\r\n\t}\r\n\r\n\tisDarkModeOrPrivateMode = (lightMode, darkMode) => {\r\n\t\treturn !(config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')) ? lightMode : darkMode;\r\n\t}\r\n\r\n\tgetFavicon = (url) => {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tdb.favicons.findOne({ url: url }, async (err, doc) => {\r\n\t\t\t\tconst parsed = parse(url);\r\n\t\t\t\tresolve(url.startsWith(`${protocolStr}://`) || url.startsWith(`${fileProtocolStr}://`) ? undefined : (doc != undefined ? doc.favicon : `https://www.google.com/s2/favicons?domain=${parsed.protocol}//${parsed.hostname}`));\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tgetDomain = (url) => {\r\n\t\tlet hostname = url;\r\n\r\n\t\tif (hostname.indexOf('http://') !== -1 || hostname.indexOf('https://') !== -1)\r\n\t\t\thostname = hostname.split('://')[1];\r\n\t\tif (hostname.indexOf('?') !== -1)\r\n\t\t\thostname = hostname.split('?')[0];\r\n\r\n\t\tif (hostname.indexOf('://') !== -1) {\r\n\t\t\thostname = `${hostname.split('://')[0]}://${hostname.split('/')[2]}`;\r\n\t\t} else {\r\n\t\t\thostname = hostname.split('/')[0];\r\n\t\t}\r\n\r\n\t\treturn hostname;\r\n\t}\r\n\r\n\tgetCertificate = (url) => {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (url.startsWith(`${protocolStr}://`) || url.startsWith(`${fileProtocolStr}://`)) {\r\n\t\t\t\treturn resolve({ type: url.startsWith(`${protocolStr}://home`) || url.startsWith(`${protocolStr}://home2`) ? 'Search' : 'Internal' });\r\n\t\t\t} else if (url.startsWith('view-source:')) {\r\n\t\t\t\treturn resolve({ type: 'Source' });\r\n\t\t\t} else if (url.startsWith('file://')) {\r\n\t\t\t\treturn resolve({ type: 'File' });\r\n\t\t\t} else if (url.startsWith('https://')) {\r\n\t\t\t\tconst domain = this.getDomain(url);\r\n\r\n\t\t\t\tlet options = {\r\n\t\t\t\t\thost: domain,\r\n\t\t\t\t\tport: 443,\r\n\t\t\t\t\tmethod: 'GET'\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlet req = httpsBack.request(options, (res) => {\r\n\t\t\t\t\tlet certificate = res.connection.getPeerCertificate();\r\n\t\t\t\t\tif (certificate.subject == null) return;\r\n\r\n\t\t\t\t\tconst data = {\r\n\t\t\t\t\t\ttype: 'Secure',\r\n\t\t\t\t\t\ttitle: certificate.subject.O,\r\n\t\t\t\t\t\tcountry: certificate.subject.C\r\n\t\t\t\t\t};\r\n\t\t\t\t\tresolve(data);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treq.end();\r\n\t\t\t} else if (url.startsWith('http://')) {\r\n\t\t\t\treturn resolve({ type: 'InSecure' });\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetCertificateIcon = () => {\r\n\t\tif (this.state.certificate !== undefined && this.state.certificate !== null) {\r\n\t\t\tif (this.state.certificate.type === 'Secure') {\r\n\t\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, LightSecureIcon, DarkSecureIcon);\r\n\t\t\t} else if (this.state.certificate.type === 'InSecure') {\r\n\t\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, LightInSecureIcon, DarkInSecureIcon);\r\n\t\t\t} else if (this.state.certificate.type === 'Internal') {\r\n\t\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, ApplicationIcon, ApplicationIcon);\r\n\t\t\t} else if (this.state.certificate.type === 'Search') {\r\n\t\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, LightSearchIcon, DarkSearchIcon);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, LightInfomationIcon, DarkInfomationIcon);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, LightInfomationIcon, DarkInfomationIcon);\r\n\t\t}\r\n\t}\r\n\r\n\tgetButtonCount = () => {\r\n\t\tvar i = 1;\r\n\r\n\t\tif (this.state.zoomSize != config.get('pageSettings.defaultZoomSize'))\r\n\t\t\ti += 1;\r\n\r\n\t\tif (!this.state.barText.startsWith(protocolStr))\r\n\t\t\ti += 2;\r\n\r\n\t\treturn i;\r\n\t}\r\n\r\n\tgetForegroundColor = (hexColor) => {\r\n\t\tvar r = parseInt(hexColor.substr(1, 2), 16);\r\n\t\tvar g = parseInt(hexColor.substr(3, 2), 16);\r\n\t\tvar b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n\t\treturn ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n\t}\r\n\r\n\tloadURL = (value) => {\r\n\t\tlet webView = this.webView;\r\n\r\n\t\tthis.setState({ isSuggestShowing: false });\r\n\t\tif (isURL(value) && !value.includes('://')) {\r\n\t\t\twebView.loadURL(`http://${value}`);\r\n\t\t} else if (!value.includes('://')) {\r\n\t\t\twebView.loadURL(this.getSearchEngine().url.replace('%s', encodeURIComponent(value)));\r\n\t\t} else {\r\n\t\t\tconst pattern = /^(file:\\/\\/\\S.*)\\S*$/;\r\n\r\n\t\t\tif (pattern.test(value)) {\r\n\t\t\t\twebView.loadFile(value.replace('file:///', ''));\r\n\t\t\t} else {\r\n\t\t\t\twebView.loadURL(value);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet webView = this.webView;\r\n\r\n\t\treturn (\r\n\t\t\t<ContentWrapper>\r\n\t\t\t\t<Toolbar isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} isBookmarkBar={config.get('design.isBookmarkBar')}>\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={this.state.canGoBack ? this.isDarkModeOrPrivateMode.bind(this, LightBackIcon, DarkBackIcon) : BackInActiveIcon} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={false} isMarginLeft={true} isEnabled={this.state.canGoBack} title={lang.window.toolBar.back} onClick={() => { this.goBack(); }} />\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={this.state.canGoForward ? this.isDarkModeOrPrivateMode.bind(this, LightForwardIcon, DarkForwardIcon) : ForwardInActiveIcon} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={false} isMarginLeft={false} isEnabled={this.state.canGoForward} title={lang.window.toolBar.forward} onClick={() => { this.goForward(); }} />\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={!this.state.isLoading ? this.isDarkModeOrPrivateMode.bind(this, LightReloadIcon, DarkReloadIcon) : this.isDarkModeOrPrivateMode.bind(this, LightCloseIcon, DarkCloseIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={false} isMarginLeft={false} isEnabled={true} title={!this.state.isLoading ? lang.window.toolBar.reload.reload : lang.window.toolBar.reload.stop} onClick={() => { this.reload(); }} />\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={this.isDarkModeOrPrivateMode.bind(this, LightHomeIcon, DarkHomeIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={config.get('design.isHomeButton')} isRight={false} isMarginLeft={false} isEnabled={true} title={lang.window.toolBar.home} onClick={() => { this.goHome(); }} />\r\n\t\t\t\t\t<ToolbarTextBoxWrapper ref={(textBox) => { this.textBox = textBox; }} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')}>\r\n\t\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={this.getCertificateIcon()} size={18}\r\n\t\t\t\t\t\t\tisShowing={true} isRight={false} isMarginLeft={true} isEnabled={this.state.certificate.type !== 'Search'} title={lang.window.toolBar.addressBar.info.name} onClick={() => { this.state.certificate.type !== 'Search' && this.certificate(); }} />\r\n\r\n\t\t\t\t\t\t<ToolbarTextBox buttonCount={this.getButtonCount} value={decodeURIComponent(this.state.barText)} onChange={(e) => { this.setState({ barText: e.target.value, isSuggestShowing: true }); this.forceUpdate(); }} onKeyDown={this.handleKeyDown} onFocus={(e) => { e.target.select(); }} onContextMenu={this.handleContextMenu} />\r\n\r\n\t\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={this.isDarkModeOrPrivateMode.bind(this, LightTranslateIcon, DarkTranslateIcon)} size={18} style={{ right: this.state.zoomSize != config.get('pageSettings.defaultZoomSize') ? 60 : 30, borderRadius: 0 }}\r\n\t\t\t\t\t\t\tisShowing={!this.state.barText.startsWith(protocolStr)} isRight={true} isMarginLeft={true} isEnabled={true} title={lang.window.toolBar.addressBar.translate} onClick={() => { ipcRenderer.send(`window-translateWindow-${this.props.windowId}`, { url: this.state.viewUrl }); }} />\r\n\r\n\t\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={this.state.zoomSize > config.get('pageSettings.defaultZoomSize') ? this.isDarkModeOrPrivateMode.bind(this, LightZoomInIcon, DarkZoomInIcon) : this.isDarkModeOrPrivateMode.bind(this, LightZoomOutIcon, DarkZoomOutIcon)}\r\n\t\t\t\t\t\t\tsize={18} style={{ right: !this.state.barText.startsWith(protocolStr) ? 30 : 0, borderRadius: 0 }} isShowing={this.state.zoomSize != config.get('pageSettings.defaultZoomSize')} isRight={true} isMarginLeft={true} isEnabled={true} title={lang.window.toolBar.addressBar.zoomDefault} onClick={() => { ipcRenderer.send(`browserView-zoomDefault-${this.props.windowId}`, { id: this.props.index }); }} />\r\n\r\n\t\t\t\t\t\t<Tippy ref={ref => { this.markTooltip = ref; }} content={!this.state.isBookmarked ? (this.props.windowId.startsWith('private') ? lang.window.toolBar.addressBar.bookmark.clicked.removePrivate : lang.window.toolBar.addressBar.bookmark.clicked.remove) : (this.props.windowId.startsWith('private') ? lang.window.toolBar.addressBar.bookmark.clicked.addPrivate : lang.window.toolBar.addressBar.bookmark.clicked.add)} theme={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? 'dark' : 'light'} placement=\"left\" arrow={true} trigger=\"manual\">\r\n\t\t\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={this.state.isBookmarked ? this.isDarkModeOrPrivateMode.bind(this, LightStarFilledIcon, DarkStarFilledIcon) : this.isDarkModeOrPrivateMode.bind(this, LightStarIcon, DarkStarIcon)} size={18}\r\n\t\t\t\t\t\t\t\tisShowing={!this.state.barText.startsWith(protocolStr)} isRight={true} isMarginLeft={true} isEnabled={true} title={this.state.isBookmarked ? lang.window.toolBar.addressBar.bookmark.remove : lang.window.toolBar.addressBar.bookmark.add} onClick={() => { this.bookMark(); }} />\r\n\t\t\t\t\t\t</Tippy>\r\n\t\t\t\t\t</ToolbarTextBoxWrapper>\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={this.isDarkModeOrPrivateMode.bind(this, LightShieldIcon, DarkShieldIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={config.get('adBlock.isAdBlock')} isRight={true} isMarginLeft={true} isEnabled={true} title={String(lang.window.toolBar.extensions.adBlock).replace(/{replace}/, this.blockCount)} onClick={() => { this.props.addTab(`${protocolStr}://settings/`, true); }}>\r\n\t\t\t\t\t\t{this.blockCount > 0 && <ToolbarButtonBadge>{this.blockCount}</ToolbarButtonBadge>}\r\n\t\t\t\t\t</ToolbarButton>\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={this.isDarkModeOrPrivateMode.bind(this, LightFeedbackIcon, DarkFeedbackIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={true} isMarginLeft={!config.get('adBlock.isAdBlock')} isEnabled={true} title={lang.window.toolBar.extensions.feedback} onClick={() => { this.props.addTab('https://join.slack.com/t/flast-develop/shared_invite/enQtNzM4MzM3OTExNjA3LWZkNTlmYTY0YzJjODNhYmY1OTlmYTllODRiMmJjNjA2YmUzNDg0OGMwZjliNmFhMjBlYWRjNTVhZTFkNWE3OTA', true); }} />\r\n\t\t\t\t\t<ToolbarDivider isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={this.props.windowId.startsWith('private') ? this.isDarkModeOrPrivateMode.bind(this, LightShieldIcon, DarkShieldIcon) : this.isDarkModeOrPrivateMode.bind(this, LightAccountIcon, DarkAccountIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={true} isMarginLeft={true} isEnabled={true} title={this.props.windowId.startsWith('private') ? 'プライベートモード' : process.env.USERNAME} onClick={() => { this.userMenu(); }} />\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} src={this.isDarkModeOrPrivateMode.bind(this, LightMoreIcon, DarkMoreIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={true} isMarginLeft={false} isEnabled={true} title={lang.window.toolBar.menu.name} onClick={() => { this.setState({ isMenuShowing: !this.state.isMenuShowing }); }} />\r\n\t\t\t\t</Toolbar>\r\n\t\t\t\t<MenuComponent webView={webView} windowId={this.props.windowId} url={this.props.url} isShowing={this.state.isMenuShowing} />\r\n\t\t\t\t<BookmarkBar isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} isBookmarkBar={config.get('design.isBookmarkBar')} />\r\n\t\t\t\t<SuggestComponent id={this.props.windowId} text={this.state.barText} webView={webView} loadURL={(url = undefined) => { if (url !== undefined) webView.loadURL(url); this.setState({ isSuggestShowing: false }); }}\r\n\t\t\t\t\ttextBoxWidth={this.state.textBoxWidth} textBoxTop={this.state.textBoxTop} textBoxLeft={this.state.textBoxLeft} isShowing={this.state.isSuggestShowing} />\r\n\t\t\t\t<webview id=\"webView\" ref={(webView) => { this.webView = webView; }} src={this.props.url} preload={'../src/Preload.js'} style={{ height: `calc(100% - ${config.get('design.isBookmarkBar') ? (40 + 28) : 40}px)` }}\r\n\t\t\t\t\tallowpopups webpreferences=\"nodeIntegration=false, contextIsolation=false, nativeWindowOpen=true, plugins=true, experimentalFeatures=true, safeDialogs=true, safeDialogsMessage='今後このページではダイアログを表示しない'\" />\r\n\t\t\t</ContentWrapper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass MainWindow extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\ttabs: [],\r\n\t\t\tcurrent: 0\r\n\t\t};\r\n\r\n\t\tipcRenderer.on(`window-maximized-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\t\tipcRenderer.on(`window-unmaximized-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`window-focus-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\t\tipcRenderer.on(`window-blur-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on('window-change-settings', (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`tab-add-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.addTab(args.url, true);\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`tab-get-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tif (args.id != null && args.view != null) {\r\n\t\t\t\tthis.state.tabs.filter((item, i) => {\r\n\t\t\t\t\tif (args.id === item.id) {\r\n\t\t\t\t\t\tlet newTabs = this.state.tabs.concat();\r\n\t\t\t\t\t\tnewTabs[i] = args.view;\r\n\t\t\t\t\t\tthis.setState({ tabs: newTabs });\r\n\t\t\t\t\t\tthis.forceUpdate();\r\n\r\n\t\t\t\t\t\tconsole.log(this.state.tabs);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(args.views);\r\n\t\t\t\tthis.setState({ tabs: args.views });\r\n\t\t\t\tthis.forceUpdate();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`tab-select-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.setState({ current: args.id });\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`update-navigation-state-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.state.tabs.filter((item, i) => {\r\n\t\t\t\tif (args.id === item.id) {\r\n\t\t\t\t\tvar newTabs = this.state.tabs.concat();\r\n\t\t\t\t\tnewTabs[i].isAudioStatus = args.isAudioStatus;\r\n\t\t\t\t\tthis.setState({ tabs: newTabs });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tSortable.create(findDOMNode(this.tabContainer), {\r\n\t\t\tgroup: {\r\n\t\t\t\tname: String(this.props.match.params.windowId).startsWith('private') ? 'private' : 'window'\r\n\t\t\t},\r\n\t\t\tfilter: '.fixed-tab',\r\n\t\t\tanimation: 100,\r\n\t\t\tstore: {\r\n\t\t\t\tget: (sortable) => {\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tvar order = localStorage.getItem(sortable.options.group.name);\r\n\t\t\t\t\treturn order ? order.split('|') : [];\r\n\t\t\t\t\t*/\r\n\t\t\t\t},\r\n\t\t\t\tset: (sortable) => {\r\n\t\t\t\t\tconsole.log(sortable.toArray());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.props.match.params.urls.split('($|$)').map((url, i) => {\r\n\t\t\tconsole.log(decodeURIComponent(url));\r\n\t\t\tthis.addTab(decodeURIComponent(url), true);\r\n\t\t});\r\n\t\tthis.getTabs();\r\n\t}\r\n\r\n\thandleContextMenu = (id) => {\r\n\t\tthis.state.tabs.filter((item, i) => {\r\n\t\t\tif (id === item.id) {\r\n\t\t\t\tconst menu = Menu.buildFromTemplate([\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '新しいタブ',\r\n\t\t\t\t\t\taccelerator: 'CmdOrCtrl+T',\r\n\t\t\t\t\t\tclick: () => { this.addTab(); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: 'タブを閉じる',\r\n\t\t\t\t\t\taccelerator: 'CmdOrCtrl+W',\r\n\t\t\t\t\t\tclick: () => { this.removeTab(i); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: item.isAudioStatus === -1 ? lang.window.view.contextMenu.media.audioMuteExit : lang.window.view.contextMenu.media.audioMute,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/${item.isAudioStatus === -1 ? 'volume_up' : 'volume_off'}.png`,\r\n\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\tipcRenderer.send(`browserView-audioMute-${this.props.match.params.windowId}`, { id });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'checkbox',\r\n\t\t\t\t\t\tlabel: 'タブを固定',\r\n\t\t\t\t\t\tchecked: item.isFixed,\r\n\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\tvar newTabs = this.state.tabs.concat();\r\n\t\t\t\t\t\t\titem.isFixed = !item.isFixed;\r\n\t\t\t\t\t\t\tthis.setState({ tabs: newTabs });\r\n\t\t\t\t\t\t\t*/\r\n\r\n\t\t\t\t\t\t\tipcRenderer.send(`tab-fixed-${this.props.match.params.windowId}`, { id, result: !item.isFixed });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]);\r\n\t\t\t\tmenu.popup(remote.getCurrentWindow());\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddTab = (url = (config.get('homePage.newTab.isDefaultHomePage') ? `${protocolStr}://home/` : config.get('homePage.newTab.defaultPage')), isActive = true) => {\r\n\t\tconsole.log(url);\r\n\r\n\t\tlet newTabs = this.state.tabs.concat();\r\n\t\tnewTabs.push({ id: this.state.tabs.length, url, title: '', icon: undefined, isFixed: false, isAudioStatus: -1 });\r\n\r\n\t\tthis.setState({ tabs: newTabs });\r\n\t\tif (isActive)\r\n\t\t\tthis.setState({ current: this.state.tabs.length });\r\n\r\n\t\tthis.forceUpdate();\r\n\t\tconsole.log(this.state.tabs);\r\n\t}\r\n\r\n\tremoveTab = (i) => {\r\n\t\tif (i + 1 < this.state.tabs.length) {\r\n\t\t\tthis.setState({ current: i + 1 });\r\n\t\t} else if (i - 1 >= 0) {\r\n\t\t\tthis.setState({ current: i - 1 });\r\n\t\t}\r\n\r\n\t\tthis.state.tabs.splice(i, 1);\r\n\r\n\t\tif (this.state.tabs.length < 1) {\r\n\t\t\tremote.getCurrentWindow().close();\r\n\t\t}\r\n\t}\r\n\r\n\tupdateTab = (title, favicon, isAudioStatus, index) => {\r\n\t\tlet newTabs = this.state.tabs.concat();\r\n\t\tnewTabs[index].title = title;\r\n\t\tnewTabs[index].icon = favicon;\r\n\t\tnewTabs[index].isAudioStatus = isAudioStatus;\r\n\t\tthis.setState({ tabs: newTabs });\r\n\t}\r\n\r\n\tgetTab = (id) => {\r\n\t\tipcRenderer.send(`tab-get-${this.props.match.params.windowId}`, { id });\r\n\t}\r\n\r\n\tgetTabs = () => {\r\n\t\tipcRenderer.send(`tab-get-${this.props.match.params.windowId}`, {});\r\n\t}\r\n\r\n\tgetForegroundColor = (hexColor) => {\r\n\t\tvar r = parseInt(hexColor.substr(1, 2), 16);\r\n\t\tvar g = parseInt(hexColor.substr(3, 2), 16);\r\n\t\tvar b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n\t\treturn ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n\t}\r\n\r\n\tgetColor = () => {\r\n\t\treturn !String(this.props.match.params.windowId).startsWith('private') ? (platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535') : '#353535';\r\n\t}\r\n\r\n\tisDarkModeOrPrivateMode = () => {\r\n\t\treturn config.get('design.isDarkTheme') || String(this.props.match.params.windowId).startsWith('private');\r\n\t}\r\n\r\n\tisDarkModeOrPrivateMode = (lightMode, darkMode) => {\r\n\t\treturn !(config.get('design.isDarkTheme') || String(this.props.match.params.windowId).startsWith('private')) ? lightMode : darkMode;\r\n\t}\r\n\r\n\tcloseWindow = () => {\r\n\t\tif (this.state.tabs.length > 1) {\r\n\t\t\tif (config.get('window.isCloseConfirm')) {\r\n\t\t\t\tdialog.showMessageBox({\r\n\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\ttitle: 'アプリ終了確認',\r\n\t\t\t\t\tmessage: `${this.state.tabs.length}個のタブを閉じようとしています。`,\r\n\t\t\t\t\tdetail: `${this.state.tabs.length}個のタブを閉じてアプリを終了しようとしています。\\n複数のタブを閉じてアプリを終了してもよろしいでしょうか？`,\r\n\t\t\t\t\tcheckboxLabel: '今後は確認しない',\r\n\t\t\t\t\tcheckboxChecked: false,\r\n\t\t\t\t\tnoLink: true,\r\n\t\t\t\t\tbuttons: ['はい / Yes', 'いいえ / No'],\r\n\t\t\t\t\tdefaultId: 0,\r\n\t\t\t\t\tcancelId: 1\r\n\t\t\t\t}).then((result) => {\r\n\t\t\t\t\tconst { response, checkboxChecked } = result;\r\n\r\n\t\t\t\t\tif (checkboxChecked)\r\n\t\t\t\t\t\tconfig.set('window.isCloseConfirm', false);\r\n\t\t\t\t\tif (response === 0)\r\n\t\t\t\t\t\tremote.getCurrentWindow().close();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tremote.getCurrentWindow().close();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tremote.getCurrentWindow().close();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Window isActive={remote.getCurrentWindow().isFocused()} isMaximized={remote.getCurrentWindow().isMaximized()} color={this.getColor()} isCustomTitlebar={config.get('design.isCustomTitlebar')}>\r\n\t\t\t\t<Titlebar isActive={remote.getCurrentWindow().isFocused()} color={this.getColor()}>\r\n\t\t\t\t\t<Tabs isCustomTitlebar={config.get('design.isCustomTitlebar')} isWindowsOrLinux={platform.isWin32 || (!platform.isWin32 && !platform.isDarwin)}>\r\n\t\t\t\t\t\t<TabContainer ref={ref => { this.tabContainer = ref; }}>\r\n\t\t\t\t\t\t\t{this.state.tabs.map((tab, i) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Tab data-id={tab.id} title={tab.title} isActive={tab.id === this.state.current} isFixed={tab.isFixed} inActiveColor={remote.getCurrentWindow().isFocused() ? this.getForegroundColor(this.getColor()) : '#000000'} accentColor={tab.color} className={tab.isFixed ? 'fixed-tab' : ''}\r\n\t\t\t\t\t\t\t\t\t\tisDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.match.params.windowId).startsWith('private')} onClick={() => { if (tab.id !== this.state.current) { this.setState({ current: tab.id }); } this.forceUpdate(); }} onContextMenu={this.handleContextMenu.bind(this, tab.id)}>\r\n\t\t\t\t\t\t\t\t\t\t<TabIcon src={tab.icon !== undefined ? tab.icon : (tab.id === this.state.current || remote.getCurrentWindow().isFocused() ? (config.get('design.isDarkTheme') || String(this.props.match.params.windowId).startsWith('private') ? DarkPublicIcon : LightPublicIcon) : LightPublicIcon)} width={18} height={18} />\r\n\t\t\t\t\t\t\t\t\t\t<TabTitle isShowing={tab.isAudioStatus !== 0} isFixed={tab.isFixed}>{tab.title}</TabTitle>\r\n\t\t\t\t\t\t\t\t\t\t<TabStatusIcon isActive={tab.id === this.state.current} isFixed={tab.isFixed} isRight={true} src={tab.isAudioStatus !== 0 ? this.isDarkModeOrPrivateMode.bind(this, tab.isAudioStatus === 1 ? LightAudioIcon : LightAudioMuteIcon, tab.isAudioStatus === 1 ? DarkAudioIcon : DarkAudioMuteIcon) : undefined} isShowing={tab.isAudioStatus !== 0} size={14} title={tab.isAudioStatus !== 0 ? (tab.isAudioStatus === 1 ? lang.window.titleBar.tab.media.audioPlaying : lang.window.titleBar.tab.media.audioMuted) : ''} />\r\n\t\t\t\t\t\t\t\t\t\t<TabCloseButton isActive={tab.id === this.state.current} isFixed={tab.isFixed} isRight={true} src={this.isDarkModeOrPrivateMode.bind(this, LightCloseIcon, DarkCloseIcon)} size={14} title={lang.window.titleBar.tab.close} onClick={() => { this.removeTab(i); this.forceUpdate(); }} />\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</TabContainer>\r\n\t\t\t\t\t\t<TabButton isRight={true} src={this.isDarkModeOrPrivateMode.bind(this, LightAddIcon, DarkAddIcon)} size={24} title={lang.window.titleBar.tab.new} onClick={() => { this.addTab(); }} />\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t<WindowButtons isCustomTitlebar={config.get('design.isCustomTitlebar')} isWindowsOrLinux={platform.isWin32 || (!platform.isWin32 && !platform.isDarwin)}>\r\n\t\t\t\t\t\t<WindowButton isClose={false} isWindowsOrLinux={platform.isWin32 || (!platform.isWin32 && !platform.isDarwin)} title={lang.window.titleBar.buttons.minimize} onClick={() => { remote.getCurrentWindow().minimize(); }}>\r\n\t\t\t\t\t\t\t<svg name=\"TitleBarMinimize\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill={remote.getCurrentWindow().isFocused() ? this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535') : '#000000'}>\r\n\t\t\t\t\t\t\t\t<rect width=\"10\" height=\"1\" x=\"1\" y=\"6\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</WindowButton>\r\n\t\t\t\t\t\t<WindowButton isClose={false} isWindowsOrLinux={platform.isWin32 || (!platform.isWin32 && !platform.isDarwin)} title={remote.getCurrentWindow().isMaximized() ? lang.window.titleBar.buttons.maximize.restore : lang.window.titleBar.buttons.maximize.maximize} onClick={() => { remote.getCurrentWindow().isMaximized() ? remote.getCurrentWindow().unmaximize() : remote.getCurrentWindow().maximize(); this.forceUpdate(); }}>\r\n\t\t\t\t\t\t\t<svg name=\"TitleBarMaximize\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" stroke={remote.getCurrentWindow().isFocused() ? this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535') : '#000000'}>\r\n\t\t\t\t\t\t\t\t<rect fill=\"none\" width=\"9\" height=\"9\" x=\"1.5\" y=\"1.5\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</WindowButton>\r\n\t\t\t\t\t\t<WindowButton isClose={true} isWindowsOrLinux={platform.isWin32 || (!platform.isWin32 && !platform.isDarwin)} title={lang.window.titleBar.buttons.close} onClick={() => { this.closeWindow(); }}>\r\n\t\t\t\t\t\t\t<svg name=\"TitleBarClose\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill={remote.getCurrentWindow().isFocused() ? this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535') : '#000000'}>\r\n\t\t\t\t\t\t\t\t<polygon fill-rule=\"evenodd\" points=\"11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</WindowButton>\r\n\t\t\t\t\t</WindowButtons>\r\n\t\t\t\t</Titlebar>\r\n\t\t\t\t<WindowContent>\r\n\t\t\t\t\t{this.state.tabs.map((tab, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<TabContent isActive={tab.id === this.state.current}>\r\n\t\t\t\t\t\t\t\t<BrowserView key={i} windowId={this.props.match.params.windowId} index={i} url={tab.url}\r\n\t\t\t\t\t\t\t\t\tcloseWindow={() => { this.closeWindow(); }}\r\n\t\t\t\t\t\t\t\t\taddTab={(url, isActive) => { this.addTab(url, isActive); }}\r\n\t\t\t\t\t\t\t\t\tupdateTab={(url, title, favicon) => { this.updateTab(url, title, favicon, i); }} />\r\n\t\t\t\t\t\t\t</TabContent>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</WindowContent>\r\n\t\t\t</Window>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MainWindow;","import styled from 'styled-components';\r\nimport TabButton from '../TabButton';\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst platform = require('electron-platform');\r\n\r\nconst buttonHeight = 27;\r\n\r\nexport const Window = styled.div`\r\n  width: 100%;\r\n  height: ${platform.isWin32 || platform.isDarwin ? 'auto' : '100%'};\r\n  margin: ${platform.isWin32 || platform.isDarwin ? '0px 4px 2px' : '0px'};\r\n  padding: 5px 0px;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border: ${platform.isWin32 || platform.isDarwin ? 'none' : (props => !props.isDarkModeOrPrivateMode ? 'solid 1px #e1e1e1' : 'solid 1px #8b8b8b')};\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  color: ${props => !props.isDarkModeOrPrivateMode ? '#353535' : '#f9f9fa'};\r\n  box-shadow: ${platform.isWin32 || platform.isDarwin ? '0px 2px 4px rgba(0, 0, 0, 0.16), 0px 2px 4px rgba(0, 0, 0, 0.23)' : 'none'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport const Button = styled.div`\r\n  width: 100%;\r\n  height: ${buttonHeight}px;\r\n  margin: 0px;\r\n  padding: 0px 7px;\r\n  display: flex;\r\n  -webkit-box-align: center;\r\n  align-items: center;\r\n  -webkit-box-pack: center;\r\n  justify-content: center;\r\n  background: none;\r\n  transition: 0.2s background-color;\r\n  box-sizing: border-box;\r\n  &:hover {\r\n    background-color: rgba(196, 196, 196, 0.4);\r\n  }\r\n`;\r\n\r\nexport const ButtonTitle = styled.span`\r\n  width: auto;\r\n  margin-left: ${props => props.hasIcon !== null && props.hasIcon ? 7 : 25}px;\r\n`;\r\n\r\nexport const ButtonAccelerator = styled.span`\r\n  width: auto;\r\n  margin-left: auto;\r\n  margin-right: 20px;\r\n`;\r\n\r\nexport const Divider = styled.div`\r\n  background-color: initial;\r\n  width: ${props => props.isVertical ? '1px' : '100%'};\r\n  height: ${props => props.isVertical ? `${buttonHeight}px` : '1px'};\r\n  margin-top: ${props => props.isVertical ? 0 : 5}px;\r\n  margin-bottom: ${props => props.isVertical ? 0 : 5}px;\r\n  margin-left: ${props => props.isVertical ? 5 : 0}px;\r\n  margin-right: ${props => props.isVertical ? 5 : 0}px;\r\n  ${props => props.isVertical ? 'border-left' : 'border-top'}: solid 1px ${props => !props.isDarkModeOrPrivateMode ? '#e1e1e1' : '#8b8b8b'};\r\n`;\r\n\r\nexport const Dialog = styled.div`\r\n  width: 100%;\r\n  height: ${platform.isWin32 || platform.isDarwin ? '505px' : '100%'};\r\n  margin: ${platform.isWin32 || platform.isDarwin ? '0px 4px 2px' : '0px'};\r\n  padding: 0px;\r\n  position: absolute;\r\n  top: 0px;\r\n  transform: translateX(${props => props.isOpen ? '0%' : '105%'});\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  border-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border: ${platform.isWin32 || platform.isDarwin ? 'none' : (props => !props.isDarkModeOrPrivateMode ? 'solid 1px #e1e1e1' : 'solid 1px #8b8b8b')};\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  color: ${props => !props.isDarkModeOrPrivateMode ? '#353535' : '#f9f9fa'};\r\n  transition: 0.2s transform;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport const DialogHeader = styled.div`\r\n  width: 100%;\r\n  height: 35px;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  display: flex;\r\n  background-color: gray;\r\n  border-top-left-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border-top-right-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport const DialogHeaderButton = styled.div`\r\n  width: 25px;\r\n  height: 25px;\r\n  margin: 5px;\r\n  padding: 3px;\r\n  position: relative;\r\n  flex-grow: 0;\r\n  background-image: url(${props => props.src});\r\n  background-size: ${props => props.size}px;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-color: initial;\r\n  border: none;\r\n  border-radius: 2px;\r\n  transition: 0.2s background-color;\r\n  outline: none;\r\n  &:hover {\r\n    background-color: ${props => !props.isDarkModeOrPrivateMode ? 'rgba(0, 0, 0, 0.06)' : 'rgba(130, 130, 130, 0.3)'};\r\n  }\r\n`;\r\n\r\nexport const DialogHeaderTitle = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const DialogContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0px;\r\n  padding: 5px 0px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-bottom-left-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border-bottom-right-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border: ${platform.isWin32 || platform.isDarwin ? 'none' : (props => !props.isDarkModeOrPrivateMode ? 'solid 1px #e1e1e1' : 'solid 1px #8b8b8b')};\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  color: ${props => !props.isDarkModeOrPrivateMode ? '#353535' : '#f9f9fa'};\r\n  box-sizing: border-box;\r\n`;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { parse, format } from 'url';\r\n\r\nimport { Window, Button, ButtonTitle, ButtonAccelerator, Dialog, DialogContainer, DialogHeader, DialogHeaderButton, DialogHeaderTitle, Divider } from './Menu';\r\n\r\nimport DarkBackIcon from '../../Resources/dark/arrow_back.svg';\r\nimport LightBackIcon from '../../Resources/light/arrow_back.svg';\r\n\r\nconst { remote, ipcRenderer, shell } = window.require('electron');\r\nconst { app, systemPreferences, Menu, MenuItem, dialog } = remote;\r\n\r\nconst pkg = window.require(`${app.getAppPath()}/package.json`);\r\nconst protocolStr = 'flast';\r\nconst fileProtocolStr = `${protocolStr}-file`;\r\n\r\nconst platform = require('electron-platform');\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst lang = window.require(`${app.getAppPath()}/langs/${config.get('language') != undefined ? config.get('language') : 'ja'}.js`);\r\n\r\nclass MoreIcon extends Component {\r\n    render() {\r\n        return (\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 59.414 59.414\">\r\n                <g>\r\n                    <polygon fill={this.props.isDarkModeOrPrivateMode ? '#e1e1e1' : '#8b8b8b'} points=\"15.561,59.414 14.146,58 42.439,29.707 14.146,1.414 15.561,0 45.268,29.707\"></polygon>\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n}\r\n\r\nclass MenuWindow extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            url: '',\r\n            zoomSize: 1,\r\n            isOpen: null\r\n        };\r\n\r\n        ipcRenderer.on('window-change-settings', (e, args) => {\r\n            this.forceUpdate();\r\n        });\r\n\r\n        ipcRenderer.on(`menuWindow-${this.props.windowId}`, (e, args) => {\r\n            this.setState({ url: args.url, zoomSize: args.zoomSize, isOpen: null });\r\n            this.forceUpdate();\r\n        });\r\n\r\n        ipcRenderer.on(`browserView-zoom-${this.props.windowId}`, (e, args) => {\r\n            this.setState({ zoomSize: args.result });\r\n        });\r\n    }\r\n\r\n    getForegroundColor = (hexColor) => {\r\n        var r = parseInt(hexColor.substr(1, 2), 16);\r\n        var g = parseInt(hexColor.substr(3, 2), 16);\r\n        var b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n        return ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n    }\r\n\r\n    addTab = (url = (config.get('homePage.isDefaultHomePage') ? `${protocolStr}://home/` : config.get('homePage.defaultPage')), isInternal = false) => {\r\n        if (isInternal) {\r\n            const u = parse(this.state.url);\r\n            console.log(u.protocol);\r\n\r\n            if (u.protocol === `${protocolStr}:`) {\r\n                ipcRenderer.send(`browserView-loadURL-${this.props.windowId}`, { id: this.props.match.params.tabId, url });\r\n            } else {\r\n                ipcRenderer.send(`tab-add-${this.props.windowId}`, { url, isActive: true });\r\n            }\r\n        } else {\r\n            ipcRenderer.send(`tab-add-${this.props.windowId}`, { url, isActive: true });\r\n        }\r\n    }\r\n\r\n    closeMenu = () => {\r\n        ipcRenderer.send(`menuWindow-close-${this.props.windowId}`, {});\r\n    }\r\n\r\n    getIconDirectory = () => {\r\n        return `${app.getAppPath()}/static/${config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? 'dark' : 'light'}`;\r\n    }\r\n\r\n    render() {\r\n\t\tconst webView = this.props.webView;\r\n\t\t\r\n        return (\r\n            <div style={{ display: this.props.isShowing ? 'block' : 'none', width: 340, height: platform.isWin32 || platform.isDarwin ? 'auto' : '100%', position: 'relative', top: -2, left: 'calc(100% - 350px)', boxSizing: 'border-box' }}>\r\n                <Window isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')}>\r\n                    <Button onClick={() => { this.setState({ isOpen: 'userInfo' }); }}>\r\n                        <img src={`${this.getIconDirectory()}/account.png`} style={{ verticalAlign: 'middle' }} />\r\n                        <ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.userInfo}</ButtonTitle>\r\n                        <ButtonAccelerator></ButtonAccelerator>\r\n                        <MoreIcon isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                    </Button>\r\n                    <Divider isVertical={false} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                    <Button onClick={() => { this.closeMenu(); this.addTab(); }}>\r\n                        <ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.newTab}</ButtonTitle>\r\n                        <ButtonAccelerator>{platform.isDarwin ? 'Cmd+T' : 'Ctrl+T'}</ButtonAccelerator>\r\n                    </Button>\r\n                    <Button onClick={() => { this.closeMenu(); ipcRenderer.send(`window-add`, { isPrivate: false }); }}>\r\n                        <ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.newWindow}</ButtonTitle>\r\n                        <ButtonAccelerator>{platform.isDarwin ? 'Cmd+N' : 'Ctrl+N'}</ButtonAccelerator>\r\n                    </Button>\r\n                    <Button onClick={() => { this.closeMenu(); ipcRenderer.send(`window-add`, { isPrivate: true }); }}>\r\n                        <ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.openPrivateWindow}</ButtonTitle>\r\n                        <ButtonAccelerator>{platform.isDarwin ? 'Cmd+Shift+N' : 'Ctrl+Shift+N'}</ButtonAccelerator>\r\n                    </Button>\r\n                    <Divider style={{ marginBottom: 0 }} isVertical={false} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                    <div style={{ display: 'flex', paddingLeft: 7 }}>\r\n                        <span style={{ width: 'auto', marginLeft: 25, display: 'flex', WebkitBoxAlign: 'center', alignItems: 'center' }}>{lang.window.toolBar.menu.menus.zoom.name}</span>\r\n                        <div style={{ display: 'flex', marginLeft: 'auto' }}>\r\n                            <Button title={lang.window.toolBar.menu.menus.zoom.zoomIn} onClick={() => { ipcRenderer.send(`browserView-zoomIn-${this.props.windowId}`, { id: this.props.match.params.tabId }); this.forceUpdate(); }}\r\n                                style={{ width: 50, height: 30, padding: '4px 16px', display: 'inline-table', borderLeft: `solid 1px ${config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n                                <img src={`${this.getIconDirectory()}/zoom_in.png`} style={{ verticalAlign: 'middle' }} />\r\n                            </Button>\r\n                            <div style={{ width: 50, height: 30, padding: '4px 16px', display: 'inline-table', borderLeft: `solid 1px ${config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n                                {(this.state.zoomSize * 100).toFixed(0)}%\r\n\t\t\t\t\t\t\t</div>\r\n                            <Button title={lang.window.toolBar.menu.menus.zoom.zoomOut} onClick={() => { ipcRenderer.send(`browserView-zoomOut-${this.props.windowId}`, { id: this.props.match.params.tabId }); this.forceUpdate(); }}\r\n                                style={{ width: 50, height: 30, padding: '4px 16px', display: 'inline-table', borderLeft: `solid 1px ${config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n                                <img src={`${this.getIconDirectory()}/zoom_out.png`} style={{ verticalAlign: 'middle' }} />\r\n                            </Button>\r\n                            <Button title={lang.window.toolBar.menu.menus.zoom.fullScreen} onClick={() => { this.closeMenu(); ipcRenderer.send(`window-fullScreen-${this.props.windowId}`, {}); }}\r\n                                style={{ width: 50, height: 30, padding: '4px 16px', display: 'inline-table', borderLeft: `solid 1px ${config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n                                <img src={`${this.getIconDirectory()}/fullscreen.png`} style={{ verticalAlign: 'middle' }} />\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    <Divider style={{ marginTop: 0, marginBottom: 0 }} isVertical={false} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                    <div style={{ display: 'flex', paddingLeft: 7 }}>\r\n                        <span style={{ width: 'auto', marginLeft: 25, display: 'flex', WebkitBoxAlign: 'center', alignItems: 'center' }}>{lang.window.toolBar.menu.menus.edit.name}</span>\r\n                        <div style={{ display: 'flex', marginLeft: 'auto' }}>\r\n                            <Button style={{ width: 70, height: 30, borderLeft: `solid 1px ${config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n                                {lang.window.toolBar.menu.menus.edit.cut}\r\n                            </Button>\r\n                            <Button style={{ width: 70, height: 30, borderLeft: `solid 1px ${config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n                                {lang.window.toolBar.menu.menus.edit.copy}\r\n                            </Button>\r\n                            <Button style={{ width: 70, height: 30, borderLeft: `solid 1px ${config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n                                {lang.window.toolBar.menu.menus.edit.paste}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    <Divider style={{ marginTop: 0 }} isVertical={false} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                    <Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://bookmarks`, true); }}>\r\n                        <img src={`${this.getIconDirectory()}/bookmarks.png`} style={{ verticalAlign: 'middle' }} />\r\n                        <ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.bookmarks}</ButtonTitle>\r\n                        <ButtonAccelerator>{platform.isDarwin ? 'Cmd+B' : 'Ctrl+B'}</ButtonAccelerator>\r\n                    </Button>\r\n                    <Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://history`, true); }}>\r\n                        <img src={`${this.getIconDirectory()}/history.png`} style={{ verticalAlign: 'middle' }} />\r\n                        <ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.history}</ButtonTitle>\r\n                        <ButtonAccelerator>{platform.isDarwin ? 'Cmd+H' : 'Ctrl+H'}</ButtonAccelerator>\r\n                    </Button>\r\n                    <Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://downloads`, true); }}>\r\n                        <img src={`${this.getIconDirectory()}/download.png`} style={{ verticalAlign: 'middle' }} />\r\n                        <ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.downloads}</ButtonTitle>\r\n                        <ButtonAccelerator>{platform.isDarwin ? 'Cmd+D' : 'Ctrl+D'}</ButtonAccelerator>\r\n                    </Button>\r\n                    <Button onClick={() => { this.setState({ isOpen: 'app' }); }}>\r\n                        <ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.app.name}</ButtonTitle>\r\n                        <ButtonAccelerator></ButtonAccelerator>\r\n                        <MoreIcon isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                    </Button>\r\n                    <Divider isVertical={false} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                    <Button onClick={() => { this.closeMenu(); ipcRenderer.send(`browserView-print-${this.props.windowId}`, { id: this.props.match.params.tabId }); }}>\r\n                        <img src={`${this.getIconDirectory()}/print.png`} style={{ verticalAlign: 'middle' }} />\r\n                        <ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.print}</ButtonTitle>\r\n                        <ButtonAccelerator>{platform.isDarwin ? 'Cmd+P' : 'Ctrl+P'}</ButtonAccelerator>\r\n                    </Button>\r\n                    <Button>\r\n                        <img src={`${this.getIconDirectory()}/find.png`} style={{ verticalAlign: 'middle' }} />\r\n                        <ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.find}</ButtonTitle>\r\n                        <ButtonAccelerator>{platform.isDarwin ? 'Cmd+F' : 'Ctrl+F'}</ButtonAccelerator>\r\n                    </Button>\r\n                    <Button onClick={() => { this.setState({ isOpen: 'otherTools' }); }}>\r\n                        <ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.otherTools.name}</ButtonTitle>\r\n                        <ButtonAccelerator></ButtonAccelerator>\r\n                        <MoreIcon isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                    </Button>\r\n                    <Divider isVertical={false} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                    <Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://settings`, true); }}>\r\n                        <img src={`${this.getIconDirectory()}/settings.png`} style={{ verticalAlign: 'middle' }} />\r\n                        <ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.settings}</ButtonTitle>\r\n                        <ButtonAccelerator></ButtonAccelerator>\r\n                    </Button>\r\n                    <Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://help`, true); }}>\r\n                        <img src={`${this.getIconDirectory()}/help_outline.png`} style={{ verticalAlign: 'middle' }} />\r\n                        <ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.help}</ButtonTitle>\r\n                        <ButtonAccelerator></ButtonAccelerator>\r\n                    </Button>\r\n                    <Divider isVertical={false} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                    <Button>\r\n                        <ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.close}</ButtonTitle>\r\n                        <ButtonAccelerator>{platform.isDarwin ? 'Cmd+Q' : 'Alt+F4'}</ButtonAccelerator>\r\n                    </Button>\r\n                </Window>\r\n                <Dialog isOpen={this.state.isOpen === 'userInfo'} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')}>\r\n                    <DialogHeader>\r\n                        <DialogHeaderButton src={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? DarkBackIcon : LightBackIcon} size={18} onClick={() => { this.setState({ isOpen: null }); }} />\r\n                        <DialogHeaderTitle>{lang.window.toolBar.menu.menus.userInfo}</DialogHeaderTitle>\r\n                    </DialogHeader>\r\n                    <DialogContainer isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')}>\r\n                    </DialogContainer>\r\n                </Dialog>\r\n                <Dialog isOpen={this.state.isOpen === 'app'} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')}>\r\n                    <DialogHeader>\r\n                        <DialogHeaderButton src={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? DarkBackIcon : LightBackIcon} size={18} onClick={() => { this.setState({ isOpen: null }); }} />\r\n                        <DialogHeaderTitle>{lang.window.toolBar.menu.menus.app.name}</DialogHeaderTitle>\r\n                    </DialogHeader>\r\n                    <DialogContainer isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')}>\r\n                        <Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://apps/`); }}>\r\n                            <img src={`${this.getIconDirectory()}/apps.png`} style={{ verticalAlign: 'middle' }} />\r\n                            <ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.app.list}</ButtonTitle>\r\n                            <ButtonAccelerator></ButtonAccelerator>\r\n                        </Button>\r\n                        <Divider isVertical={false} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                        <Button onClick={() => { this.closeMenu(); ipcRenderer.send(`appWindow-add`, { url: this.state.url }); }}>\r\n                            <ButtonTitle hasIcon={false}>{String(lang.window.toolBar.menu.menus.app.run).replace(/{title}/, lang.window.toolBar.menu.menus.app.name)}</ButtonTitle>\r\n                            <ButtonAccelerator></ButtonAccelerator>\r\n                        </Button>\r\n                    </DialogContainer>\r\n                </Dialog>\r\n                <Dialog isOpen={this.state.isOpen === 'otherTools'} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')}>\r\n                    <DialogHeader>\r\n                        <DialogHeaderButton src={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? DarkBackIcon : LightBackIcon} size={18} onClick={() => { this.setState({ isOpen: null }); }} />\r\n                        <DialogHeaderTitle>{lang.window.toolBar.menu.menus.otherTools.name}</DialogHeaderTitle>\r\n                    </DialogHeader>\r\n                    <DialogContainer isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')}>\r\n                        <Button onClick={() => { this.closeMenu(); ipcRenderer.send(`browserView-savePage-${this.props.windowId}`, { id: this.props.match.params.tabId }); }}>\r\n                            <img src={`${this.getIconDirectory()}/save.png`} style={{ verticalAlign: 'middle' }} />\r\n                            <ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.otherTools.savePage}</ButtonTitle>\r\n                            <ButtonAccelerator>{platform.isDarwin ? 'Cmd+S' : 'Ctrl+S'}</ButtonAccelerator>\r\n                        </Button>\r\n                        <Divider isVertical={false} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')} />\r\n                        <Button onClick={() => { this.closeMenu(); ipcRenderer.send(`browserView-viewSource-${this.props.windowId}`, { id: this.props.match.params.tabId }); }}>\r\n                            <ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.otherTools.viewSource}</ButtonTitle>\r\n                            <ButtonAccelerator>{platform.isDarwin ? 'Cmd+U' : 'Ctrl+U'}</ButtonAccelerator>\r\n                        </Button>\r\n                        <Button onClick={() => { this.closeMenu(); webView.isDevToolsOpened() ? webView.getDevToolsWebContents().focus() :  webView.openDevTools(); }}>\r\n                            <ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.otherTools.devTool}</ButtonTitle>\r\n                            <ButtonAccelerator>{platform.isDarwin ? 'Cmd+Shift+I' : 'Ctrl+Shift+I'}</ButtonAccelerator>\r\n                        </Button>\r\n                    </DialogContainer>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MenuWindow;","import styled from 'styled-components';\r\nimport TabButton from '../TabButton';\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nexport const Suggest = styled.div`\r\n  width: ${props => props.width}px;\r\n  top: ${props => props.top + 31}px;\r\n  left: ${props => props.left + 1}px;\r\n  position: absolute;\r\n  padding: 0;\r\n  display: ${props => props.isShowing ? 'flex' : 'none'};\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.16), 0px 2px 4px rgba(0, 0, 0, 0.23);\r\n  background-color: ${props => props.isDarkModeOrPrivateMode ? '#353535' : '#f9f9fa'};\r\n  color: ${props => props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport const SuggestListContainer = styled.ul`\r\n  margin: 5px;\r\n  padding: 0px;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport const SuggestListItem = styled.li`\r\n  padding: 4px 6px;\r\n  list-style: none;\r\n  transition: 0.2s background-color;\r\n  border-radius: 2px;\r\n  box-sizing: border-box;\r\n  &:hover {\r\n    background-color: rgba(196, 196, 196, 0.4);\r\n  }\r\n`;\r\n\r\nexport const SuggestListItemPrimaryText = styled.span`\r\n  font-size: 14px;\r\n`;\r\n\r\nexport const SuggestListItemSecondaryText = styled.span`\r\n  margin-left: 5px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  opacity: 0;\r\n  box-sizing: border-box;\r\n  \r\n  ${SuggestListItem}:hover & {\r\n\topacity: 1;\r\n  }\r\n`;\r\n\r\nexport const SuggestListItemIcon = styled.div`\r\n  width: ${props => props.size}px;\r\n  height: ${props => props.size}px;\r\n  margin-right: 5px;\r\n  display: inline-block;\r\n  vertical-align: sub;\r\n  background-image: url(${props => props.src});\r\n  background-size: ${props => props.size}px;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport const SuggestButton = styled.li`\r\n  background: transparent;\r\n  transition: 0.2s background-color;\r\n  box-sizing: border-box;\r\n  &:hover {\r\n    background-color: rgba(196, 196, 196, 0.4);\r\n  }\r\n`;","import React, { Component } from 'react';\r\n\r\nimport { Suggest, SuggestListContainer, SuggestListItem, SuggestListItemIcon, SuggestListItemPrimaryText, SuggestListItemSecondaryText, SuggestButton } from './Suggest';\r\n\r\nimport DarkFileIcon from '../../Resources/dark/file.svg';\r\nimport LightFileIcon from '../../Resources/light/file.svg';\r\nimport DarkSearchIcon from '../../Resources/dark/search.svg';\r\nimport LightSearchIcon from '../../Resources/light/search.svg';\r\n\r\nimport * as http from 'http';\r\nimport * as https from 'https';\r\nimport { parse } from 'url';\r\n\r\nimport { isURL, prefixHttp } from '../../../Utils/URL';\r\n\r\nconst { remote, ipcRenderer, shell } = window.require('electron');\r\nconst { app, systemPreferences, Menu, MenuItem, dialog } = remote;\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst lang = window.require(`${app.getAppPath()}/langs/${config.get('language') != undefined ? config.get('language') : 'ja'}.js`);\r\n\r\nclass SuggestComponent extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tid: '',\r\n\t\t\tsuggestions: [],\r\n\t\t\tsearchEngines: []\r\n\t\t};\r\n\r\n\t\tipcRenderer.on('window-change-settings', (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount = async () => {\r\n\t\tconfig.get('searchEngine.searchEngines').forEach((item, i) => {\r\n\t\t\tthis.setState(state => { return { searchEngines: [...state.searchEngines, item] }; });\r\n\t\t});\r\n\r\n\t\tthis.showSuggest(this.props.text);\r\n\t}\r\n\r\n\tcomponentDidUpdate = async (props) => {\r\n\t\tif (this.props.text !== props.text) {\r\n\t\t\tthis.setState({ searchEngines: [] });\r\n\t\t\tconfig.get('searchEngine.searchEngines').forEach((item, i) => {\r\n\t\t\t\tthis.setState(state => { return { searchEngines: [...state.searchEngines, item] }; });\r\n\t\t\t});\r\n\r\n\t\t\tthis.showSuggest(this.props.text);\r\n\t\t}\r\n\t}\r\n\r\n\tshowSuggest = async (text) => {\r\n\t\tconst data = JSON.parse((await this.requestURL(`http://google.com/complete/search?client=chrome&hl=ja&ie=utf_8&oe=utf_8&q=${encodeURIComponent(text)}`)).data);\r\n\r\n\t\tlet suggestions = [];\r\n\r\n\t\tconsole.log(data);\r\n\t\tfor (const item of data[1]) {\r\n\t\t\tif (suggestions.indexOf(item) === -1) {\r\n\t\t\t\tsuggestions.push(String(item).toLowerCase());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tsuggestions: suggestions.sort((a, b) => a.length - b.length).slice(0, 5),\r\n\t\t});\r\n\r\n\t\tconsole.log(suggestions.sort((a, b) => a.length - b.length).slice(0, 5));\r\n\t}\r\n\r\n\trequestURL = (url) =>\r\n\t\tnew Promise((resolve, reject) => {\r\n\t\t\tconst options = parse(url);\r\n\r\n\t\t\tlet request = http.request;\r\n\t\t\tif (options.protocol === 'https:')\r\n\t\t\t\trequest = https.request;\r\n\r\n\t\t\tconst req = request(options, res => {\r\n\t\t\t\tlet data = '';\r\n\t\t\t\tres.setEncoding('utf8');\r\n\r\n\t\t\t\tres.on('data', chunk => {\r\n\t\t\t\t\tdata += chunk;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tres.on('end', () => {\r\n\t\t\t\t\tconst d = { ...res, data };\r\n\t\t\t\t\tresolve(d);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\treq.on('error', e => {\r\n\t\t\t\treject(e);\r\n\t\t\t});\r\n\r\n\t\t\treq.end();\r\n\t\t});\r\n\r\n\tgetSearchEngine = () => {\r\n\t\tfor (var i = 0; i < config.get('searchEngine.searchEngines').length; i++) {\r\n\t\t\tif (config.get('searchEngine.searchEngines')[i].name == config.get('searchEngine.defaultEngine')) {\r\n\t\t\t\treturn config.get('searchEngine.searchEngines')[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetSuggestIcon = () => {\r\n\t\tconst value = this.props.text;\r\n\r\n\t\tif (isURL(value) && !value.includes('://'))\r\n\t\t\treturn config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? DarkFileIcon : LightFileIcon;\r\n\t\telse if (!value.includes('://'))\r\n\t\t\treturn config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? DarkSearchIcon : LightSearchIcon;\r\n\t\telse\r\n\t\t\treturn config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? DarkFileIcon : LightFileIcon;\r\n\t}\r\n\r\n\tgetSuggestSecondaryText = () => {\r\n\t\tconst value = this.props.text;\r\n\r\n\t\tif (isURL(value) && !value.includes('://'))\r\n\t\t\treturn lang.window.toolBar.addressBar.textBox.suggest.open;\r\n\t\telse if (!value.includes('://'))\r\n\t\t\treturn String(lang.window.toolBar.addressBar.textBox.suggest.search).replace(/{replace}/, this.getSearchEngine().name);\r\n\t\telse\r\n\t\t\treturn lang.window.toolBar.addressBar.textBox.suggest.open;\r\n\t}\r\n\r\n\tgetForegroundColor = (hexColor) => {\r\n\t\tvar r = parseInt(hexColor.substr(1, 2), 16);\r\n\t\tvar g = parseInt(hexColor.substr(3, 2), 16);\r\n\t\tvar b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n\t\treturn ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n\t}\r\n\r\n\tloadURL = (value) => {\r\n\t\tipcRenderer.send(`window-hideSuggest-${this.props.match.params.windowId}`, {});\r\n\r\n\t\tif (isURL(value) && !value.includes('://')) {\r\n\t\t\tipcRenderer.send(`suggestWindow-loadURL-${this.props.match.params.windowId}`, { id: this.state.id, url: `http://${value}` });\r\n\t\t} else if (!value.includes('://')) {\r\n\t\t\tipcRenderer.send(`suggestWindow-loadURL-${this.props.match.params.windowId}`, { id: this.state.id, url: this.getSearchEngine().url.replace('%s', encodeURIComponent(value)) });\r\n\t\t} else {\r\n\t\t\tconst pattern = /^(file:\\/\\/\\S.*)\\S*$/;\r\n\r\n\t\t\tif (pattern.test(value)) {\r\n\t\t\t\tipcRenderer.send(`browserView-loadFile-${this.props.match.params.windowId}`, { id: this.state.id, url: value.replace('file:///', '') });\r\n\t\t\t} else {\r\n\t\t\t\tipcRenderer.send(`suggestWindow-loadURL-${this.props.match.params.windowId}`, { id: this.state.id, url: value });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst webView = this.props.webView;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Suggest width={this.props.textBoxWidth} top={this.props.textBoxTop} left={this.props.textBoxLeft} isShowing={this.props.isShowing} isDarkModeOrPrivateMode={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private')}>\r\n\t\t\t\t<SuggestListContainer>\r\n\t\t\t\t\t<SuggestListItem style={{ borderBottom: this.state.suggestions.length > 0 ? 'solid 1px #c1c1c1' : 'none', color: config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#f9f9fa' : '#353535' }} windowId={this.props.windowId} onClick={() => { this.props.loadURL(this.props.text); }}>\r\n\t\t\t\t\t\t<SuggestListItemIcon src={this.getSuggestIcon()} size={17} />\r\n\t\t\t\t\t\t<SuggestListItemPrimaryText>{this.props.text}</SuggestListItemPrimaryText>\r\n\t\t\t\t\t\t<SuggestListItemSecondaryText>\r\n\t\t\t\t\t\t\t<span style={{ margin: '0px 4px' }}>&mdash;</span>\r\n\t\t\t\t\t\t\t{this.getSuggestSecondaryText()}\r\n\t\t\t\t\t\t</SuggestListItemSecondaryText>\r\n\t\t\t\t\t</SuggestListItem>\r\n\t\t\t\t\t{this.state.suggestions.map((item, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<SuggestListItem tabIndex={i} key={i} style={{ color: config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#f9f9fa' : '#353535' }} windowId={this.props.windowId} onClick={() => { this.props.loadURL(this.getSearchEngine().url.replace('%s', encodeURIComponent(item))); }}>\r\n\t\t\t\t\t\t\t\t<SuggestListItemIcon src={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? DarkSearchIcon : LightSearchIcon} size={17} />\r\n\t\t\t\t\t\t\t\t<SuggestListItemPrimaryText>{item}</SuggestListItemPrimaryText>\r\n\t\t\t\t\t\t\t\t<SuggestListItemSecondaryText>\r\n\t\t\t\t\t\t\t\t\t<span style={{ margin: '0px 4px' }}>&mdash;</span>\r\n\t\t\t\t\t\t\t\t\t{String(lang.window.toolBar.addressBar.textBox.suggest.search).replace(/{replace}/, this.getSearchEngine().name)}\r\n\t\t\t\t\t\t\t\t</SuggestListItemSecondaryText>\r\n\t\t\t\t\t\t\t</SuggestListItem>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</SuggestListContainer>\r\n\t\t\t\t<ul style={{ margin: 0, padding: 0, backgroundColor: config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#5a5a5a' : '#eaeaea', borderTop: 'solid 1px #c1c1c1' }}>\r\n\t\t\t\t\t<SuggestButton style={{ listStyle: 'none', borderRight: 'solid 1px #c1c1c1', padding: '5px 15px', display: 'inline-table' }} title={this.getSearchEngine().name} onClick={() => { this.props.loadURL(this.getSearchEngine().url.replace('%s', encodeURIComponent(this.props.text))); }}>\r\n\t\t\t\t\t\t<img src={`https://www.google.com/s2/favicons?domain=${parse(this.getSearchEngine().url).protocol}//${parse(this.getSearchEngine().url).hostname}`} alt={this.getSearchEngine().name} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t<span style={{ marginLeft: 8, verticalAlign: 'middle' }}>{String(lang.window.toolBar.addressBar.textBox.suggest.search).replace(/{replace}/, this.getSearchEngine().name)}</span>\r\n\t\t\t\t\t</SuggestButton>\r\n\t\t\t\t\t{this.state.searchEngines.map((item, i) => {\r\n\t\t\t\t\t\tif (this.getSearchEngine().url !== item.url) {\r\n\t\t\t\t\t\t\tconst parsed = parse(item.url);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<SuggestButton key={i} style={{ listStyle: 'none', borderRight: 'solid 1px #c1c1c1', padding: '5px 15px', display: 'inline-table' }} title={String(lang.window.toolBar.addressBar.textBox.suggest.search).replace(/{replace}/, item.name)} onClick={() => { this.props.loadURL(item.url.replace('%s', encodeURIComponent(this.props.text))); }}>\r\n\t\t\t\t\t\t\t\t\t<img src={`https://www.google.com/s2/favicons?domain=${parsed.protocol}//${parsed.hostname}`} alt={item.name} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t\t\t</SuggestButton>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t<SuggestButton style={{ listStyle: 'none', float: 'right', padding: '5px 10px', display: 'inline-table' }} onClick={() => this.props.loadURL()}>\r\n\t\t\t\t\t\t<svg name=\"TitleBarClose\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill={config.get('design.isDarkTheme') || String(this.props.windowId).startsWith('private') ? '#f9f9fa' : '#353535'} style={{ verticalAlign: 'middle' }}>\r\n\t\t\t\t\t\t\t<polygon fill-rule=\"evenodd\" points=\"11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1\" />\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</SuggestButton>\r\n\t\t\t\t</ul>\r\n\t\t\t</Suggest>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SuggestComponent;","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport Tippy from '@tippy.js/react';\r\nimport Sortable from 'sortablejs';\r\nimport { parse, format } from 'url';\r\n\r\nimport Window from './Components/Window';\r\nimport WindowButtons from './Components/WindowButtons';\r\nimport WindowButton from './Components/WindowButton';\r\nimport WindowContent from './Components/WindowContent';\r\nimport Titlebar from './Components/Titlebar';\r\nimport Tabs from './Components/Tabs';\r\nimport { TabContainer, Tab, TabIcon, TabTitle, TabStatusIcon, TabCloseButton } from './Components/Tab';\r\nimport TabButton from './Components/TabButton';\r\nimport TabContent from './Components/TabContent';\r\nimport Toolbar from './Components/Toolbar';\r\nimport { ToolbarButton, ToolbarButtonBadge } from './Components/ToolbarButton';\r\nimport ToolbarDivider from './Components/ToolbarDivider';\r\nimport { ToolbarTextBoxWrapper, ToolbarTextBox, ToolbarTextBox2 } from './Components/ToolbarTextBox';\r\nimport BookmarkBar from './Components/BookmarkBar';\r\nimport ContentWrapper from './Components/ContentWrapper';\r\n\r\nimport ApplicationIcon from './Resources/icon.png';\r\n\r\nimport WindowMinimizeIcon from './Resources/windows/minimize.svg';\r\nimport WindowMaximizeIcon from './Resources/windows/maximize.svg';\r\nimport WindowCloseIcon from './Resources/windows/close.svg';\r\n\r\nimport DarkFullScreenExitIcon from './Resources/dark/fullscreen_exit.svg';\r\nimport LightFullScreenExitIcon from './Resources/light/fullscreen_exit.svg';\r\n\r\nimport DarkBackIcon from './Resources/dark/arrow_back.svg';\r\nimport LightBackIcon from './Resources/light/arrow_back.svg';\r\nimport DarkForwardIcon from './Resources/dark/arrow_forward.svg';\r\nimport LightForwardIcon from './Resources/light/arrow_forward.svg';\r\n\r\nimport BackInActiveIcon from './Resources/inactive/arrow_back.svg';\r\nimport ForwardInActiveIcon from './Resources/inactive/arrow_forward.svg';\r\n\r\nimport DarkReloadIcon from './Resources/dark/reload.svg';\r\nimport LightReloadIcon from './Resources/light/reload.svg';\r\nimport DarkHomeIcon from './Resources/dark/home.svg';\r\nimport LightHomeIcon from './Resources/light/home.svg';\r\n\r\nimport DarkInfomationIcon from './Resources/dark/info.svg';\r\nimport LightInfomationIcon from './Resources/light/info.svg';\r\n\r\nimport DarkSecureIcon from './Resources/dark/secure.svg';\r\nimport LightSecureIcon from './Resources/light/secure.svg';\r\nimport DarkInSecureIcon from './Resources/dark/insecure.svg';\r\nimport LightInSecureIcon from './Resources/light/insecure.svg';\r\n\r\nimport DarkTranslateIcon from './Resources/dark/translate.svg';\r\nimport LightTranslateIcon from './Resources/light/translate.svg';\r\n\r\nimport DarkZoomInIcon from './Resources/dark/zoom_in.svg';\r\nimport LightZoomInIcon from './Resources/light/zoom_in.svg';\r\nimport DarkZoomOutIcon from './Resources/dark/zoom_out.svg';\r\nimport LightZoomOutIcon from './Resources/light/zoom_out.svg';\r\n\r\nimport DarkStarIcon from './Resources/dark/star.svg';\r\nimport LightStarIcon from './Resources/light/star.svg';\r\nimport DarkStarFilledIcon from './Resources/dark/star-filled.svg';\r\nimport LightStarFilledIcon from './Resources/light/star-filled.svg';\r\n\r\nimport DarkFeedbackIcon from './Resources/dark/feedback.svg';\r\nimport LightFeedbackIcon from './Resources/light/feedback.svg';\r\nimport DarkAccountIcon from './Resources/dark/account.svg';\r\nimport LightAccountIcon from './Resources/light/account.svg';\r\n\r\nimport DarkShieldIcon from './Resources/dark/shield.svg';\r\nimport LightShieldIcon from './Resources/light/shield.svg';\r\n\r\nimport DarkMoreIcon from './Resources/dark/more.svg';\r\nimport LightMoreIcon from './Resources/light/more.svg';\r\n\r\nimport DarkPublicIcon from './Resources/dark/public.svg';\r\nimport LightPublicIcon from './Resources/light/public.svg';\r\n\r\nimport DarkAddIcon from './Resources/dark/add.svg';\r\nimport LightAddIcon from './Resources/light/add.svg';\r\nimport DarkCloseIcon from './Resources/dark/close.svg';\r\nimport LightCloseIcon from './Resources/light/close.svg';\r\n\r\nimport DarkAudioIcon from './Resources/dark/audio.svg';\r\nimport LightAudioIcon from './Resources/light/audio.svg';\r\nimport DarkAudioMuteIcon from './Resources/dark/audio_mute.svg';\r\nimport LightAudioMuteIcon from './Resources/light/audio_mute.svg';\r\n\r\nimport DarkSearchIcon from './Resources/dark/search.svg';\r\nimport LightSearchIcon from './Resources/light/search.svg';\r\n\r\nimport 'tippy.js/dist/tippy.css';\r\nimport 'tippy.js/themes/light.css';\r\nimport 'tippy.js/themes/light-border.css';\r\nimport 'tippy.js/themes/material.css';\r\nimport 'tippy.js/themes/translucent.css';\r\n\r\nimport { isURL, prefixHttp } from '../Utils/URL';\r\n\r\nconst { remote, ipcRenderer, shell } = window.require('electron');\r\nconst { app, systemPreferences, Menu, MenuItem, dialog, nativeTheme } = remote;\r\n\r\nconst pkg = window.require(`${app.getAppPath()}/package.json`);\r\nconst protocolStr = 'flast';\r\nconst fileProtocolStr = `${protocolStr}-file`;\r\n\r\nconst platform = window.require('electron-platform');\r\nconst path = window.require('path');\r\nconst process = window.require('process');\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst lang = window.require(`${app.getAppPath()}/langs/${config.get('language') != undefined ? config.get('language') : 'ja'}.js`);\r\n\r\nclass BrowserView extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.blockCount = 0;\r\n\r\n\t\tthis.state = {\r\n\t\t\tbarText: '',\r\n\t\t\tfindText: '',\r\n\t\t\tpreviousText: '',\r\n\t\t\tresultString: '',\r\n\t\t\tactiveMatch: 0,\r\n\t\t\tcertificate: {},\r\n\t\t\tviewUrl: '',\r\n\t\t\tzoomSize: 1,\r\n\t\t\tisLoading: false,\r\n\t\t\tcanGoBack: false,\r\n\t\t\tcanGoForward: false,\r\n\t\t\tisBookmarked: false,\r\n\t\t\tisShowing: true,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ zoomSize: config.get('pageSettings.defaultZoomSize') });\r\n\r\n\t\t/*\r\n\t\tlet webView = this.refs.webView;\r\n\t\tlet props = this.props;\r\n\r\n\t\twebView.addEventListener('did-finish-load', (e) => {\r\n\t\t\tdocument.title = webView.getTitle();\r\n\t\t\tthis.setText(webView.getURL());\r\n\t\t\tthis.props.updateTab(webView.getTitle(), PublicIcon, webView.getURL(), this.props.index);\r\n\t\t\tthis.setState({ barText: webView.getURL() });\r\n\t\t}, false);\r\n\r\n\t\twebView.addEventListener('page-title-updated', (e) => {\r\n\t\t\tdocument.title = webView.getTitle();\r\n\t\t\tthis.setText(webView.getURL());\r\n\t\t\tthis.props.updateTab(webView.getTitle(), PublicIcon, webView.getURL(), this.props.index);\r\n\t\t\tthis.setState({ barText: webView.getURL() });\r\n\t\t}, false);\r\n\r\n\t\twebView.addEventListener('page-favicon-updated', (e) => {\r\n\t\t\tif (e.favicons.length > 0) {\r\n\t\t\t\tthis.props.updateTab(webView.getTitle(), e.favicons[0], webView.getURL(), this.props.index);\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.updateTab(webView.getTitle(), PublicIcon, webView.getURL(), this.props.index);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\twebView.addEventListener('load-commit', (e) => {\r\n\t\t\tif (e.isMainFrame) {\r\n\t\t\t\tdocument.title = webView.getTitle();\r\n\t\t\t\tthis.setText(webView.getURL());\r\n\t\t\t\tthis.props.updateTab(webView.getTitle(), PublicIcon, webView.getURL(), this.props.index);\r\n\t\t\t\tthis.setState({ barText: webView.getURL() });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\twebView.addEventListener('found-in-page', (e, result) => {\r\n\t\t\tif (result.activeMatchOrdinal) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tactiveMatch: result.activeMatchOrdinal,\r\n\t\t\t\t\tresultString: `${this.state.activeMatch}/${result.matches}`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (result.finalUpdate) {\r\n\t\t\t\tthis.setState({ resultString: `${this.state.activeMatch}/${result.matches}` });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\twebView.addEventListener('new-window', (e, url) => {\r\n\t\t\tthis.props.addTab('新しいタブ', '', e.url);\r\n\t\t});\r\n\t\t*/\r\n\r\n\t\tipcRenderer.on(`browserView-start-loading-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.setState({ isLoading: true });\r\n\t\t\t\tthis.blockCount = 0;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-stop-loading-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.setState({ isLoading: false });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-load-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.props.updateTab();\r\n\t\t\t\tthis.setState({ viewUrl: args.url, isBookmarked: args.isBookmarked });\r\n\t\t\t\tthis.setText(args.url);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-certificate-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.setState({ certificate: args.certificate });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`blocked-ad-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.blockCount++\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`update-navigation-state-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tthis.setState({ canGoBack: args.canGoBack, canGoForward: args.canGoForward });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-permission-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tconst toolTip = findDOMNode(this.infomationTooltip)._tippy;\r\n\t\t\t\ttoolTip.setContent(args.content);\r\n\t\t\t\ttoolTip.show();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\ttoolTip.hide();\r\n\t\t\t\t}, 1250);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-zoom-${this.props.windowId}`, (e, args) => {\r\n\t\t\tthis.setState({ zoomSize: args.result });\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`notification-${this.props.windowId}`, (e, args) => {\r\n\t\t\tif (args.id === this.props.index) {\r\n\t\t\t\tconst toolTip = findDOMNode(this.infomationTooltip)._tippy;\r\n\t\t\t\ttoolTip.setContent(args.content);\r\n\t\t\t\ttoolTip.show();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\ttoolTip.hide();\r\n\t\t\t\t}, 1250);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetTheme = () => {\r\n\t\tif (config.get('design.theme') === -1)\r\n\t\t\treturn nativeTheme.shouldUseDarkColors;\r\n\t\telse if (config.get('design.theme') === 0)\r\n\t\t\treturn false;\r\n\t\telse if (config.get('design.theme') === 1)\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\thandleKeyDown = (e) => {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\tconst value = this.state.barText;\r\n\r\n\t\t\tif (value.length > 0 || value !== '') {\r\n\t\t\t\tipcRenderer.send(`window-hideSuggest-${this.props.windowId}`, {});\r\n\r\n\t\t\t\tif (isURL(value) && !value.includes('://')) {\r\n\t\t\t\t\tipcRenderer.send(`browserView-loadURL-${this.props.windowId}`, { id: this.props.index, url: `http://${value}` });\r\n\t\t\t\t} else if (!value.includes('://')) {\r\n\t\t\t\t\tipcRenderer.send(`browserView-loadURL-${this.props.windowId}`, { id: this.props.index, url: this.getSearchEngine().url.replace('%s', encodeURIComponent(value)) });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst pattern = /^(file:\\/\\/\\S.*)\\S*$/;\r\n\r\n\t\t\t\t\tif (pattern.test(value)) {\r\n\t\t\t\t\t\tipcRenderer.send(`browserView-loadFile-${this.props.windowId}`, { id: this.props.index, url: value.replace('file:///', '') });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tipcRenderer.send(`browserView-loadURL-${this.props.windowId}`, { id: this.props.index, url: value });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tipcRenderer.send(`window-hideSuggest-${this.props.windowId}`, {});\r\n\r\n\t\t\t\tthis.setText(this.state.viewUrl);\r\n\t\t\t}\r\n\t\t} else if (e.key === 'Escape') {\r\n\t\t\tipcRenderer.send(`window-hideSuggest-${this.props.windowId}`, {});\r\n\r\n\t\t\tthis.setText(this.state.viewUrl);\r\n\t\t}\r\n\t}\r\n\r\n\thandleContextMenu = (e) => {\r\n\t\tconst menu = Menu.buildFromTemplate([\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.undo,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+Z',\r\n\t\t\t\trole: 'undo'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.redo,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+Y',\r\n\t\t\t\trole: 'redo'\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.cut,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+X',\r\n\t\t\t\trole: 'cut'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.copy,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+C',\r\n\t\t\t\trole: 'copy'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.paste,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+V',\r\n\t\t\t\trole: 'paste'\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.view.contextMenu.editable.selectAll,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+A',\r\n\t\t\t\trole: 'selectAll'\r\n\t\t\t}\r\n\t\t]);\r\n\t\tmenu.popup();\r\n\t}\r\n\r\n\tgetSearchEngine = () => {\r\n\t\tfor (var i = 0; i < config.get('searchEngine.searchEngines').length; i++) {\r\n\t\t\tif (config.get('searchEngine.searchEngines')[i].name === config.get('searchEngine.defaultEngine')) {\r\n\t\t\t\treturn config.get('searchEngine.searchEngines')[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetText = (text) => {\r\n\t\tthis.setState({ barText: text });\r\n\t}\r\n\r\n\tgoBack = () => {\r\n\t\tipcRenderer.send(`browserView-goBack-${this.props.windowId}`, { id: this.props.index });\r\n\t}\r\n\r\n\tgoForward = () => {\r\n\t\tipcRenderer.send(`browserView-goForward-${this.props.windowId}`, { id: this.props.index });\r\n\t}\r\n\r\n\treload = () => {\r\n\t\tif (!this.state.isLoading) {\r\n\t\t\tipcRenderer.send(`browserView-reload-${this.props.windowId}`, { id: this.props.index });\r\n\t\t} else {\r\n\t\t\tipcRenderer.send(`browserView-stop-${this.props.windowId}`, { id: this.props.index });\r\n\t\t}\r\n\t}\r\n\r\n\tgoHome = () => {\r\n\t\tipcRenderer.send(`browserView-goHome-${this.props.windowId}`, { id: this.props.index });\r\n\t}\r\n\r\n\tcertificate = () => {\r\n\t\tlet title = '';\r\n\t\tlet description = '';\r\n\t\tif (this.state.certificate.type === 'Internal') {\r\n\t\t\ttitle = lang.window.toolBar.addressBar.info.clicked.internal;\r\n\t\t} else if (this.state.certificate.type === 'Source') {\r\n\t\t\ttitle = lang.window.toolBar.addressBar.info.clicked.viewSource;\r\n\t\t} else if (this.state.certificate.type === 'File') {\r\n\t\t\ttitle = lang.window.toolBar.addressBar.info.clicked.file;\r\n\t\t} else if (this.state.certificate.type === 'Secure') {\r\n\t\t\ttitle = `<span style=\"color: ${this.getTheme() || String(this.props.windowId).startsWith('private') ? '#81c995' : '#188038'};\">${lang.window.toolBar.addressBar.info.clicked.secure.title}</span>`;\r\n\t\t\tdescription = `${lang.window.toolBar.addressBar.info.clicked.secure.description}${this.state.certificate.title != undefined && this.state.certificate.title != null ? `<br /><br />${this.state.certificate.title} [${this.state.certificate.country}]` : ''}`;\r\n\t\t} else if (this.state.certificate.type === 'InSecure') {\r\n\t\t\ttitle = `<span style=\"color: ${this.getTheme() || String(this.props.windowId).startsWith('private') ? '#f28b82' : '#c5221f'};\">${lang.window.toolBar.addressBar.info.clicked.insecure.title}</span>`;\r\n\t\t\tdescription = lang.window.toolBar.addressBar.info.clicked.insecure.description;\r\n\t\t}\r\n\r\n\t\tipcRenderer.send(`window-infoWindow-${this.props.windowId}`, { title, description, url: this.state.viewUrl, isButton: false });\r\n\t}\r\n\r\n\tbookMark = () => {\r\n\t\tconst toolTip = findDOMNode(this.markTooltip)._tippy;\r\n\t\ttoolTip.show();\r\n\t\tsetTimeout(() => {\r\n\t\t\ttoolTip.hide();\r\n\t\t}, 1250);\r\n\t\tif (this.state.isBookmarked)\r\n\t\t\tipcRenderer.send(`data-bookmark-remove-${this.props.windowId}`, { id: this.props.index, isPrivate: this.props.windowId.startsWith('private') });\r\n\t\telse\r\n\t\t\tipcRenderer.send(`data-bookmark-add-${this.props.windowId}`, { id: this.props.index, isPrivate: this.props.windowId.startsWith('private') });\r\n\t}\r\n\r\n\tuserMenu = async () => {\r\n\t\tconst menu = Menu.buildFromTemplate([\r\n\t\t\t{\r\n\t\t\t\tlabel: (!this.props.windowId.startsWith('private') ? `${process.env.USERNAME} でログイン中` : 'プライベートモード'),\r\n\t\t\t\tenabled: false,\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.close,\r\n\t\t\t\tclick: () => { remote.getCurrentWindow().close(); }\r\n\t\t\t}\r\n\t\t]);\r\n\t\tmenu.popup({\r\n\t\t\tx: remote.getCurrentWindow().getSize()[0] - 57,\r\n\t\t\ty: 67\r\n\t\t});\r\n\t}\r\n\r\n\tmoreMenu = () => {\r\n\t\tconst menu = Menu.buildFromTemplate([\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.newTab,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+T',\r\n\t\t\t\tclick: () => { this.props.addTab(config.get('homePage.defaultPage')); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.newWindow,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+N',\r\n\t\t\t\tclick: () => { ipcRenderer.send(`window-add`, { isPrivate: false }); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.openPrivateWindow,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+Shift+N',\r\n\t\t\t\tclick: () => { ipcRenderer.send(`window-add`, { isPrivate: true }); }\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.zoom.name,\r\n\t\t\t\ttype: 'submenu',\r\n\t\t\t\tsubmenu: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.zoom.zoomIn,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/zoom_in.png`,\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`browserView-zoomIn-${this.props.windowId}`, { id: this.props.index }); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.zoom.zoomOut,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/zoom_out.png`,\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`browserView-zoomOut-${this.props.windowId}`, { id: this.props.index }); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.zoom.zoomDefault,\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`browserView-zoomDefault-${this.props.windowId}`, { id: this.props.index }); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.zoom.fullScreen,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/fullscreen.png`,\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`window-fullScreen-${this.props.windowId}`, {}); }\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.history,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/history.png`,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://history/`); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.downloads,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/download.png`,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://downloads/`); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.bookmarks,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/bookmarks.png`,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://bookmarks/`); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.app.name,\r\n\t\t\t\ttype: 'submenu',\r\n\t\t\t\tsubmenu: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.app.list,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/apps.png`,\r\n\t\t\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://apps/`); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: String(lang.window.toolBar.menu.menus.app.run).replace(/{title}/, lang.window.toolBar.menu.menus.app.name),\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`appWindow-add`, { url: this.state.viewUrl }); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.app.store,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/shop.png`,\r\n\t\t\t\t\t\tenabled: false,\r\n\t\t\t\t\t\tclick: () => { this.props.addTab(`http://store.aoichaan0513.xyz/`); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.toolBar.menu.menus.app.store,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/dark/shop.png`,\r\n\t\t\t\t\t\tclick: () => { ipcRenderer.send(`window-adBlock-${this.props.windowId}`, {}); }\r\n\t\t\t\t\t},\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.print,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/print.png`,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+P',\r\n\t\t\t\tclick: () => { ipcRenderer.send(`browserView-print-${this.props.windowId}`, { id: this.props.index }); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.find,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/find.png`,\r\n\t\t\t\taccelerator: 'CmdOrCtrl+F',\r\n\t\t\t\tenabled: false,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://history/`); }\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.settings,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/settings.png`,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://settings/`); }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.help,\r\n\t\t\t\ticon: `${app.getAppPath()}/static/dark/help_outline.png`,\r\n\t\t\t\tclick: () => { this.props.addTab(`${protocolStr}://help/`); }\r\n\t\t\t},\r\n\t\t\t{ type: 'separator' },\r\n\t\t\t{\r\n\t\t\t\tlabel: lang.window.toolBar.menu.menus.close,\r\n\t\t\t\taccelerator: platform.isDarwin ? 'Cmd+Q' : 'Alt+F4',\r\n\t\t\t\tclick: () => { this.props.closeWindow(); }\r\n\t\t\t}\r\n\t\t]);\r\n\t\tmenu.popup({\r\n\t\t\tx: remote.getCurrentWindow().getSize()[0] - 24,\r\n\t\t\ty: 67\r\n\t\t});\r\n\t}\r\n\r\n\tisDarkModeOrPrivateMode = () => {\r\n\t\treturn this.getTheme() || String(this.props.windowId).startsWith('private');\r\n\t}\r\n\r\n\tisDarkModeOrPrivateMode = (lightMode, darkMode) => {\r\n\t\treturn !(this.getTheme() || String(this.props.windowId).startsWith('private')) ? lightMode : darkMode;\r\n\t}\r\n\r\n\tgetCertificateIcon = () => {\r\n\t\tif (this.state.certificate !== undefined && this.state.certificate !== null) {\r\n\t\t\tif (this.state.certificate.type === 'Secure') {\r\n\t\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, LightSecureIcon, DarkSecureIcon);\r\n\t\t\t} else if (this.state.certificate.type === 'InSecure') {\r\n\t\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, LightInSecureIcon, DarkInSecureIcon);\r\n\t\t\t} else if (this.state.certificate.type === 'Internal') {\r\n\t\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, ApplicationIcon, ApplicationIcon);\r\n\t\t\t} else if (this.state.certificate.type === 'Search') {\r\n\t\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, LightSearchIcon, DarkSearchIcon);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, LightInfomationIcon, DarkInfomationIcon);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn this.isDarkModeOrPrivateMode.bind(this, LightInfomationIcon, DarkInfomationIcon);\r\n\t\t}\r\n\t}\r\n\r\n\tgetButtonCount = () => {\r\n\t\tvar i = 1;\r\n\r\n\t\tif (this.state.zoomSize != config.get('pageSettings.defaultZoomSize'))\r\n\t\t\ti += 1;\r\n\r\n\t\tif (!this.state.barText.startsWith(protocolStr))\r\n\t\t\ti += 2;\r\n\r\n\t\treturn i;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ContentWrapper isLoading={this.state.isLoading} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')}>\r\n\t\t\t\t<Toolbar isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} isBookmarkBar={config.get('design.isBookmarkBar')}>\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={this.state.canGoBack ? this.isDarkModeOrPrivateMode.bind(this, LightBackIcon, DarkBackIcon) : BackInActiveIcon} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={false} isMarginLeft={true} isEnabled={this.state.canGoBack} title={lang.window.toolBar.back} onClick={() => { this.goBack(); }} />\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={this.state.canGoForward ? this.isDarkModeOrPrivateMode.bind(this, LightForwardIcon, DarkForwardIcon) : ForwardInActiveIcon} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={false} isMarginLeft={false} isEnabled={this.state.canGoForward} title={lang.window.toolBar.forward} onClick={() => { this.goForward(); }} />\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={!this.state.isLoading ? this.isDarkModeOrPrivateMode.bind(this, LightReloadIcon, DarkReloadIcon) : this.isDarkModeOrPrivateMode.bind(this, LightCloseIcon, DarkCloseIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={false} isMarginLeft={false} isEnabled={true} title={!this.state.isLoading ? lang.window.toolBar.reload.reload : lang.window.toolBar.reload.stop} onClick={() => { this.reload(); }} />\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={this.isDarkModeOrPrivateMode.bind(this, LightHomeIcon, DarkHomeIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={config.get('design.isHomeButton')} isRight={false} isMarginLeft={false} isEnabled={true} title={lang.window.toolBar.home} onClick={() => { this.goHome(); }} />\r\n\t\t\t\t\t<ToolbarTextBoxWrapper isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')}>\r\n\t\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={this.getCertificateIcon()} size={18}\r\n\t\t\t\t\t\t\tisShowing={true} isRight={false} isMarginLeft={true} isEnabled={this.state.certificate.type !== 'Search'} title={lang.window.toolBar.addressBar.info.name} onClick={() => { this.state.certificate.type !== 'Search' && this.certificate(); }} />\r\n\r\n\t\t\t\t\t\t<ToolbarTextBox buttonCount={this.getButtonCount} value={decodeURIComponent(this.state.barText)} onChange={(e) => { this.setState({ barText: e.target.value }); ipcRenderer.send(`window-showSuggest-${this.props.windowId}`, { id: this.props.index, text: e.target.value }); e.currentTarget.focus(); }} onKeyDown={this.handleKeyDown} onFocus={(e) => { e.target.select(); }} onContextMenu={this.handleContextMenu} />\r\n\r\n\t\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={this.isDarkModeOrPrivateMode.bind(this, LightTranslateIcon, DarkTranslateIcon)} size={18} style={{ right: this.state.zoomSize != config.get('pageSettings.defaultZoomSize') ? 60 : 30, borderRadius: 0 }}\r\n\t\t\t\t\t\t\tisShowing={!this.state.barText.startsWith(protocolStr)} isRight={true} isMarginLeft={true} isEnabled={true} title={lang.window.toolBar.addressBar.translate} onClick={() => { ipcRenderer.send(`window-translateWindow-${this.props.windowId}`, { url: this.state.viewUrl }); }} />\r\n\r\n\t\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={this.state.zoomSize > config.get('pageSettings.defaultZoomSize') ? this.isDarkModeOrPrivateMode.bind(this, LightZoomInIcon, DarkZoomInIcon) : this.isDarkModeOrPrivateMode.bind(this, LightZoomOutIcon, DarkZoomOutIcon)}\r\n\t\t\t\t\t\t\tsize={18} style={{ right: !this.state.barText.startsWith(protocolStr) ? 30 : 0, borderRadius: 0 }} isShowing={this.state.zoomSize != config.get('pageSettings.defaultZoomSize')} isRight={true} isMarginLeft={true} isEnabled={true} title={lang.window.toolBar.addressBar.zoomDefault} onClick={() => { ipcRenderer.send(`browserView-zoomDefault-${this.props.windowId}`, { id: this.props.index }); }} />\r\n\r\n\t\t\t\t\t\t<Tippy ref={ref => { this.markTooltip = ref; }} content={!this.state.isBookmarked ? (this.props.windowId.startsWith('private') ? lang.window.toolBar.addressBar.bookmark.clicked.removePrivate : lang.window.toolBar.addressBar.bookmark.clicked.remove) : (this.props.windowId.startsWith('private') ? lang.window.toolBar.addressBar.bookmark.clicked.addPrivate : lang.window.toolBar.addressBar.bookmark.clicked.add)} theme={this.getTheme() || String(this.props.windowId).startsWith('private') ? 'dark' : 'light'} placement=\"left\" arrow={true} trigger=\"manual\">\r\n\t\t\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={this.state.isBookmarked ? this.isDarkModeOrPrivateMode.bind(this, LightStarFilledIcon, DarkStarFilledIcon) : this.isDarkModeOrPrivateMode.bind(this, LightStarIcon, DarkStarIcon)} size={18}\r\n\t\t\t\t\t\t\t\tisShowing={!this.state.barText.startsWith(protocolStr)} isRight={true} isMarginLeft={true} isEnabled={true} title={this.state.isBookmarked ? lang.window.toolBar.addressBar.bookmark.remove : lang.window.toolBar.addressBar.bookmark.add} onClick={() => { this.bookMark(); }} />\r\n\t\t\t\t\t\t</Tippy>\r\n\t\t\t\t\t</ToolbarTextBoxWrapper>\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={this.isDarkModeOrPrivateMode.bind(this, LightShieldIcon, DarkShieldIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={config.get('adBlock.isAdBlock')} isRight={true} isMarginLeft={true} isEnabled={true} title={String(lang.window.toolBar.extensions.adBlock).replace(/{replace}/, this.blockCount)} onClick={() => { this.props.addTab(`${protocolStr}://settings/`); }}>\r\n\t\t\t\t\t\t{this.blockCount > 0 && <ToolbarButtonBadge>{this.blockCount}</ToolbarButtonBadge>}\r\n\t\t\t\t\t</ToolbarButton>\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={this.isDarkModeOrPrivateMode.bind(this, LightFeedbackIcon, DarkFeedbackIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={true} isMarginLeft={!config.get('adBlock.isAdBlock')} isEnabled={true} title={lang.window.toolBar.extensions.feedback} onClick={() => { this.props.addTab('https://join.slack.com/t/flast-develop/shared_invite/enQtNzM4MzM3OTExNjA3LWZkNTlmYTY0YzJjODNhYmY1OTlmYTllODRiMmJjNjA2YmUzNDg0OGMwZjliNmFhMjBlYWRjNTVhZTFkNWE3OTA'); }} />\r\n\t\t\t\t\t<ToolbarDivider isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} />\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={this.props.windowId.startsWith('private') ? this.isDarkModeOrPrivateMode.bind(this, LightShieldIcon, DarkShieldIcon) : this.isDarkModeOrPrivateMode.bind(this, LightAccountIcon, DarkAccountIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={true} isMarginLeft={true} isEnabled={true} title={this.props.windowId.startsWith('private') ? 'プライベートモード' : process.env.USERNAME} onClick={() => { this.userMenu(); }} />\r\n\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} src={this.isDarkModeOrPrivateMode.bind(this, LightMoreIcon, DarkMoreIcon)} size={24}\r\n\t\t\t\t\t\tisShowing={true} isRight={true} isMarginLeft={false} isEnabled={true} title={lang.window.toolBar.menu.name} onClick={() => { ipcRenderer.send(`window-menuWindow-${this.props.windowId}`, { id: this.props.index, url: this.state.viewUrl }); }} />\r\n\t\t\t\t</Toolbar>\r\n\t\t\t\t<BookmarkBar isDarkModeOrPrivateMode={this.getTheme() || String(this.props.windowId).startsWith('private')} isBookmarkBar={config.get('design.isBookmarkBar')} />\r\n\t\t\t</ContentWrapper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass MainWindow extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\ttabs: [],\r\n\t\t\tcurrent: 0\r\n\t\t};\r\n\r\n\t\tipcRenderer.on(`window-maximized-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\t\tipcRenderer.on(`window-unmaximized-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`window-focus-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\t\tipcRenderer.on(`window-blur-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on('window-change-settings', (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`tab-add-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.addTab(args.url);\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`tab-get-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tif (args.id != null && args.view != null) {\r\n\t\t\t\tthis.state.tabs.filter((item, i) => {\r\n\t\t\t\t\tif (args.id === item.id) {\r\n\t\t\t\t\t\tlet newTabs = this.state.tabs.concat();\r\n\t\t\t\t\t\tnewTabs[i] = args.view;\r\n\t\t\t\t\t\tthis.setState({ tabs: newTabs });\r\n\t\t\t\t\t\tthis.forceUpdate();\r\n\r\n\t\t\t\t\t\tconsole.log(this.state.tabs);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(args.views);\r\n\t\t\t\tthis.setState({ tabs: args.views });\r\n\t\t\t\tthis.forceUpdate();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`tab-select-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.setState({ current: args.id });\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`update-navigation-state-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.state.tabs.filter((item, i) => {\r\n\t\t\t\tif (args.id === item.id) {\r\n\t\t\t\t\tvar newTabs = this.state.tabs.concat();\r\n\t\t\t\t\tnewTabs[i].isAudioStatus = args.isAudioStatus;\r\n\t\t\t\t\tthis.setState({ tabs: newTabs });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tSortable.create(findDOMNode(this.tabContainer), {\r\n\t\t\tgroup: {\r\n\t\t\t\tname: String(this.props.match.params.windowId).startsWith('private') ? 'private' : 'window'\r\n\t\t\t},\r\n\t\t\tfilter: '.fixed-tab',\r\n\t\t\tanimation: 100\r\n\t\t});\r\n\r\n\t\tthis.props.match.params.urls.split('($|$)').map((url, i) => {\r\n\t\t\tthis.addTab(decodeURIComponent(url));\r\n\t\t});\r\n\t\tthis.getTabs();\r\n\t}\r\n\r\n\tgetTheme = () => {\r\n\t\tif (config.get('design.theme') === -1)\r\n\t\t\treturn nativeTheme.shouldUseDarkColors;\r\n\t\telse if (config.get('design.theme') === 0)\r\n\t\t\treturn false;\r\n\t\telse if (config.get('design.theme') === 1)\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\thandleContextMenu = (id) => {\r\n\t\tthis.state.tabs.filter((item, i) => {\r\n\t\t\tif (id === item.id) {\r\n\t\t\t\tconst menu = Menu.buildFromTemplate([\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '新しいタブ',\r\n\t\t\t\t\t\taccelerator: 'CmdOrCtrl+T',\r\n\t\t\t\t\t\tclick: () => { this.addTab(); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: 'タブを閉じる',\r\n\t\t\t\t\t\taccelerator: 'CmdOrCtrl+W',\r\n\t\t\t\t\t\tclick: () => { this.removeTab(id); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: item.isAudioStatus === -1 ? lang.window.view.contextMenu.media.audioMuteExit : lang.window.view.contextMenu.media.audioMute,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/${item.isAudioStatus === -1 ? 'volume_up' : 'volume_off'}.png`,\r\n\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\tipcRenderer.send(`browserView-audioMute-${this.props.match.params.windowId}`, { id });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'checkbox',\r\n\t\t\t\t\t\tlabel: 'タブを固定',\r\n\t\t\t\t\t\tchecked: item.isFixed,\r\n\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\tvar newTabs = this.state.tabs.concat();\r\n\t\t\t\t\t\t\titem.isFixed = !item.isFixed;\r\n\t\t\t\t\t\t\tthis.setState({ tabs: newTabs });\r\n\t\t\t\t\t\t\t*/\r\n\r\n\t\t\t\t\t\t\tipcRenderer.send(`tab-fixed-${this.props.match.params.windowId}`, { id, result: !item.isFixed });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]);\r\n\t\t\t\tmenu.popup(remote.getCurrentWindow());\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddTab = (url = (config.get('homePage.newTab.isDefaultHomePage') ? `${protocolStr}://home/` : config.get('homePage.newTab.defaultPage'))) => {\r\n\t\tipcRenderer.send(`tab-add-${this.props.match.params.windowId}`, { url, isActive: true });\r\n\t\t// ipcRenderer.send(`tab-get-${this.props.match.params.windowId}`, {});\r\n\t\tthis.setState({ current: this.state.tabs.length });\r\n\t}\r\n\r\n\tremoveTab = (i) => {\r\n\t\tipcRenderer.send(`tab-remove-${this.props.match.params.windowId}`, { id: i });\r\n\t\tipcRenderer.send(`tab-get-${this.props.match.params.windowId}`, {});\r\n\r\n\t\tthis.forceUpdate();\r\n\t\tif ((this.state.tabs.length - 1) < 1) {\r\n\t\t\tremote.getCurrentWindow().close();\r\n\t\t}\r\n\t}\r\n\r\n\tgetTab = (id) => {\r\n\t\tipcRenderer.send(`tab-get-${this.props.match.params.windowId}`, { id });\r\n\t}\r\n\r\n\tgetTabs = () => {\r\n\t\tipcRenderer.send(`tab-get-${this.props.match.params.windowId}`, {});\r\n\t}\r\n\r\n\tgetForegroundColor = (hexColor) => {\r\n\t\tvar r = parseInt(hexColor.substr(1, 2), 16);\r\n\t\tvar g = parseInt(hexColor.substr(3, 2), 16);\r\n\t\tvar b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n\t\treturn ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n\t}\r\n\r\n\tgetColor = () => {\r\n\t\treturn !String(this.props.match.params.windowId).startsWith('private') ? (platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535') : '#353535';\r\n\t}\r\n\r\n\tisDarkModeOrPrivateMode = () => {\r\n\t\treturn this.getTheme() || String(this.props.match.params.windowId).startsWith('private');\r\n\t}\r\n\r\n\tisDarkModeOrPrivateMode = (lightMode, darkMode) => {\r\n\t\treturn !(this.getTheme() || String(this.props.match.params.windowId).startsWith('private')) ? lightMode : darkMode;\r\n\t}\r\n\r\n\tcloseWindow = () => {\r\n\t\tif (this.state.tabs.length > 1) {\r\n\t\t\tif (config.get('window.isCloseConfirm')) {\r\n\t\t\t\tdialog.showMessageBox({\r\n\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\ttitle: 'アプリ終了確認',\r\n\t\t\t\t\tmessage: `${this.state.tabs.length}個のタブを閉じようとしています。`,\r\n\t\t\t\t\tdetail: `${this.state.tabs.length}個のタブを閉じてアプリを終了しようとしています。\\n複数のタブを閉じてアプリを終了してもよろしいでしょうか？`,\r\n\t\t\t\t\tcheckboxLabel: '今後は確認しない',\r\n\t\t\t\t\tcheckboxChecked: false,\r\n\t\t\t\t\tnoLink: true,\r\n\t\t\t\t\tbuttons: ['はい / Yes', 'いいえ / No'],\r\n\t\t\t\t\tdefaultId: 0,\r\n\t\t\t\t\tcancelId: 1\r\n\t\t\t\t}).then((result) => {\r\n\t\t\t\t\tconst { response, checkboxChecked } = result;\r\n\r\n\t\t\t\t\tif (checkboxChecked)\r\n\t\t\t\t\t\tconfig.set('window.isCloseConfirm', false);\r\n\t\t\t\t\tif (response === 0)\r\n\t\t\t\t\t\tremote.getCurrentWindow().close();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tremote.getCurrentWindow().close();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tremote.getCurrentWindow().close();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Window isActive={remote.getCurrentWindow().isFocused()} isMaximized={remote.getCurrentWindow().isMaximized()} color={this.getColor()} isCustomTitlebar={config.get('design.isCustomTitlebar')}>\r\n\t\t\t\t<Titlebar isActive={remote.getCurrentWindow().isFocused()} color={this.getColor()}>\r\n\t\t\t\t\t<Tabs isCustomTitlebar={config.get('design.isCustomTitlebar')} isWindowsOrLinux={platform.isWin32 || (!platform.isWin32 && !platform.isDarwin)}>\r\n\t\t\t\t\t\t<TabContainer ref={ref => { this.tabContainer = ref; }}>\r\n\t\t\t\t\t\t\t{this.state.tabs.map((tab, i) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Tab isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} isActive={tab.id === this.state.current} isFixed={tab.isFixed} inActiveColor={remote.getCurrentWindow().isFocused() ? this.getForegroundColor(this.getColor()) : '#000000'} accentColor={tab.color} className={tab.isFixed ? 'fixed-tab' : ''}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => { if (tab.id !== this.state.current) { ipcRenderer.send(`tab-select-${this.props.match.params.windowId}`, { id: tab.id }); } this.forceUpdate(); }} onContextMenu={this.handleContextMenu.bind(this, tab.id)} title={tab.title}>\r\n\t\t\t\t\t\t\t\t\t\t<TabIcon src={tab.icon !== undefined ? tab.icon : (tab.id === this.state.current || remote.getCurrentWindow().isFocused() ? (this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? DarkPublicIcon : LightPublicIcon) : (this.getForegroundColor(this.getColor()) === '#ffffff' ? LightPublicIcon : DarkPublicIcon))} width={18} height={18} />\r\n\t\t\t\t\t\t\t\t\t\t<TabTitle isShowing={tab.isAudioStatus !== 0} isFixed={tab.isFixed}>{tab.title}</TabTitle>\r\n\t\t\t\t\t\t\t\t\t\t<TabStatusIcon isActive={tab.id === this.state.current} isFixed={tab.isFixed} isRight={true} src={tab.isAudioStatus !== 0 ? (tab.id === this.state.current ? this.isDarkModeOrPrivateMode.bind(this, tab.isAudioStatus === 1 ? LightAudioIcon : LightAudioMuteIcon, tab.isAudioStatus === 1 ? DarkAudioIcon : DarkAudioMuteIcon) : (this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535') === '#000000' || this.isDarkModeOrPrivateMode() ? (tab.isAudioStatus === 1 ? LightAudioIcon : LightAudioMuteIcon) : (tab.isAudioStatus === 1 ? DarkAudioIcon : DarkAudioMuteIcon))) : undefined} isShowing={tab.isAudioStatus !== 0} size={14} title={tab.isAudioStatus !== 0 ? (tab.isAudioStatus === 1 ? lang.window.titleBar.tab.media.audioPlaying : lang.window.titleBar.tab.media.audioMuted) : ''} />\r\n\t\t\t\t\t\t\t\t\t\t<TabCloseButton isActive={tab.id === this.state.current} isFixed={tab.isFixed} isRight={true} src={tab.id === this.state.current ? this.isDarkModeOrPrivateMode.bind(this, LightCloseIcon, DarkCloseIcon) : (this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535') === '#000000' || this.isDarkModeOrPrivateMode() ? LightCloseIcon : DarkCloseIcon)} size={14} title={lang.window.titleBar.tab.close} onClick={() => { this.removeTab(tab.id); this.forceUpdate(); }} />\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</TabContainer>\r\n\t\t\t\t\t\t<TabButton isRight={true} src={this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535') === '#000000' || this.isDarkModeOrPrivateMode() ? LightAddIcon : DarkAddIcon} size={24} title={lang.window.titleBar.tab.new} onClick={() => { this.addTab(); }} />\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t<WindowButtons isMaximized={remote.getCurrentWindow().isMaximized()} isCustomTitlebar={config.get('design.isCustomTitlebar')} isWindowsOrLinux={platform.isWin32 || (!platform.isWin32 && !platform.isDarwin)}>\r\n\t\t\t\t\t\t<WindowButton isClose={false} isWindowsOrLinux={platform.isWin32 || (!platform.isWin32 && !platform.isDarwin)} title={lang.window.titleBar.buttons.minimize} onClick={() => { remote.getCurrentWindow().minimize(); }}>\r\n\t\t\t\t\t\t\t<svg name=\"TitleBarMinimize\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill={this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535')}>\r\n\t\t\t\t\t\t\t\t<rect width=\"10\" height=\"1\" x=\"1\" y=\"6\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</WindowButton>\r\n\t\t\t\t\t\t<WindowButton isClose={false} isWindowsOrLinux={platform.isWin32 || (!platform.isWin32 && !platform.isDarwin)} title={remote.getCurrentWindow().isMaximized() ? lang.window.titleBar.buttons.maximize.restore : lang.window.titleBar.buttons.maximize.maximize} onClick={() => { remote.getCurrentWindow().isMaximized() ? remote.getCurrentWindow().unmaximize() : remote.getCurrentWindow().maximize(); this.forceUpdate(); }}>\r\n\t\t\t\t\t\t\t<svg name=\"TitleBarMaximize\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" stroke={this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535')}>\r\n\t\t\t\t\t\t\t\t<rect fill=\"none\" width=\"9\" height=\"9\" x=\"1.5\" y=\"1.5\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</WindowButton>\r\n\t\t\t\t\t\t<WindowButton isClose={true} isWindowsOrLinux={platform.isWin32 || (!platform.isWin32 && !platform.isDarwin)} title={lang.window.titleBar.buttons.close} onClick={() => { this.closeWindow(); }}>\r\n\t\t\t\t\t\t\t<svg name=\"TitleBarClose\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill={this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535')}>\r\n\t\t\t\t\t\t\t\t<polygon fill-rule=\"evenodd\" points=\"11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</WindowButton>\r\n\t\t\t\t\t</WindowButtons>\r\n\t\t\t\t</Titlebar>\r\n\t\t\t\t<WindowContent>\r\n\t\t\t\t\t{this.state.tabs.map((tab, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<TabContent isActive={tab.id === this.state.current}>\r\n\t\t\t\t\t\t\t\t<BrowserView key={i} windowId={this.props.match.params.windowId} index={tab.id} url={tab.url}\r\n\t\t\t\t\t\t\t\t\tcloseWindow={() => { this.closeWindow(); }}\r\n\t\t\t\t\t\t\t\t\taddTab={(url) => { this.addTab(url); }}\r\n\t\t\t\t\t\t\t\t\tupdateTab={() => { this.getTab(tab.id); }} />\r\n\t\t\t\t\t\t\t</TabContent>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</WindowContent>\r\n\t\t\t</Window>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MainWindow;","import styled from 'styled-components';\r\n\r\nconst Button = styled.div`\r\n  width: 48%;\r\n  height: 30px;\r\n  display: flex;\r\n  -webkit-box-align: center;\r\n  align-items: center;\r\n  -webkit-box-pack: center;\r\n  justify-content: center;\r\n  background: none;\r\n  transition: 0.2s background-color;\r\n  border: solid 1px #d4d4d4;\r\n  border-radius: 2px;\r\n  box-sizing: border-box;\r\n  &:hover {\r\n    background-color: rgba(196, 196, 196, 0.4);\r\n  }\r\n`;\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { parse, format } from 'url';\r\n\r\nimport Button from './Components/Button';\r\n\r\nconst { remote, ipcRenderer, shell } = window.require('electron');\r\nconst { app, systemPreferences, Menu, MenuItem, dialog, nativeTheme } = remote;\r\n\r\nconst platform = require('electron-platform');\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst Window = styled.div`\r\n  width: auto;\r\n  height: ${platform.isWin32 || platform.isDarwin ? 'auto' : '100%'};\r\n  margin: ${platform.isWin32 || platform.isDarwin ? '0px 4px' : '0px'};\r\n  padding: 6px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border: ${platform.isWin32 || platform.isDarwin ? 'none' : (props => !props.isDarkModeOrPrivateMode ? 'solid 1px #e1e1e1' : 'solid 1px #8b8b8b')};\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  color: ${props => !props.isDarkModeOrPrivateMode ? '#353535' : '#f9f9fa'};\r\n  box-shadow: ${platform.isWin32 || platform.isDarwin ? '0px 2px 4px rgba(0, 0, 0, 0.16), 0px 2px 4px rgba(0, 0, 0, 0.23)' : 'none'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nclass InfomationWindow extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\ttitle: '',\r\n\t\t\tdescription: '',\r\n\t\t\turl: '',\r\n\t\t\tisButton: false\r\n\t\t};\r\n\r\n\t\tipcRenderer.on('window-change-settings', (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`infoWindow-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.setState({ title: args.title, description: args.description, url: args.url, isButton: args.isButton });\r\n\t\t});\r\n\t}\r\n\r\n\tgetTheme = () => {\r\n\t\tif (config.get('design.theme') === -1)\r\n\t\t\treturn nativeTheme.shouldUseDarkColors;\r\n\t\telse if (config.get('design.theme') === 0)\r\n\t\t\treturn false;\r\n\t\telse if (config.get('design.theme') === 1)\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\tisDisabledSite = (url) => {\r\n\t\tfor (const item of config.get('adBlock.disabledSites')) {\r\n\t\t\tif (item.isSubDomain) {\r\n\t\t\t\tif (String(url).endsWith(item.url)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (String(url) === String(item.url)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tgetForegroundColor = (hexColor) => {\r\n\t\tvar r = parseInt(hexColor.substr(1, 2), 16);\r\n\t\tvar g = parseInt(hexColor.substr(3, 2), 16);\r\n\t\tvar b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n\t\treturn ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n\t}\r\n\r\n\tsendResult = (result) => {\r\n\t\tipcRenderer.send(`infoWindow-result-${this.props.match.params.windowId}`, result);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Window isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} onMouseEnter={(e) => { remote.getCurrentWindow().setIgnoreMouseEvents(false); }} onMouseLeave={(e) => { remote.getCurrentWindow().setIgnoreMouseEvents(true, { forward: true }); }}>\r\n\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-around' }}>\r\n\t\t\t\t\t<h5 style={{ margin: 0 }} dangerouslySetInnerHTML={{ __html: this.state.title }} />\r\n\t\t\t\t\t<Button style={{ margin: 0, width: 20, height: 20, marginLeft: 'auto', border: 'none' }} onClick={() => ipcRenderer.send(`infoWindow-close-${this.props.match.params.windowId}`, {})}>\r\n\t\t\t\t\t\t<svg name=\"TitleBarClose\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill={this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#f9f9fa' : '#353535'}>\r\n\t\t\t\t\t\t\t<polygon fill-rule=\"evenodd\" points=\"11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1\" />\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p style={{ margin: 0, marginTop: String(this.state.description).length > 0 ? 11 : 0, marginBottom: this.state.isButton ? 7 : 0 }} dangerouslySetInnerHTML={{ __html: this.state.description }} />\r\n\t\t\t\t<div style={{ display: this.state.isButton ? 'flex' : 'none', justifyContent: 'space-around' }}>\r\n\t\t\t\t\t<Button onClick={() => this.sendResult(true)}>はい</Button>\r\n\t\t\t\t\t<Button onClick={() => this.sendResult(false)}>いいえ</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Window>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default InfomationWindow;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { parse, format } from 'url';\r\n\r\nimport Button from './Components/Button';\r\n\r\nconst { remote, ipcRenderer, shell } = window.require('electron');\r\nconst { app, systemPreferences, Menu, MenuItem, dialog, nativeTheme } = remote;\r\n\r\nconst platform = require('electron-platform');\r\nconst protocolStr = 'flast';\r\nconst fileProtocolStr = `${protocolStr}-file`;\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst lang = window.require(`${app.getAppPath()}/langs/${config.get('language') != undefined ? config.get('language') : 'ja'}.js`);\r\n\r\nconst Window = styled.div`\r\n  width: auto;\r\n  height: ${platform.isWin32 || platform.isDarwin ? 'auto' : '100%'};\r\n  margin: ${platform.isWin32 || platform.isDarwin ? '0px 4px' : '0px'};\r\n  padding: 6px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border: ${platform.isWin32 || platform.isDarwin ? 'none' : (props => !props.isDarkModeOrPrivateMode ? 'solid 1px #e1e1e1' : 'solid 1px #8b8b8b')};\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  color: ${props => !props.isDarkModeOrPrivateMode ? '#353535' : '#f9f9fa'};\r\n  box-shadow: ${platform.isWin32 || platform.isDarwin ? '0px 2px 4px rgba(0, 0, 0, 0.16), 0px 2px 4px rgba(0, 0, 0, 0.23)' : 'none'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nclass PermissionWindow extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tpermission: null,\r\n\t\t\turl: '',\r\n\t\t\tisButton: false\r\n\t\t};\r\n\r\n\t\tipcRenderer.on('window-change-settings', (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`permissionWindow-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.setState({ permission: args.permission, url: args.url });\r\n\t\t});\r\n\t}\r\n\r\n\tgetTheme = () => {\r\n\t\tif (config.get('design.theme') === -1)\r\n\t\t\treturn nativeTheme.shouldUseDarkColors;\r\n\t\telse if (config.get('design.theme') === 0)\r\n\t\t\treturn false;\r\n\t\telse if (config.get('design.theme') === 1)\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\tgetForegroundColor = (hexColor) => {\r\n\t\tvar r = parseInt(hexColor.substr(1, 2), 16);\r\n\t\tvar g = parseInt(hexColor.substr(3, 2), 16);\r\n\t\tvar b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n\t\treturn ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n\t}\r\n\r\n\tsendResult = (result) => {\r\n\t\tipcRenderer.send(`permissionWindow-result-${this.props.match.params.windowId}`, { result, isChecked: false });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Window isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} onMouseEnter={(e) => { remote.getCurrentWindow().setIgnoreMouseEvents(false); }} onMouseLeave={(e) => { remote.getCurrentWindow().setIgnoreMouseEvents(true, { forward: true }); }}>\r\n\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-around' }}>\r\n\t\t\t\t\t<h5 style={{ margin: 0 }}>{String(lang.window.toolBar.addressBar.permission.title).replace(/{replace}/, (parse(this.state.url).protocol === `${protocolStr}:` ? `${parse(this.state.url).protocol}//${parse(this.state.url).hostname}` : parse(this.state.url).hostname))}</h5>\r\n\t\t\t\t\t<Button style={{ margin: 0, width: 20, height: 20, marginLeft: 'auto', border: 'none' }} onClick={() => ipcRenderer.send(`permissionWindow-close-${this.props.match.params.windowId}`, {})}>\r\n\t\t\t\t\t\t<svg name=\"TitleBarClose\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill={this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#f9f9fa' : '#353535'}>\r\n\t\t\t\t\t\t\t<polygon fill-rule=\"evenodd\" points=\"11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1\" />\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p style={{ margin: 0, marginBottom: 7 }}>\r\n\t\t\t\t\t{String(lang.window.toolBar.addressBar.permission.description).replace(/{replace}/, this.state.permission)}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-around' }}>\r\n\t\t\t\t\t<Button onClick={() => this.sendResult(true)}>{lang.window.toolBar.addressBar.permission.buttons.yes}</Button>\r\n\t\t\t\t\t<Button onClick={() => this.sendResult(false)}>{lang.window.toolBar.addressBar.permission.buttons.no}</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Window>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PermissionWindow;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { parse, format } from 'url';\r\n\r\nimport DarkBackIcon from './Resources/dark/arrow_back.svg';\r\nimport LightBackIcon from './Resources/light/arrow_back.svg';\r\n\r\nconst { remote, ipcRenderer, shell } = window.require('electron');\r\nconst { app, systemPreferences, Menu, MenuItem, dialog } = remote;\r\n\r\nconst pkg = window.require(`${app.getAppPath()}/package.json`);\r\nconst protocolStr = 'flast';\r\nconst fileProtocolStr = `${protocolStr}-file`;\r\n\r\nconst platform = require('electron-platform');\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst lang = window.require(`${app.getAppPath()}/langs/${config.get('language') != undefined ? config.get('language') : 'ja'}.js`);\r\n\r\nconst buttonHeight = 27;\r\n\r\nconst Window = styled.div`\r\n  width: auto;\r\n  height: ${platform.isWin32 || platform.isDarwin ? 'auto' : '100%'};\r\n  margin: ${platform.isWin32 || platform.isDarwin ? '0px 4px 2px' : '0px'};\r\n  padding: 5px 0px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border: ${platform.isWin32 || platform.isDarwin ? 'none' : (props => !props.isDarkModeOrPrivateMode ? 'solid 1px #e1e1e1' : 'solid 1px #8b8b8b')};\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  color: ${props => !props.isDarkModeOrPrivateMode ? '#353535' : '#f9f9fa'};\r\n  box-shadow: ${platform.isWin32 || platform.isDarwin ? '0px 2px 4px rgba(0, 0, 0, 0.16), 0px 2px 4px rgba(0, 0, 0, 0.23)' : 'none'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst Button = styled.div`\r\n  width: 100%;\r\n  height: ${buttonHeight}px;\r\n  margin: 0px;\r\n  padding: 0px 7px;\r\n  display: flex;\r\n  -webkit-box-align: center;\r\n  align-items: center;\r\n  -webkit-box-pack: center;\r\n  justify-content: center;\r\n  background: none;\r\n  transition: 0.2s background-color;\r\n  box-sizing: border-box;\r\n  &:hover {\r\n    background-color: rgba(196, 196, 196, 0.4);\r\n  }\r\n`;\r\n\r\nconst ButtonTitle = styled.span`\r\n  width: auto;\r\n  margin-left: ${props => props.hasIcon !== null && props.hasIcon ? 7 : 25}px;\r\n`;\r\n\r\nconst ButtonAccelerator = styled.span`\r\n  width: auto;\r\n  margin-left: auto;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst Divider = styled.div`\r\n  background-color: initial;\r\n  width: ${props => props.isVertical ? '1px' : '100%'};\r\n  height: ${props => props.isVertical ? `${buttonHeight}px` : '1px'};\r\n  margin-top: ${props => props.isVertical ? 0 : 5}px;\r\n  margin-bottom: ${props => props.isVertical ? 0 : 5}px;\r\n  margin-left: ${props => props.isVertical ? 5 : 0}px;\r\n  margin-right: ${props => props.isVertical ? 5 : 0}px;\r\n  ${props => props.isVertical ? 'border-left' : 'border-top'}: solid 1px ${props => !props.isDarkModeOrPrivateMode ? '#e1e1e1' : '#8b8b8b'};\r\n`;\r\n\r\nconst Dialog = styled.div`\r\n  width: -webkit-fill-available;\r\n  height: ${platform.isWin32 || platform.isDarwin ? '505px' : '100%'};\r\n  margin: ${platform.isWin32 || platform.isDarwin ? '0px 4px 2px' : '0px'};\r\n  padding: 0px;\r\n  position: fixed;\r\n  top: 0px;\r\n  transform: translateX(${props => props.isOpen ? '0%' : '105%'});\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  border-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border: ${platform.isWin32 || platform.isDarwin ? 'none' : (props => !props.isDarkModeOrPrivateMode ? 'solid 1px #e1e1e1' : 'solid 1px #8b8b8b')};\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  color: ${props => !props.isDarkModeOrPrivateMode ? '#353535' : '#f9f9fa'};\r\n  transition: 0.2s transform;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst DialogHeader = styled.div`\r\n  width: 100%;\r\n  height: 35px;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  display: flex;\r\n  background-color: gray;\r\n  border-top-left-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border-top-right-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst DialogHeaderButton = styled.div`\r\n  width: 25px;\r\n  height: 25px;\r\n  margin: 5px;\r\n  padding: 3px;\r\n  position: relative;\r\n  flex-grow: 0;\r\n  background-image: url(${props => props.src});\r\n  background-size: ${props => props.size}px;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-color: initial;\r\n  border: none;\r\n  border-radius: 2px;\r\n  transition: 0.2s background-color;\r\n  outline: none;\r\n  &:hover {\r\n    background-color: ${props => !props.isDarkModeOrPrivateMode ? 'rgba(0, 0, 0, 0.06)' : 'rgba(130, 130, 130, 0.3)'};\r\n  }\r\n`;\r\n\r\nconst DialogHeaderTitle = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst DialogContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0px;\r\n  padding: 5px 0px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-bottom-left-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border-bottom-right-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border: ${platform.isWin32 || platform.isDarwin ? 'none' : (props => !props.isDarkModeOrPrivateMode ? 'solid 1px #e1e1e1' : 'solid 1px #8b8b8b')};\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  color: ${props => !props.isDarkModeOrPrivateMode ? '#353535' : '#f9f9fa'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nclass MoreIcon extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 59.414 59.414\">\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<polygon fill={this.props.isDarkModeOrPrivateMode ? '#e1e1e1' : '#8b8b8b'} points=\"15.561,59.414 14.146,58 42.439,29.707 14.146,1.414 15.561,0 45.268,29.707\"></polygon>\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass MenuWindow extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\turl: '',\r\n\t\t\tzoomSize: 1,\r\n\t\t\tisOpen: null\r\n\t\t};\r\n\r\n\t\tipcRenderer.on('window-change-settings', (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`menuWindow-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.setState({ url: args.url, zoomSize: args.zoomSize, isOpen: null });\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`browserView-zoom-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.setState({ zoomSize: args.result });\r\n\t\t});\r\n\t}\r\n\r\n\tgetTheme = () => {\r\n\t\tif (config.get('design.theme') === -1)\r\n\t\t\treturn systemPreferences.isDarkMode();\r\n\t\telse if (config.get('design.theme') === 0)\r\n\t\t\treturn false;\r\n\t\telse if (config.get('design.theme') === 1)\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\tgetForegroundColor = (hexColor) => {\r\n\t\tvar r = parseInt(hexColor.substr(1, 2), 16);\r\n\t\tvar g = parseInt(hexColor.substr(3, 2), 16);\r\n\t\tvar b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n\t\treturn ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n\t}\r\n\r\n\taddTab = (url = (config.get('homePage.isDefaultHomePage') ? `${protocolStr}://home/` : config.get('homePage.defaultPage')), isInternal = false) => {\r\n\t\tif (isInternal) {\r\n\t\t\tconst u = parse(this.state.url);\r\n\t\t\tconsole.log(u.protocol);\r\n\r\n\t\t\tif (u.protocol === `${protocolStr}:`) {\r\n\t\t\t\tipcRenderer.send(`browserView-loadURL-${this.props.match.params.windowId}`, { id: this.props.match.params.tabId, url });\r\n\t\t\t} else {\r\n\t\t\t\tipcRenderer.send(`tab-add-${this.props.match.params.windowId}`, { url, isActive: true });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tipcRenderer.send(`tab-add-${this.props.match.params.windowId}`, { url, isActive: true });\r\n\t\t}\r\n\t}\r\n\r\n\tcloseMenu = () => {\r\n\t\tipcRenderer.send(`menuWindow-close-${this.props.match.params.windowId}`, {});\r\n\t}\r\n\r\n\tgetIconDirectory = () => {\r\n\t\treturn `${app.getAppPath()}/static/${this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? 'dark' : 'light'}`;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={{ boxSizing: 'border-box', width: '100%', height: platform.isWin32 || platform.isDarwin ? 'auto' : '100%' }}>\r\n\t\t\t\t<Window isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')}>\r\n\t\t\t\t\t<Button onClick={() => { this.setState({ isOpen: 'userInfo' }); }}>\r\n\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/account.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.userInfo}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator></ButtonAccelerator>\r\n\t\t\t\t\t\t<MoreIcon isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Divider isVertical={false} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t<Button onClick={() => { this.closeMenu(); this.addTab(); }}>\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.newTab}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+T' : 'Ctrl+T'}</ButtonAccelerator>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={() => { this.closeMenu(); ipcRenderer.send(`window-add`, { isPrivate: false }); }}>\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.newWindow}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+N' : 'Ctrl+N'}</ButtonAccelerator>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={() => { this.closeMenu(); ipcRenderer.send(`window-add`, { isPrivate: true }); }}>\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.openPrivateWindow}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+Shift+N' : 'Ctrl+Shift+N'}</ButtonAccelerator>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Divider style={{ marginBottom: 0 }} isVertical={false} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t<div style={{ display: 'flex', paddingLeft: 7 }}>\r\n\t\t\t\t\t\t<span style={{ width: 'auto', marginLeft: 25, display: 'flex', WebkitBoxAlign: 'center', alignItems: 'center' }}>{lang.window.toolBar.menu.menus.zoom.name}</span>\r\n\t\t\t\t\t\t<div style={{ display: 'flex', marginLeft: 'auto' }}>\r\n\t\t\t\t\t\t\t<Button title={lang.window.toolBar.menu.menus.zoom.zoomIn} onClick={() => { ipcRenderer.send(`browserView-zoomIn-${this.props.match.params.windowId}`, { id: this.props.match.params.tabId }); this.forceUpdate(); }}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 50, height: 30, padding: '4px 16px', display: 'inline-table', borderLeft: `solid 1px ${this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n\t\t\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/zoom_in.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<div style={{ width: 50, height: 30, padding: '4px 16px', display: 'inline-table', borderLeft: `solid 1px ${this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n\t\t\t\t\t\t\t\t{(this.state.zoomSize * 100).toFixed(0)}%\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Button title={lang.window.toolBar.menu.menus.zoom.zoomOut} onClick={() => { ipcRenderer.send(`browserView-zoomOut-${this.props.match.params.windowId}`, { id: this.props.match.params.tabId }); this.forceUpdate(); }}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 50, height: 30, padding: '4px 16px', display: 'inline-table', borderLeft: `solid 1px ${this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n\t\t\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/zoom_out.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button title={lang.window.toolBar.menu.menus.zoom.fullScreen} onClick={() => { this.closeMenu(); ipcRenderer.send(`window-fullScreen-${this.props.match.params.windowId}`, {}); }}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 50, height: 30, padding: '4px 16px', display: 'inline-table', borderLeft: `solid 1px ${this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n\t\t\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/fullscreen.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Divider style={{ marginTop: 0, marginBottom: 0 }} isVertical={false} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t<div style={{ display: 'flex', paddingLeft: 7 }}>\r\n\t\t\t\t\t\t<span style={{ width: 'auto', marginLeft: 25, display: 'flex', WebkitBoxAlign: 'center', alignItems: 'center' }}>{lang.window.toolBar.menu.menus.edit.name}</span>\r\n\t\t\t\t\t\t<div style={{ display: 'flex', marginLeft: 'auto' }}>\r\n\t\t\t\t\t\t\t<Button style={{ width: 70, height: 30, borderLeft: `solid 1px ${this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n\t\t\t\t\t\t\t\t{lang.window.toolBar.menu.menus.edit.cut}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button style={{ width: 70, height: 30, borderLeft: `solid 1px ${this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n\t\t\t\t\t\t\t\t{lang.window.toolBar.menu.menus.edit.copy}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button style={{ width: 70, height: 30, borderLeft: `solid 1px ${this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#8b8b8b' : '#e1e1e1'}` }}>\r\n\t\t\t\t\t\t\t\t{lang.window.toolBar.menu.menus.edit.paste}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Divider style={{ marginTop: 0 }} isVertical={false} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t<Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://bookmarks`, true); }}>\r\n\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/bookmarks.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.bookmarks}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+B' : 'Ctrl+B'}</ButtonAccelerator>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://history`, true); }}>\r\n\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/history.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.history}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+H' : 'Ctrl+H'}</ButtonAccelerator>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://downloads`, true); }}>\r\n\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/download.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.downloads}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+D' : 'Ctrl+D'}</ButtonAccelerator>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={() => { this.setState({ isOpen: 'app' }); }}>\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.app.name}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator></ButtonAccelerator>\r\n\t\t\t\t\t\t<MoreIcon isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Divider isVertical={false} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t<Button onClick={() => { this.closeMenu(); ipcRenderer.send(`browserView-print-${this.props.match.params.windowId}`, { id: this.props.match.params.tabId }); }}>\r\n\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/print.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.print}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+P' : 'Ctrl+P'}</ButtonAccelerator>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/find.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.find}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+F' : 'Ctrl+F'}</ButtonAccelerator>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={() => { this.setState({ isOpen: 'otherTools' }); }}>\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.otherTools.name}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator></ButtonAccelerator>\r\n\t\t\t\t\t\t<MoreIcon isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Divider isVertical={false} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t<Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://settings`, true); }}>\r\n\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/settings.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.settings}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator></ButtonAccelerator>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://help`, true); }}>\r\n\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/help_outline.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.help}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator></ButtonAccelerator>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Divider isVertical={false} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t<ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.close}</ButtonTitle>\r\n\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+Q' : 'Alt+F4'}</ButtonAccelerator>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Window>\r\n\t\t\t\t<Dialog isOpen={this.state.isOpen === 'userInfo'} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')}>\r\n\t\t\t\t\t<DialogHeader>\r\n\t\t\t\t\t\t<DialogHeaderButton src={this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? DarkBackIcon : LightBackIcon} size={18} onClick={() => { this.setState({ isOpen: null }); }} />\r\n\t\t\t\t\t\t<DialogHeaderTitle>{lang.window.toolBar.menu.menus.userInfo}</DialogHeaderTitle>\r\n\t\t\t\t\t</DialogHeader>\r\n\t\t\t\t\t<DialogContainer isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')}>\r\n\t\t\t\t\t</DialogContainer>\r\n\t\t\t\t</Dialog>\r\n\t\t\t\t<Dialog isOpen={this.state.isOpen === 'app'} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')}>\r\n\t\t\t\t\t<DialogHeader>\r\n\t\t\t\t\t\t<DialogHeaderButton src={this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? DarkBackIcon : LightBackIcon} size={18} onClick={() => { this.setState({ isOpen: null }); }} />\r\n\t\t\t\t\t\t<DialogHeaderTitle>{lang.window.toolBar.menu.menus.app.name}</DialogHeaderTitle>\r\n\t\t\t\t\t</DialogHeader>\r\n\t\t\t\t\t<DialogContainer isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')}>\r\n\t\t\t\t\t\t<Button onClick={() => { this.closeMenu(); this.addTab(`${protocolStr}://apps/`); }}>\r\n\t\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/apps.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t\t<ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.app.list}</ButtonTitle>\r\n\t\t\t\t\t\t\t<ButtonAccelerator></ButtonAccelerator>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Divider isVertical={false} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t\t<Button onClick={() => { this.closeMenu(); ipcRenderer.send(`appWindow-add`, { url: this.state.url }); }}>\r\n\t\t\t\t\t\t\t<ButtonTitle hasIcon={false}>{String(lang.window.toolBar.menu.menus.app.run).replace(/{title}/, lang.window.toolBar.menu.menus.app.name)}</ButtonTitle>\r\n\t\t\t\t\t\t\t<ButtonAccelerator></ButtonAccelerator>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogContainer>\r\n\t\t\t\t</Dialog>\r\n\t\t\t\t<Dialog isOpen={this.state.isOpen === 'otherTools'} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')}>\r\n\t\t\t\t\t<DialogHeader>\r\n\t\t\t\t\t\t<DialogHeaderButton src={this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? DarkBackIcon : LightBackIcon} size={18} onClick={() => { this.setState({ isOpen: null }); }} />\r\n\t\t\t\t\t\t<DialogHeaderTitle>{lang.window.toolBar.menu.menus.otherTools.name}</DialogHeaderTitle>\r\n\t\t\t\t\t</DialogHeader>\r\n\t\t\t\t\t<DialogContainer isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')}>\r\n\t\t\t\t\t\t<Button onClick={() => { this.closeMenu(); ipcRenderer.send(`browserView-savePage-${this.props.match.params.windowId}`, { id: this.props.match.params.tabId }); }}>\r\n\t\t\t\t\t\t\t<img src={`${this.getIconDirectory()}/save.png`} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t\t<ButtonTitle hasIcon={true}>{lang.window.toolBar.menu.menus.otherTools.savePage}</ButtonTitle>\r\n\t\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+S' : 'Ctrl+S'}</ButtonAccelerator>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Divider isVertical={false} isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} />\r\n\t\t\t\t\t\t<Button onClick={() => { this.closeMenu(); ipcRenderer.send(`browserView-viewSource-${this.props.match.params.windowId}`, { id: this.props.match.params.tabId }); }}>\r\n\t\t\t\t\t\t\t<ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.otherTools.viewSource}</ButtonTitle>\r\n\t\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+U' : 'Ctrl+U'}</ButtonAccelerator>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={() => { this.closeMenu(); ipcRenderer.send(`browserView-devTool-${this.props.match.params.windowId}`, { id: this.props.match.params.tabId }); }}>\r\n\t\t\t\t\t\t\t<ButtonTitle hasIcon={false}>{lang.window.toolBar.menu.menus.otherTools.devTool}</ButtonTitle>\r\n\t\t\t\t\t\t\t<ButtonAccelerator>{platform.isDarwin ? 'Cmd+Shift+I' : 'Ctrl+Shift+I'}</ButtonAccelerator>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogContainer>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MenuWindow;","import React, { Component } from 'react';\r\n\r\nimport styled from 'styled-components';\r\n\r\nimport Window from './Components/Window';\r\nimport WindowButtons from './Components/WindowButtons';\r\nimport WindowButton from './Components/WindowButton';\r\nimport WindowContent from './Components/WindowContent';\r\nimport Titlebar from './Components/Titlebar';\r\n\r\nimport DarkFileIcon from './Resources/dark/file.svg';\r\nimport LightFileIcon from './Resources/light/file.svg';\r\n\r\nimport DarkSearchIcon from './Resources/dark/search.svg';\r\nimport LightSearchIcon from './Resources/light/search.svg';\r\n\r\nimport * as http from 'http';\r\nimport * as https from 'https';\r\nimport { parse } from 'url';\r\n\r\nimport { isURL, prefixHttp } from '../Utils/URL';\r\n\r\nconst { remote, ipcRenderer, shell } = window.require('electron');\r\nconst { app, systemPreferences, Menu, MenuItem, dialog, nativeTheme } = remote;\r\n\r\nconst platform = require('electron-platform');\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst request = window.require('request');\r\n\r\nconst lang = window.require(`${app.getAppPath()}/langs/${config.get('language') != undefined ? config.get('language') : 'ja'}.js`);\r\n\r\nconst SuggestListContainer = styled.ul`\r\n  margin: 5px;\r\n  padding: 0px;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst SuggestListItem = styled.li`\r\n  padding: ${`4px ${40 * (config.get('design.isHomeButton') ? 5 : 4) - 40}`}px;\r\n  list-style: none;\r\n  transition: 0.2s background-color;\r\n  border-radius: 2px;\r\n  box-sizing: border-box;\r\n  &:hover {\r\n    background-color: rgba(196, 196, 196, 0.4);\r\n  }\r\n`;\r\n\r\nconst SuggestListItemSecondaryText = styled.span`\r\n  margin-left: 5px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  opacity: 0;\r\n  box-sizing: border-box;\r\n  \r\n  ${SuggestListItem}:hover & {\r\n\topacity: 1;\r\n  }\r\n`;\r\n\r\nconst SuggestListItemIcon = styled.div`\r\n  width: ${props => props.size}px;\r\n  height: ${props => props.size}px;\r\n  margin-right: 5px;\r\n  display: inline-block;\r\n  vertical-align: sub;\r\n  background-image: url(${props => props.src});\r\n  background-size: ${props => props.size}px;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst Button = styled.li`\r\n  background: transparent;\r\n  transition: 0.2s background-color;\r\n  box-sizing: border-box;\r\n  &:hover {\r\n    background-color: rgba(196, 196, 196, 0.4);\r\n  }\r\n`;\r\n\r\nclass InfomationWindow extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tid: '',\r\n\t\t\ttext: '',\r\n\t\t\tsuggestions: [],\r\n\t\t\tsearchEngines: []\r\n\t\t};\r\n\r\n\t\tipcRenderer.on('window-change-settings', (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`suggestWindow-${this.props.match.params.windowId}`, async (e, args) => {\r\n\t\t\tconst data = JSON.parse((await this.requestURL(`http://google.com/complete/search?client=chrome&hl=ja&ie=utf_8&oe=utf_8&q=${encodeURIComponent(args.text)}`)).data);\r\n\r\n\t\t\tlet suggestions = [];\r\n\r\n\t\t\tfor (const item of data[1]) {\r\n\t\t\t\tif (suggestions.indexOf(item) === -1) {\r\n\t\t\t\t\tsuggestions.push(String(item).toLowerCase());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tid: args.id,\r\n\t\t\t\ttext: args.text,\r\n\t\t\t\tsuggestions: suggestions.sort((a, b) => a.length - b.length).slice(0, 5)\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tconfig.get('searchEngine.searchEngines').forEach((item, i) => {\r\n\t\t\tthis.setState(state => { return { searchEngines: [...state.searchEngines, item] }; });\r\n\t\t});\r\n\t}\r\n\r\n\trequestURL = (url) =>\r\n\t\tnew Promise((resolve, reject) => {\r\n\t\t\tconst options = parse(url);\r\n\r\n\t\t\tlet { request } = http;\r\n\r\n\t\t\tif (options.protocol === 'https:') {\r\n\t\t\t\trequest = https.request;\r\n\t\t\t}\r\n\r\n\t\t\tconst req = request(options, res => {\r\n\t\t\t\tlet data = '';\r\n\t\t\t\tres.setEncoding('utf8');\r\n\r\n\t\t\t\tres.on('data', chunk => {\r\n\t\t\t\t\tdata += chunk;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tres.on('end', () => {\r\n\t\t\t\t\tconst d = { ...res, data };\r\n\t\t\t\t\tresolve(d);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\treq.on('error', e => {\r\n\t\t\t\treject(e);\r\n\t\t\t});\r\n\r\n\t\t\treq.end();\r\n\t\t});\r\n\r\n\tgetSearchEngine = () => {\r\n\t\tfor (var i = 0; i < config.get('searchEngine.searchEngines').length; i++) {\r\n\t\t\tif (config.get('searchEngine.searchEngines')[i].name == config.get('searchEngine.defaultEngine')) {\r\n\t\t\t\treturn config.get('searchEngine.searchEngines')[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetTheme = () => {\r\n\t\tif (config.get('design.theme') === -1)\r\n\t\t\treturn nativeTheme.shouldUseDarkColors;\r\n\t\telse if (config.get('design.theme') === 0)\r\n\t\t\treturn false;\r\n\t\telse if (config.get('design.theme') === 1)\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\tgetForegroundColor = (hexColor) => {\r\n\t\tvar r = parseInt(hexColor.substr(1, 2), 16);\r\n\t\tvar g = parseInt(hexColor.substr(3, 2), 16);\r\n\t\tvar b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n\t\treturn ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n\t}\r\n\r\n\tloadURL = (value) => {\r\n\t\tipcRenderer.send(`window-hideSuggest-${this.props.match.params.windowId}`, {});\r\n\r\n\t\tif (isURL(value) && !value.includes('://')) {\r\n\t\t\tipcRenderer.send(`suggestWindow-loadURL-${this.props.match.params.windowId}`, { id: this.state.id, url: `http://${value}` });\r\n\t\t} else if (!value.includes('://')) {\r\n\t\t\tipcRenderer.send(`suggestWindow-loadURL-${this.props.match.params.windowId}`, { id: this.state.id, url: this.getSearchEngine().url.replace('%s', encodeURIComponent(value)) });\r\n\t\t} else {\r\n\t\t\tconst pattern = /^(file:\\/\\/\\S.*)\\S*$/;\r\n\r\n\t\t\tif (pattern.test(value)) {\r\n\t\t\t\tipcRenderer.send(`browserView-loadFile-${this.props.match.params.windowId}`, { id: this.state.id, url: value.replace('file:///', '') });\r\n\t\t\t} else {\r\n\t\t\t\tipcRenderer.send(`suggestWindow-loadURL-${this.props.match.params.windowId}`, { id: this.state.id, url: value });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetSuggestIcon = () => {\r\n\t\tconst value = this.state.text;\r\n\r\n\t\tif (isURL(value) && !value.includes('://')) {\r\n\t\t\treturn this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? DarkFileIcon : LightFileIcon;\r\n\t\t} else if (!value.includes('://')) {\r\n\t\t\treturn this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? DarkSearchIcon : LightSearchIcon;\r\n\t\t} else {\r\n\t\t\treturn this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? DarkFileIcon : LightFileIcon;\r\n\t\t}\r\n\t}\r\n\r\n\tgetSuggestSecondaryText = () => {\r\n\t\tconst value = this.state.text;\r\n\r\n\t\tif (isURL(value) && !value.includes('://')) {\r\n\t\t\treturn lang.window.toolBar.addressBar.textBox.suggest.open;\r\n\t\t} else if (!value.includes('://')) {\r\n\t\t\treturn String(lang.window.toolBar.addressBar.textBox.suggest.search).replace(/{replace}/, this.getSearchEngine().name);\r\n\t\t} else {\r\n\t\t\treturn lang.window.toolBar.addressBar.textBox.suggest.open;\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={{ boxSizing: 'border-box', padding: 0, boxShadow: '0px 2px 4px rgba(0, 0, 0, 0.16), 0px 2px 4px rgba(0, 0, 0, 0.23)', backgroundColor: this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#353535' : '#f9f9fa', color: this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#f9f9fa' : '#353535', width: 'auto', display: 'flex', flexDirection: 'column', justifyContent: 'space-around' }} onMouseEnter={(e) => { remote.getCurrentWindow().setIgnoreMouseEvents(false); }} onMouseLeave={(e) => { remote.getCurrentWindow().setIgnoreMouseEvents(true, { forward: true }); }}>\r\n\t\t\t\t<SuggestListContainer>\r\n\t\t\t\t\t<SuggestListItem style={{ borderBottom: this.state.suggestions.length > 0 ? 'solid 1px #c1c1c1' : 'none', padding: `4px ${40 * (config.get('design.isHomeButton') ? 5 : 4) - 40}px`, color: this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#f9f9fa' : '#353535' }} windowId={this.props.match.params.windowId} onClick={() => { this.loadURL(this.state.text); }}>\r\n\t\t\t\t\t\t<SuggestListItemIcon src={this.getSuggestIcon()} size={16} />\r\n\t\t\t\t\t\t{this.state.text}\r\n\t\t\t\t\t\t<SuggestListItemSecondaryText>\r\n\t\t\t\t\t\t\t<span style={{ margin: '0px 4px' }}>&mdash;</span>\r\n\t\t\t\t\t\t\t{this.getSuggestSecondaryText()}\r\n\t\t\t\t\t\t</SuggestListItemSecondaryText>\r\n\t\t\t\t\t</SuggestListItem>\r\n\t\t\t\t\t{this.state.suggestions.map((item, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<SuggestListItem key={i} style={{ padding: `4px ${40 * (config.get('design.isHomeButton') ? 5 : 4) - 40}px`, color: this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#f9f9fa' : '#353535' }} windowId={this.props.match.params.windowId} onClick={() => { ipcRenderer.send(`suggestWindow-loadURL-${this.props.match.params.windowId}`, { id: this.state.id, url: this.getSearchEngine().url.replace('%s', encodeURIComponent(item)) }); }}>\r\n\t\t\t\t\t\t\t\t<SuggestListItemIcon src={this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? DarkSearchIcon : LightSearchIcon} size={16} />\r\n\t\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t\t\t<SuggestListItemSecondaryText>\r\n\t\t\t\t\t\t\t\t\t<span style={{ margin: '0px 4px' }}>&mdash;</span>\r\n\t\t\t\t\t\t\t\t\t{String(lang.window.toolBar.addressBar.textBox.suggest.search).replace(/{replace}/, this.getSearchEngine().name)}\r\n\t\t\t\t\t\t\t\t</SuggestListItemSecondaryText>\r\n\t\t\t\t\t\t\t</SuggestListItem>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</SuggestListContainer>\r\n\t\t\t\t<ul style={{ margin: 0, padding: 0, backgroundColor: this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#5a5a5a' : '#eaeaea', borderTop: 'solid 1px #c1c1c1' }}>\r\n\t\t\t\t\t<Button style={{ listStyle: 'none', borderRight: 'solid 1px #c1c1c1', padding: '5px 15px', display: 'inline-table' }} title={this.getSearchEngine().name} onClick={() => { ipcRenderer.send(`suggestWindow-loadURL-${this.props.match.params.windowId}`, { id: this.state.id, url: this.getSearchEngine().url.replace('%s', encodeURIComponent(this.state.text)) }); }}>\r\n\t\t\t\t\t\t<img src={`https://www.google.com/s2/favicons?domain=${parse(this.getSearchEngine().url).protocol}//${parse(this.getSearchEngine().url).hostname}`} alt={this.getSearchEngine().name} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t<span style={{ marginLeft: 8, verticalAlign: 'middle' }}>{String(lang.window.toolBar.addressBar.textBox.suggest.search).replace(/{replace}/, this.getSearchEngine().name)}</span>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t{this.state.searchEngines.map((item, i) => {\r\n\t\t\t\t\t\tif (this.getSearchEngine().url !== item.url) {\r\n\t\t\t\t\t\t\tconst parsed = parse(item.url);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Button key={i} style={{ listStyle: 'none', borderRight: 'solid 1px #c1c1c1', padding: '5px 15px', display: 'inline-table' }} title={String(lang.window.toolBar.addressBar.textBox.suggest.search).replace(/{replace}/, item.name)} onClick={() => { ipcRenderer.send(`suggestWindow-loadURL-${this.props.match.params.windowId}`, { id: this.state.id, url: item.url.replace('%s', encodeURIComponent(this.state.text)) }); }}>\r\n\t\t\t\t\t\t\t\t\t<img src={`https://www.google.com/s2/favicons?domain=${parsed.protocol}//${parsed.hostname}`} alt={item.name} style={{ verticalAlign: 'middle' }} />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t<Button style={{ listStyle: 'none', float: 'right', padding: '5px 10px', display: 'inline-table' }} onClick={() => ipcRenderer.send(`suggestWindow-close-${this.props.match.params.windowId}`, {})}>\r\n\t\t\t\t\t\t<svg name=\"TitleBarClose\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill={this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? '#f9f9fa' : '#353535'} style={{ verticalAlign: 'middle' }}>\r\n\t\t\t\t\t\t\t<polygon fill-rule=\"evenodd\" points=\"11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1\" />\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default InfomationWindow;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { parse, format } from 'url';\r\n\r\nimport Button from './Components/Button';\r\n\r\nconst { remote, ipcRenderer, shell } = window.require('electron');\r\nconst { app, systemPreferences, Menu, MenuItem, dialog, nativeTheme } = remote;\r\n\r\nconst platform = require('electron-platform');\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst Window = styled.div`\r\n  width: auto;\r\n  height: ${platform.isWin32 || platform.isDarwin ? 'auto' : '100%'};\r\n  margin: ${platform.isWin32 || platform.isDarwin ? '0px 4px' : '0px'};\r\n  padding: 6px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: ${platform.isWin32 || platform.isDarwin ? 2 : 0}px;\r\n  border: ${platform.isWin32 || platform.isDarwin ? 'none' : (props => !props.isDarkModeOrPrivateMode ? 'solid 1px #e1e1e1' : 'solid 1px #8b8b8b')};\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  color: ${props => !props.isDarkModeOrPrivateMode ? '#353535' : '#f9f9fa'};\r\n  box-shadow: ${platform.isWin32 || platform.isDarwin ? '0px 2px 4px rgba(0, 0, 0, 0.16), 0px 2px 4px rgba(0, 0, 0, 0.23)' : 'none'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nclass AuthenticationWindow extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tuserName: '',\r\n\t\t\tpassWord: ''\r\n\t\t};\r\n\r\n\t\tipcRenderer.on('window-change-settings', (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tthis.setState({ passWord: '' });\r\n\t\tdocument.title = '認証';\r\n\t}\r\n\r\n\tsubmit = () => {\r\n\t\tipcRenderer.send(`authWindow-result-${this.props.match.params.windowId}`, { user: this.state.userName, pass: this.state.passWord });\r\n\t}\r\n\r\n\tgetTheme = () => {\r\n\t\tif (config.get('design.theme') === -1)\r\n\t\t\treturn nativeTheme.shouldUseDarkColors;\r\n\t\telse if (config.get('design.theme') === 0)\r\n\t\t\treturn false;\r\n\t\telse if (config.get('design.theme') === 1)\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\tgetForegroundColor = (hexColor) => {\r\n\t\tvar r = parseInt(hexColor.substr(1, 2), 16);\r\n\t\tvar g = parseInt(hexColor.substr(3, 2), 16);\r\n\t\tvar b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n\t\treturn ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Window isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')} onMouseEnter={(e) => { remote.getCurrentWindow().setIgnoreMouseEvents(false); }} onMouseLeave={(e) => { remote.getCurrentWindow().setIgnoreMouseEvents(true, { forward: true }); }}>\r\n\t\t\t\t<div style={{ marginBottom: 10 }}>\r\n\t\t\t\t\t<label style={{ whiteSpace: 'normal' }}>このサイトにログインするための認証情報を入力してください。</label>\r\n\t\t\t\t\t<label style={{ marginBottom: 0 }}>ユーザー名</label>\r\n\t\t\t\t\t<input type=\"text\" value={this.state.userName} onChange={(e) => { this.setState({ userName: e.target.value }); }} style={{ width: '100%', cursor: 'initial', paddingLeft: 3, paddingRight: 3 }} />\r\n\t\t\t\t\t<label style={{ marginTop: 5, marginBottom: 0 }}>パスワード</label>\r\n\t\t\t\t\t<input type=\"password\" value={this.state.passWord} onChange={(e) => { this.setState({ passWord: e.target.value }); }} style={{ width: '100%', cursor: 'initial', paddingLeft: 3, paddingRight: 3 }} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\t\t\t\t\t<Button style={{ width: '49.2%' }} tabIndex={0} onClick={this.submit.bind(this)}>送信</Button>\r\n\t\t\t\t\t<Button style={{ width: '49.2%' }} tabIndex={0} onClick={() => ipcRenderer.send(`authWindow-close-${this.props.match.params.windowId}`, {})}>キャンセル</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Window>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AuthenticationWindow;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { parse, format } from 'url';\r\n\r\nimport DarkBackIcon from './Resources/dark/arrow_back.svg';\r\nimport LightBackIcon from './Resources/light/arrow_back.svg';\r\n\r\nconst { remote, ipcRenderer, shell } = window.require('electron');\r\nconst { app, systemPreferences, Menu, MenuItem, dialog, nativeTheme } = remote;\r\n\r\nconst pkg = window.require(`${app.getAppPath()}/package.json`);\r\nconst protocolStr = 'flast';\r\nconst fileProtocolStr = `${protocolStr}-file`;\r\n\r\nconst platform = require('electron-platform');\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst lang = window.require(`${app.getAppPath()}/langs/${config.get('language') != undefined ? config.get('language') : 'ja'}.js`);\r\n\r\nconst buttonHeight = 27;\r\n\r\nconst Window = styled.div`\r\n  width: auto;\r\n  height: 100%;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: solid 1px ${props => !props.isDarkModeOrPrivateMode ? '#e1e1e1' : '#8b8b8b'};\r\n  background-color: ${props => !props.isDarkModeOrPrivateMode ? '#f9f9fa' : '#353535'};\r\n  color: ${props => !props.isDarkModeOrPrivateMode ? '#353535' : '#f9f9fa'};\r\n  box-sizing: border-box;\r\n`;\r\n\r\nclass MoreIcon extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 59.414 59.414\">\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<polygon fill={this.props.isDarkModeOrPrivateMode ? '#e1e1e1' : '#8b8b8b'} points=\"15.561,59.414 14.146,58 42.439,29.707 14.146,1.414 15.561,0 45.268,29.707\"></polygon>\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass TranslateWindow extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\turl: ''\r\n\t\t};\r\n\r\n\t\tipcRenderer.on('window-change-settings', (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tlet webView = this.refs.webView;\r\n\r\n\t\twebView.addEventListener('dom-ready', () => {\r\n\t\t\twebView.executeJavaScript(`\r\n\t\t\t\tdocument.getElementById('wtgbr').parentNode.removeChild(document.getElementById('wtgbr'));\r\n\t\t\t\tdocument.getElementById('gt-appname').parentNode.removeChild(document.getElementById('gt-appname'));\r\n\t\t\t\tdocument.getElementById('contentframe').style.top = '42px';\r\n\t\t\t\tdocument.getElementById('gt-appbar').style.padding = '6px';\r\n\t\t\t\tdocument.getElementById('gt-sl').style.width = '90px';\r\n\t\t\t\tdocument.getElementById('gt-tl').style.width = '90px';\r\n\t\t\t`);\r\n\t\t});\r\n\r\n\t\tipcRenderer.on(`translateWindow-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.setState({ url: args.url });\r\n\t\t\tthis.forceUpdate();\r\n\r\n\t\t\twebView.loadURL(`https://translate.google.com/translate?hl=&sl=auto&tl=ja&u=${args.url}`);\r\n\t\t\twebView.executeJavaScript(`\r\n\t\t\t\tdocument.getElementById('wtgbr').parentNode.removeChild(document.getElementById('wtgbr'));\r\n\t\t\t\tdocument.getElementById('gt-appname').parentNode.removeChild(document.getElementById('gt-appname'));\r\n\t\t\t\tdocument.getElementById('contentframe').style.top = '42px';\r\n\t\t\t\tdocument.getElementById('gt-appbar').style.padding = '6px';\r\n\t\t\t\tdocument.getElementById('gt-sl').style.width = '90px';\r\n\t\t\t\tdocument.getElementById('gt-tl').style.width = '90px';\r\n\t\t\t`);\r\n\t\t});\r\n\t}\r\n\r\n\tgetTheme = () => {\r\n\t\tif (config.get('design.theme') === -1)\r\n\t\t\treturn nativeTheme.shouldUseDarkColors;\r\n\t\telse if (config.get('design.theme') === 0)\r\n\t\t\treturn false;\r\n\t\telse if (config.get('design.theme') === 1)\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\tgetForegroundColor = (hexColor) => {\r\n\t\tvar r = parseInt(hexColor.substr(1, 2), 16);\r\n\t\tvar g = parseInt(hexColor.substr(3, 2), 16);\r\n\t\tvar b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n\t\treturn ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n\t}\r\n\r\n\taddTab = (url = (config.get('homePage.isDefaultHomePage') ? `${protocolStr}://home/` : config.get('homePage.defaultPage')), isInternal = false) => {\r\n\t\tif (isInternal) {\r\n\t\t\tconst u = parse(this.state.url);\r\n\t\t\tconsole.log(u.protocol);\r\n\r\n\t\t\tif (u.protocol === `${protocolStr}:`) {\r\n\t\t\t\tipcRenderer.send(`browserView-loadURL-${this.props.match.params.windowId}`, { id: this.props.match.params.tabId, url });\r\n\t\t\t} else {\r\n\t\t\t\tipcRenderer.send(`tab-add-${this.props.match.params.windowId}`, { url, isActive: true });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tipcRenderer.send(`tab-add-${this.props.match.params.windowId}`, { url, isActive: true });\r\n\t\t}\r\n\t}\r\n\r\n\tcloseMenu = () => {\r\n\t\tipcRenderer.send(`translateWindow-close-${this.props.match.params.windowId}`, {});\r\n\t}\r\n\r\n\tgetIconDirectory = () => {\r\n\t\treturn `${app.getAppPath()}/static/${this.getTheme() || String(this.props.match.params.windowId).startsWith('private') ? 'dark' : 'light'}`;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={{ boxSizing: 'border-box', width: '100%', height: '100%' }}>\r\n\t\t\t\t<Window isDarkModeOrPrivateMode={this.getTheme() || String(this.props.match.params.windowId).startsWith('private')}>\r\n\t\t\t\t\t<webview partition=\"persist:extensions-translate\" style={{ height: '100%' }} ref=\"webView\" src={`https://translate.google.com/translate?hl=&sl=auto&tl=ja&u=${this.state.url}`} />\r\n\t\t\t\t</Window>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default TranslateWindow;","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport Tippy from '@tippy.js/react';\r\nimport Sortable from 'sortablejs';\r\n\r\nimport Window from './Components/Window';\r\nimport WindowButtons from './Components/WindowButtons';\r\nimport WindowButton from './Components/WindowButton';\r\nimport WindowContent from './Components/WindowContent';\r\nimport Titlebar from './Components/Titlebar';\r\nimport Tabs from './Components/Tabs';\r\nimport { TabContainer, Tab, TabIcon, TabTitle, TabStatusIcon, TabCloseButton } from './Components/Tab';\r\nimport TabButton from './Components/TabButton';\r\nimport TabContent from './Components/TabContent';\r\nimport Toolbar from './Components/Toolbar';\r\nimport { ToolbarButton, ToolbarButtonBadge } from './Components/ToolbarButton';\r\nimport ToolbarDivider from './Components/ToolbarDivider';\r\nimport { ToolbarTextBoxWrapper, ToolbarTextBox } from './Components/ToolbarTextBox';\r\nimport BookmarkBar from './Components/BookmarkBar';\r\nimport ContentWrapper from './Components/ContentWrapper';\r\n\r\nimport WindowMinimizeIcon from './Resources/windows/minimize.svg';\r\nimport WindowMaximizeIcon from './Resources/windows/maximize.svg';\r\nimport WindowCloseIcon from './Resources/windows/close.svg';\r\n\r\nimport DarkBackIcon from './Resources/dark/arrow_back.svg';\r\nimport LightBackIcon from './Resources/light/arrow_back.svg';\r\nimport DarkForwardIcon from './Resources/dark/arrow_forward.svg';\r\nimport LightForwardIcon from './Resources/light/arrow_forward.svg';\r\n\r\nimport BackInActiveIcon from './Resources/inactive/arrow_back.svg';\r\nimport ForwardInActiveIcon from './Resources/inactive/arrow_forward.svg';\r\n\r\nimport DarkReloadIcon from './Resources/dark/reload.svg';\r\nimport LightReloadIcon from './Resources/light/reload.svg';\r\nimport DarkHomeIcon from './Resources/dark/home.svg';\r\nimport LightHomeIcon from './Resources/light/home.svg';\r\n\r\nimport DarkInfomationIcon from './Resources/dark/info.svg';\r\nimport LightInfomationIcon from './Resources/light/info.svg';\r\n\r\nimport DarkSecureIcon from './Resources/dark/secure.svg';\r\nimport LightSecureIcon from './Resources/light/secure.svg';\r\nimport DarkInSecureIcon from './Resources/dark/insecure.svg';\r\nimport LightInSecureIcon from './Resources/light/insecure.svg';\r\n\r\nimport DarkStarIcon from './Resources/dark/star.svg';\r\nimport LightStarIcon from './Resources/light/star.svg';\r\nimport DarkStarFilledIcon from './Resources/dark/star-filled.svg';\r\nimport LightStarFilledIcon from './Resources/light/star-filled.svg';\r\n\r\nimport DarkFeedbackIcon from './Resources/dark/feedback.svg';\r\nimport LightFeedbackIcon from './Resources/light/feedback.svg';\r\nimport DarkAccountIcon from './Resources/dark/account.svg';\r\nimport LightAccountIcon from './Resources/light/account.svg';\r\n\r\nimport DarkShieldIcon from './Resources/dark/shield.svg';\r\nimport LightShieldIcon from './Resources/light/shield.svg';\r\n\r\nimport DarkMoreIcon from './Resources/dark/more.svg';\r\nimport LightMoreIcon from './Resources/light/more.svg';\r\n\r\nimport DarkPublicIcon from './Resources/dark/public.svg';\r\nimport LightPublicIcon from './Resources/light/public.svg';\r\n\r\nimport DarkAddIcon from './Resources/dark/add.svg';\r\nimport LightAddIcon from './Resources/light/add.svg';\r\nimport DarkCloseIcon from './Resources/dark/close.svg';\r\nimport LightCloseIcon from './Resources/light/close.svg';\r\nimport DarkAudioIcon from './Resources/dark/audio.svg';\r\nimport LightAudioIcon from './Resources/light/audio.svg';\r\n\r\nimport 'tippy.js/dist/tippy.css';\r\nimport 'tippy.js/themes/light.css';\r\nimport 'tippy.js/themes/light-border.css';\r\nimport 'tippy.js/themes/material.css';\r\nimport 'tippy.js/themes/translucent.css';\r\n\r\nimport { isURL, prefixHttp } from '../Utils/URL';\r\n\r\nconst { remote, ipcRenderer, shell } = window.require('electron');\r\nconst { app, systemPreferences, Menu, MenuItem, dialog, nativeImage, clipboard } = remote;\r\n\r\nconst pkg = window.require(`${app.getAppPath()}/package.json`);\r\nconst protocolStr = 'flast';\r\nconst fileProtocolStr = `${protocolStr}-file`;\r\n\r\nconst platform = window.require('electron-platform');\r\nconst { parse, format } = window.require('url');\r\nconst path = window.require('path');\r\nconst process = window.require('process');\r\n\r\nconst Config = window.require('electron-store');\r\nconst config = new Config();\r\n\r\nconst lang = window.require(`${app.getAppPath()}/langs/${config.get('language')}`);\r\n\r\nclass ApplicationWindow extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tipcRenderer.on(`window-focus-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\t\tipcRenderer.on(`window-blur-${this.props.match.params.windowId}`, (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\r\n\t\tipcRenderer.on('window-change-settings', (e, args) => {\r\n\t\t\tthis.forceUpdate();\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tlet webView = this.webView;\r\n\r\n\t\twebView.addEventListener('did-finish-load', (e) => {\r\n\t\t\tdocument.title = webView.getTitle();\r\n\t\t\tthis.forceUpdate();\r\n\t\t}, false);\r\n\r\n\t\twebView.addEventListener('page-title-updated', (e) => {\r\n\t\t\tdocument.title = webView.getTitle();\r\n\t\t\tthis.forceUpdate();\r\n\t\t}, false);\r\n\r\n\t\twebView.addEventListener('new-window', (e) => {\r\n\t\t\twebView.loadURL(e.url);\r\n\t\t});\r\n\r\n\t\twebView.addEventListener('context-menu', (e) => {\r\n\t\t\tif (webView.isDestroyed()) return;\r\n\r\n\t\t\tconst params = e.params;\r\n\r\n\t\t\tlet menu = Menu.buildFromTemplate(\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.view.contextMenu.back,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/${!webView.canGoBack() ? 'arrow_back_inactive' : 'light/arrow_back'}.png`,\r\n\t\t\t\t\t\taccelerator: 'Alt+Left',\r\n\t\t\t\t\t\tenabled: webView.canGoBack(),\r\n\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\tconst url = webView.getURL();\r\n\r\n\t\t\t\t\t\t\twebView.goBack();\r\n\t\t\t\t\t\t\tif (url.startsWith(`${protocolStr}://error`)) {\r\n\t\t\t\t\t\t\t\tif (webView.canGoBack())\r\n\t\t\t\t\t\t\t\t\twebView.goBack();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.view.contextMenu.forward,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/${!webView.canGoForward() ? 'arrow_forward_inactive' : 'light/arrow_forward'}.png`,\r\n\t\t\t\t\t\taccelerator: 'Alt+Right',\r\n\t\t\t\t\t\tenabled: webView.canGoForward(),\r\n\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\tconst url = webView.getURL();\r\n\r\n\t\t\t\t\t\t\twebView.goForward();\r\n\t\t\t\t\t\t\tif (url.startsWith(`${protocolStr}://error`)) {\r\n\t\t\t\t\t\t\t\tif (webView.canGoForward())\r\n\t\t\t\t\t\t\t\t\twebView.goForward();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: !webView.isLoadingMainFrame() ? lang.window.view.contextMenu.reload.reload : lang.window.view.contextMenu.reload.stop,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/${!webView.isLoadingMainFrame() ? 'refresh' : 'close'}.png`,\r\n\t\t\t\t\t\taccelerator: 'CmdOrCtrl+R',\r\n\t\t\t\t\t\tclick: () => { !webView.isLoadingMainFrame() ? webView.reload() : webView.stop(); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...(params.mediaType === 'audio' || params.mediaType === 'video' || webView.isCurrentlyAudible() ? [\r\n\t\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: webView.isAudioMuted() ? lang.window.view.contextMenu.media.audioMuteExit : lang.window.view.contextMenu.media.audioMute,\r\n\t\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/${webView.isAudioMuted() ? 'volume_up' : 'volume_off'}.png`,\r\n\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\twebView.setAudioMuted(!webView.isAudioMuted());\r\n\r\n\t\t\t\t\t\t\t\tthis.getViews();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t] : []),\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.view.contextMenu.savePage,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/save.png`,\r\n\t\t\t\t\t\taccelerator: 'CmdOrCtrl+S',\r\n\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\tdialog.showSaveDialog({\r\n\t\t\t\t\t\t\t\tdefaultPath: `${app.getPath('downloads')}/${webView.getTitle()}.html`,\r\n\t\t\t\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\t\t\t\t{ name: 'HTML', extensions: ['htm', 'html'] },\r\n\t\t\t\t\t\t\t\t\t{ name: 'All Files', extensions: ['*'] }\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}, (fileName) => {\r\n\t\t\t\t\t\t\t\tif (fileName === undefined || fileName === null) return;\r\n\t\t\t\t\t\t\t\twebView.savePage(fileName, 'HTMLComplete', (err) => {\r\n\t\t\t\t\t\t\t\t\tif (!err) console.log('Page Save successfully');\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.view.contextMenu.print,\r\n\t\t\t\t\t\ticon: `${app.getAppPath()}/static/light/print.png`,\r\n\t\t\t\t\t\taccelerator: 'CmdOrCtrl+P',\r\n\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\tclick: () => { webView.print(); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ type: 'separator' },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: lang.window.view.contextMenu.devTool,\r\n\t\t\t\t\t\taccelerator: 'CmdOrCtrl+Shift+I',\r\n\t\t\t\t\t\tenabled: !webView.getURL().startsWith(`${protocolStr}://`),\r\n\t\t\t\t\t\tclick: () => { webView.openDevTools(); }\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t);\r\n\r\n\t\t\tmenu.popup(remote.getCurrentWindow());\r\n\t\t}, false);\r\n\t}\r\n\r\n\tgetForegroundColor = (hexColor) => {\r\n\t\tvar r = parseInt(hexColor.substr(1, 2), 16);\r\n\t\tvar g = parseInt(hexColor.substr(3, 2), 16);\r\n\t\tvar b = parseInt(hexColor.substr(5, 2), 16);\r\n\r\n\t\treturn ((((r * 299) + (g * 587) + (b * 114)) / 1000) < 128) ? '#ffffff' : '#000000';\r\n\t}\r\n\r\n\tisDarkModeOrPrivateMode = () => {\r\n\t\treturn config.get('design.isDarkTheme') || String(this.props.match.params.windowId).startsWith('private');\r\n\t}\r\n\r\n\tisDarkModeOrPrivateMode = (lightMode, darkMode) => {\r\n\t\treturn !(config.get('design.isDarkTheme') || String(this.props.match.params.windowId).startsWith('private')) ? lightMode : darkMode;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Window isCustomTitlebar={config.get('design.isCustomTitlebar')}>\r\n\t\t\t\t<Titlebar isActive={remote.getCurrentWindow().isFocused()} color={platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535'} style={{ display: 'flex' }}>\r\n\t\t\t\t\t<WindowButtons isCustomTitlebar={config.get('design.isCustomTitlebar')} isWindowsOrLinux={platform.isWin32 || !(platform.isWin32 && platform.isDarwin)}>\r\n\t\t\t\t\t\t<WindowButton isClose={true} isMinimize={false} isWindowsOrLinux={platform.isWin32 || !(platform.isWin32 && platform.isDarwin)} title={lang.window.titleBar.buttons.close} onClick={() => { this.closeWindow(); }} />\r\n\t\t\t\t\t\t<WindowButton isClose={false} isMinimize={true} isWindowsOrLinux={platform.isWin32 || !(platform.isWin32 && platform.isDarwin)} title={lang.window.titleBar.buttons.minimize} onClick={() => { remote.getCurrentWindow().minimize(); }} />\r\n\t\t\t\t\t\t<WindowButton isClose={false} isMinimize={false} isWindowsOrLinux={platform.isWin32 || !(platform.isWin32 && platform.isDarwin)} title={remote.getCurrentWindow().isMaximized() ? lang.window.titleBar.buttons.maximize.restore : lang.window.titleBar.buttons.maximize.maximize} onClick={() => { remote.getCurrentWindow().isMaximized() ? remote.getCurrentWindow().unmaximize() : remote.getCurrentWindow().maximize(); this.forceUpdate(); }} />\r\n\t\t\t\t\t</WindowButtons>\r\n\t\t\t\t\t<Toolbar style={{ width: 'fit-content', height: '100%', background: 'transparent', border: 'none', WebkitAppRegion: 'no-drag' }} isDarkModeOrPrivateMode={config.get('design.isDarkTheme')}>\r\n\t\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme')} style={{ height: 'auto' }} src={DarkBackIcon} size={24}\r\n\t\t\t\t\t\t\tisShowing={true} isRight={false} isMarginLeft={true} isEnabled={this.webView != undefined ? this.webView.getWebContents().canGoBack() : false} title={lang.window.toolBar.back} onClick={() => { this.webView.getWebContents().goBack(); this.forceUpdate(); }} />\r\n\t\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme')} style={{ height: 'auto' }} src={DarkForwardIcon} size={24}\r\n\t\t\t\t\t\t\tisShowing={this.webView != undefined ? this.webView.getWebContents().canGoForward() : false} isRight={false} isMarginLeft={false} isEnabled={this.webView != undefined ? this.webView.getWebContents().canGoForward() : false} title={lang.window.toolBar.forward} onClick={() => { this.webView.getWebContents().goForward(); this.forceUpdate(); }} />\r\n\t\t\t\t\t\t<ToolbarButton isDarkModeOrPrivateMode={config.get('design.isDarkTheme')} style={{ height: 'auto' }} src={this.webView != undefined && this.webView.getWebContents().isLoadingMainFrame() ? DarkCloseIcon : DarkReloadIcon} size={24}\r\n\t\t\t\t\t\t\tisShowing={true} isRight={false} isMarginLeft={false} isEnabled={true} title={this.webView != undefined && this.webView.getWebContents().isLoadingMainFrame() ? lang.window.toolBar.reload.stop : lang.window.toolBar.reload.reload} onClick={() => { if (this.webView.getWebContents().isLoadingMainFrame()) { this.webView.getWebContents().stop(); } else { this.webView.getWebContents().reload(); } this.forceUpdate(); }} />\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t<span style={{ color: this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535'), marginLeft: 10, display: 'flex', WebkitBoxAlign: 'center', alignItems: 'center', WebkitBoxPack: 'center', justifyContent: 'center' }}>{this.webView != undefined ? this.webView.getWebContents().getTitle() : 'Application'}</span>\r\n\t\t\t\t\t<WindowButtons isCustomTitlebar={config.get('design.isCustomTitlebar')} isWindowsOrLinux={platform.isWin32 || !(platform.isWin32 && platform.isDarwin)}>\r\n\t\t\t\t\t\t<WindowButton isClose={false} isWindowsOrLinux={platform.isWin32 || !(platform.isWin32 && platform.isDarwin)} title={lang.window.titleBar.buttons.minimize} onClick={() => { remote.getCurrentWindow().minimize(); }}>\r\n\t\t\t\t\t\t\t<svg name=\"TitleBarMinimize\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill={this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535')}>\r\n\t\t\t\t\t\t\t\t<rect width=\"10\" height=\"1\" x=\"1\" y=\"6\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</WindowButton>\r\n\t\t\t\t\t\t<WindowButton isClose={false} isWindowsOrLinux={platform.isWin32 || !(platform.isWin32 && platform.isDarwin)} title={remote.getCurrentWindow().isMaximized() ? lang.window.titleBar.buttons.maximize.restore : lang.window.titleBar.buttons.maximize.maximize} onClick={() => { remote.getCurrentWindow().isMaximized() ? remote.getCurrentWindow().unmaximize() : remote.getCurrentWindow().maximize(); this.forceUpdate(); }}>\r\n\t\t\t\t\t\t\t<svg name=\"TitleBarMaximize\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" stroke={this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535')}>\r\n\t\t\t\t\t\t\t\t<rect fill=\"none\" width=\"9\" height=\"9\" x=\"1.5\" y=\"1.5\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</WindowButton>\r\n\t\t\t\t\t\t<WindowButton isClose={true} isWindowsOrLinux={platform.isWin32 || !(platform.isWin32 && platform.isDarwin)} title={lang.window.titleBar.buttons.close} onClick={() => { remote.getCurrentWindow().close(); }}>\r\n\t\t\t\t\t\t\t<svg name=\"TitleBarClose\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill={this.getForegroundColor(platform.isWin32 || platform.isDarwin ? `#${systemPreferences.getAccentColor()}` : '#353535')}>\r\n\t\t\t\t\t\t\t\t<polygon fill-rule=\"evenodd\" points=\"11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</WindowButton>\r\n\t\t\t\t\t</WindowButtons>\r\n\t\t\t\t</Titlebar>\r\n\t\t\t\t<WindowContent>\r\n\t\t\t\t\t<webview ref={ref => { this.webView = ref; }} style={{ height: '100%' }} src={decodeURIComponent(this.props.match.params.url)} preload={`${app.getAppPath()}/electron/Preload`} />\r\n\t\t\t\t</WindowContent>\r\n\t\t\t</Window>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ApplicationWindow;","import React, { Component } from 'react';\r\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\r\n\r\nimport MainWindow from './Windows/MainWindow';\r\nimport MainWindow2 from './Windows/MainWindow2';\r\nimport InfomationWindow from './Windows/InfomationWindow';\r\nimport PermissionWindow from './Windows/PermissionWindow';\r\nimport MenuWindow from './Windows/MenuWindow';\r\n\r\nimport SuggestWindow from './Windows/SuggestWindow';\r\nimport AuthenticationWindow from './Windows/AuthenticationWindow';\r\n\r\nimport TranslateWindow from './Windows/TranslateWindow';\r\n\r\nimport ApplicationWindow from './Windows/ApplicationWindow';\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<HashRouter>\r\n\t\t\t\t<Route exact path='/window/:windowId/:urls?' component={MainWindow} />\r\n\t\t\t\t<Route exact path='/window2/:windowId/:urls?' component={MainWindow2} />\r\n\t\t\t\t<Route path='/info/:windowId' component={InfomationWindow} />\r\n\t\t\t\t<Route path='/permission/:windowId' component={PermissionWindow} />\r\n\t\t\t\t<Route path='/menu/:windowId/:tabId' component={MenuWindow} />\r\n\r\n\t\t\t\t<Route path='/suggest/:windowId' component={SuggestWindow} />\r\n\t\t\t\t<Route path='/authentication/:windowId' component={AuthenticationWindow} />\r\n\t\t\t\t\r\n\t\t\t\t<Route path='/extensions/translate/:windowId' component={TranslateWindow} />\r\n\r\n\t\t\t\t<Route path='/app/:windowId/:url' component={ApplicationWindow} />\r\n\t\t\t</HashRouter>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.body);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}